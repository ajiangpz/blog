<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/ajiangpz.github.io/blog/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/ajiangpz.github.io/blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/ajiangpz.github.io/blog/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/ajiangpz.github.io/blog/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/ajiangpz.github.io/blog/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/ajiangpz.github.io/blog/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/ajiangpz.github.io/blog/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="Pzzz&#39;s FE Blog">
<meta property="og:url" content="https://ajiangpz.github.io/blog/index.html">
<meta property="og:site_name" content="Pzzz&#39;s FE Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Pzzz&#39;s FE Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/ajiangpz.github.io/blog/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://ajiangpz.github.io/blog/">





  <title>Pzzz's FE Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/ajiangpz.github.io/blog/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Pzzz's FE Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/ajiangpz.github.io/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/ajiangpz.github.io/blog/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://ajiangpz.github.io/blog/ajiangpz.github.io/blog/2019/10/06/æ•°ç»„/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/ajiangpz.github.io/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/ajiangpz.github.io/blog/2019/10/06/æ•°ç»„/" itemprop="url">æ•°ç»„</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-06T16:47:12+08:00">
                2019-10-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="æ‰©å±•è¿ç®—ç¬¦"><a href="#æ‰©å±•è¿ç®—ç¬¦" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦"></a>æ‰©å±•è¿ç®—ç¬¦</h3><p>æ‰©å±•è¿ç®—ç¬¦ï¼ˆspreadï¼‰æ˜¯ä¸‰ä¸ªç‚¹ï¼ˆâ€¦ï¼‰ã€‚å®ƒå¥½æ¯” rest å‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚ä¸»è¦ç”¨äºå‡½æ•°è°ƒç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">x, y, z</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y + z;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(sum(...arr));</span><br></pre></td></tr></table></figure>
<p>æ‰©å±•è¿ç®—ç¬¦åå¯ä»¥æ”¾è¡¨è¾¾å¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">const</span> arr = [...(x &gt; <span class="number">0</span> ? [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] : [<span class="number">-1</span>, <span class="number">-2</span>, <span class="number">-3</span>])];</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line"><span class="comment">//[1, 2, 3];</span></span><br></pre></td></tr></table></figure>
<p>æ‰©å±•è¿ç®—ç¬¦å¯ä»¥ä»£æ›¿ applyï¼Œä¼ é€’æ•°ç»„å‚æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.max(...[<span class="number">12</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">34</span>]);</span><br><span class="line"><span class="keyword">let</span> arr = [];</span><br><span class="line">arr.push(...[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]);</span><br></pre></td></tr></table></figure>
<p>å¤åˆ¶æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> a2 = [...a1];</span><br></pre></td></tr></table></figure>
<p>åˆå¹¶æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a1 = [</span><br><span class="line">  &#123;</span><br><span class="line">    foo: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"><span class="keyword">const</span> a2 = [</span><br><span class="line">  &#123;</span><br><span class="line">    bar: <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"><span class="keyword">const</span> a3 = a1.concat(a2);</span><br><span class="line"><span class="keyword">const</span> a4 = [...a1, ...a2];</span><br><span class="line">a3[<span class="number">0</span>] === a4[<span class="number">0</span>]; <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ç”¨æ‰©å±•è¿ç®—ç¬¦å’Œ concat æ–¹æ³•åˆå¹¶äº† a1ï¼Œa2 ä¸¤ä¸ªæ•°ç»„ï¼Œä½†æ˜¯ a1 å’Œ a2 æ•°ç»„ä¸­æ˜¯å¯¹è±¡ï¼Œå› æ­¤æ‹·è´çš„çŸ¥è¯†æŒ‡å‘è¿™äº›å¯¹è±¡çš„æŒ‡é’ˆï¼Œæ‰€ä»¥ä»–ä»¬çš„å€¼æ˜¯ç›¸ç­‰çš„ã€‚</p>
<p>ä¸è§£æ„èµ‹å€¼ç»“åˆ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[a, ...rest] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="built_in">console</span>.log(rest);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [first, ...rest] = [];</span><br><span class="line">first; <span class="comment">// undefined</span></span><br><span class="line">rest; <span class="comment">// []</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœå°†æ‰©å±•è¿ç®—ç¬¦ç”¨äºæ•°ç»„èµ‹å€¼ï¼Œåªèƒ½æ”¾åœ¨å‚æ•°çš„æœ€åä¸€ä½ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [...butLast, last] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [first, ...middle, last] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure>
<p>å°†å­—ç¬¦ä¸²è½¬ä¸ºä¸ºçœŸæ­£çš„æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[...<span class="string">"hello"</span>];</span><br></pre></td></tr></table></figure>
<p>é‚£å°±æ˜¯èƒ½å¤Ÿæ­£ç¡®è¯†åˆ«å››ä¸ªå­—èŠ‚çš„ Unicode å­—ç¬¦<br><code>\uD83D\uDE80</code>è¡¨ç¤º ğŸš€</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[...<span class="string">"x\uD83D\uDE80y"</span>].length; <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p>åªè¦å†…éƒ¨å…·æœ‰ Iterator æ¥å£çš„å¯¹è±¡ï¼Œâ€¦éƒ½å¯ä»¥è§£æè½¬ä¸ºä¸ºæ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> nodeList = <span class="built_in">document</span>.querySelectorAll(<span class="string">"div"</span>);</span><br><span class="line"><span class="keyword">let</span> array = [...nodeList];</span><br></pre></td></tr></table></figure>
<p>å› ä¸º nodeList å…·æœ‰ Iterator æ¥å£ï¼Œæ‰€ä»¥å¯ä»¥å°†å…¶æ‰©å±•ä¸ºæ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayLike = &#123;</span><br><span class="line">  <span class="string">"0"</span>: <span class="string">"a"</span>,</span><br><span class="line">  <span class="string">"1"</span>: <span class="string">"b"</span>,</span><br><span class="line">  <span class="string">"2"</span>: <span class="string">"c"</span>,</span><br><span class="line">  length: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// TypeError: Cannot spread non-iterable object.</span></span><br><span class="line"><span class="keyword">let</span> arr = [...arrayLike];</span><br></pre></td></tr></table></figure>
<p>ç±»ä¼¼æ•°ç»„å¯¹è±¡æ— æ³•æ‰©å±•ï¼Œå› ä¸ºå…¶æ²¡æœ‰ iterator æ¥å£ã€‚</p>
<p>Map ç»“æ„ï¼ŒSet ç»“æ„ï¼ŒGenerator å‡½æ•°éƒ½å¯ä»¥è¢«æ‰©å±•ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> go = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">[...go()]; <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://ajiangpz.github.io/blog/ajiangpz.github.io/blog/2019/10/06/å‡½æ•°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/ajiangpz.github.io/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/ajiangpz.github.io/blog/2019/10/06/å‡½æ•°/" itemprop="url">å‡½æ•°</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-06T11:49:50+08:00">
                2019-10-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="å‚æ•°é»˜è®¤å€¼"><a href="#å‚æ•°é»˜è®¤å€¼" class="headerlink" title="å‚æ•°é»˜è®¤å€¼"></a>å‚æ•°é»˜è®¤å€¼</h3><p>ES6 å…è®¸ä¸ºå‡½æ•°çš„å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œå³ç›´æ¥å†™åœ¨å‚æ•°å®šä¹‰çš„åé¢ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name = <span class="string">"xiaoming"</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`hello,<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line">sayHi();</span><br><span class="line">sayHi(<span class="string">"xiaohong"</span>);</span><br></pre></td></tr></table></figure>
<p>å‚æ•°å˜é‡æ˜¯é»˜è®¤å£°æ˜çš„ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ let æˆ– const å†æ¬¡å£°æ˜ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setLang</span>(<span class="params">lang = <span class="string">"en"</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> lang = <span class="string">"ch"</span>; <span class="comment">//ä½†æ˜¯å¯ä»¥ç”¨varå†æ¬¡å£°æ˜</span></span><br><span class="line">  <span class="built_in">console</span>.log(lang); <span class="comment">//Identifier 'lang' has already been declared</span></span><br><span class="line">&#125;</span><br><span class="line">setLang();</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å‚æ•°é»˜è®¤å€¼æ—¶ï¼Œå‡½æ•°ä¸èƒ½æœ‰åŒåå‚æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸æŠ¥é”™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">x, x, y</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x, x, y);</span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>); <span class="comment">//12,12,13</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x, x, y = <span class="number">1</span></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// SyntaxError: Duplicate parameter name not allowed in this context</span></span><br></pre></td></tr></table></figure>
<p>å‚æ•°é»˜è®¤å€¼ä¸æ˜¯ä¼ å€¼çš„ï¼Œè€Œæ˜¯æ¯æ¬¡éƒ½é‡æ–°è®¡ç®—é»˜è®¤å€¼è¡¨è¾¾å¼çš„å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‚æ•°é»˜è®¤å€¼æ˜¯æƒ°æ€§æ±‚å€¼çš„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> i++;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> getNumber = fn();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logNum</span>(<span class="params">num = getNumber(</span>)) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(num);</span><br><span class="line">&#125;</span><br><span class="line">logNum(); <span class="comment">//0</span></span><br><span class="line">logNum(); <span class="comment">//1</span></span><br><span class="line">logNum(); <span class="comment">//2</span></span><br></pre></td></tr></table></figure>
<h4 id="ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨"><a href="#ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨" class="headerlink" title="ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨"></a>ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">&#123; x, y = <span class="number">2</span> &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x, y);</span><br><span class="line">&#125;</span><br><span class="line">foo(&#123;&#125;); <span class="comment">//undefined 2</span></span><br><span class="line">foo(&#123;</span><br><span class="line">  x: <span class="number">1</span>,</span><br><span class="line">  y: <span class="number">3</span></span><br><span class="line">&#125;); <span class="comment">//1 3</span></span><br><span class="line">foo(&#123;</span><br><span class="line">  x: <span class="number">1</span></span><br><span class="line">&#125;); <span class="comment">//1,2</span></span><br><span class="line">foo(); <span class="comment">//Cannot destructure property `x` of 'undefined' or 'null'</span></span><br></pre></td></tr></table></figure>
<p>å½“æ²¡ä¼ å…¥è§£æ„çš„å‚æ•°æ—¶ï¼Œundefined æ—¶æ— æ³•è¢«è§£æ„çš„ï¼Œå› æ­¤ä¼šæŠ¥é”™ã€‚<br>éœ€è¦ç»™éœ€è¦çš„è§£æ„çš„å‡½æ•°å‚æ•°æä¾›ä¸€ä¸ªé»˜è®¤å€¼ã€‚å³</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">&#123; x, y = <span class="number">2</span> &#125; = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x, y);</span><br><span class="line">&#125;</span><br><span class="line">foo(); <span class="comment">//undefined 2</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‡½æ•°å‚æ•°å…·æœ‰åŒé‡é»˜è®¤å€¼ï¼Œå½“æ²¡æœ‰ä¼ å…¥å‚æ•°æ—¶ï¼Œé»˜è®¤è§£æ„çš„å¯¹è±¡æ˜¯ç©ºå¯¹è±¡ã€‚å½“æœ‰å¯¹è±¡ä¼ å…¥æ—¶ï¼Œå¦‚æœæ²¡æœ‰å¯¹è±¡çš„å±æ€§åï¼Œé‚£ä¹ˆ y çš„é»˜è®¤å€¼å°±æ˜¯ 2ã€‚</p>
<h4 id="å‚æ•°é»˜è®¤å€¼çš„ä½ç½®"><a href="#å‚æ•°é»˜è®¤å€¼çš„ä½ç½®" class="headerlink" title="å‚æ•°é»˜è®¤å€¼çš„ä½ç½®"></a>å‚æ•°é»˜è®¤å€¼çš„ä½ç½®</h4><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œå®šä¹‰äº†é»˜è®¤å€¼çš„å‚æ•°ï¼Œåº”è¯¥æ˜¯å‡½æ•°çš„å°¾å‚æ•°ã€‚å¦‚æœéå°¾éƒ¨çš„å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œå®é™…ä¸Šè¿™ä¸ªå‚æ•°æ˜¯æ²¡æ³•çœç•¥çš„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¾‹ä¸€</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x = <span class="number">1</span>, y</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [x, y];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f() <span class="comment">// [1, undefined]</span></span><br><span class="line">f(<span class="number">2</span>) <span class="comment">// [2, undefined])</span></span><br><span class="line">f(, <span class="number">1</span>) <span class="comment">// æŠ¥é”™</span></span><br><span class="line">f(<span class="literal">undefined</span>, <span class="number">1</span>) <span class="comment">// [1, 1]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾‹äºŒ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, y = <span class="number">5</span>, z</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [x, y, z];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f() <span class="comment">// [undefined, 5, undefined]</span></span><br><span class="line">f(<span class="number">1</span>) <span class="comment">// [1, 5, undefined]</span></span><br><span class="line">f(<span class="number">1</span>, ,<span class="number">2</span>) <span class="comment">// æŠ¥é”™</span></span><br><span class="line">f(<span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>) <span class="comment">// [1, 5, 2]</span></span><br></pre></td></tr></table></figure>
<h4 id="å‡½æ•°çš„-length-å±æ€§"><a href="#å‡½æ•°çš„-length-å±æ€§" class="headerlink" title="å‡½æ•°çš„ length å±æ€§"></a>å‡½æ•°çš„ length å±æ€§</h4><p>æŒ‡å®šäº†é»˜è®¤å€¼ä»¥åï¼Œå‡½æ•°çš„ length å±æ€§ï¼Œå°†è¿”å›æ²¡æœ‰æŒ‡å®šé»˜è®¤å€¼çš„å‚æ•°ä¸ªæ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŒ‡å®šäº†é»˜è®¤å€¼åï¼Œlength å±æ€§å°†å¤±çœŸã€‚length å±æ€§çš„å«ä¹‰æ˜¯ï¼Œè¯¥å‡½æ•°é¢„æœŸä¼ å…¥çš„å‚æ•°ä¸ªæ•°ã€‚æŸä¸ªå‚æ•°æŒ‡å®šé»˜è®¤å€¼ä»¥åï¼Œé¢„æœŸä¼ å…¥çš„å‚æ•°ä¸ªæ•°å°±ä¸åŒ…æ‹¬è¿™ä¸ªå‚æ•°äº†ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;&#125;</span><br><span class="line">  .length(</span><br><span class="line">    <span class="comment">// 1</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">a = <span class="number">5</span></span>) </span>&#123;&#125;</span><br><span class="line">  )</span><br><span class="line">  .length(</span><br><span class="line">    <span class="comment">// 0</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">a, b, c = <span class="number">5</span></span>) </span>&#123;&#125;</span><br><span class="line">  ).length); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœè®¾ç½®äº†é»˜è®¤å€¼çš„å‚æ•°ä¸æ˜¯å°¾å‚æ•°ï¼Œé‚£ä¹ˆ length å±æ€§ä¹Ÿä¸å†è®¡å…¥åé¢çš„å‚æ•°äº†ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a = <span class="number">0</span>, b, c</span>) </span>&#123;&#125;.length(</span><br><span class="line">  <span class="comment">// 0</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">a, b = <span class="number">1</span>, c</span>) </span>&#123;&#125;</span><br><span class="line">).length); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h4 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h4><p>ä¸€æ—¦è®¾ç½®äº†å‚æ•°çš„é»˜è®¤å€¼ï¼Œå‡½æ•°è¿›è¡Œå£°æ˜åˆå§‹åŒ–æ—¶ï¼Œå‚æ•°ä¼šå½¢æˆä¸€ä¸ªå•ç‹¬çš„ä½œç”¨åŸŸã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, y = x</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//å½¢æˆå•ç‹¬çš„ä½œç”¨åŸŸ</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(y);</span><br><span class="line">&#125;</span><br><span class="line">f(); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<p>y=x ä¼šåœ¨å‡½æ•°å‚æ•°ä½œç”¨åŸŸä¸­å¯»æ‰¾ x å˜é‡ï¼Œæ‰¾ä¸åˆ°æ‰ä¼šåˆ°å…¨å±€ä½œç”¨åŸŸæ‰¾ã€‚<br>å¦‚æœå…¨å±€ä¸å­˜åœ¨ x å˜é‡ï¼Œå°±ä¼šæŠ¥é”™</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">y = x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">2</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f(); <span class="comment">// ReferenceError: x is not defined</span></span><br></pre></td></tr></table></figure>
<p>ç”±äºæš‚æ—¶æ€§æ­»åŒºçš„åŸå› ï¼Œä»¥ä¸‹ä»£ç ä¹Ÿä¼šæŠ¥é”™</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x = x</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(); <span class="comment">// ReferenceError: x is not defined</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœå‡½æ•°å‚æ•°çš„é»˜è®¤å‚æ•°æ˜¯ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‡½æ•°çš„ä½œç”¨åŸŸä¹Ÿä¼šå½¢æˆä¸€ä¸ªå•ç‹¬çš„ä½œç”¨åŸŸï¼Œè§„åˆ™è·Ÿä¸Šè¿°ä¸€æ ·ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> foo = <span class="string">"outer"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">func = (</span>) =&gt; <span class="title">foo</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> foo = <span class="string">"inner"</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(func());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bar(); <span class="comment">// outer</span></span><br></pre></td></tr></table></figure>
<p>å½“å‡½æ•°å‚æ•°å…·æœ‰é»˜è®¤å€¼æ—¶ï¼Œä¸ç®¡å‡½æ•°å‚æ•°æ˜¯ä»€ä¹ˆï¼Œä»–ä»¬éƒ½ä¼šåœ¨ä¸€ä¸ªä½œç”¨åŸŸä¸­ã€‚å¦‚ä¸‹ä¾‹ï¼Œå˜é‡ y é»˜è®¤å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¸ç¬¬ä¸€ä¸ªå‚æ•° x åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸­ï¼Œé»˜è®¤å€¼å‡½æ•°ä¸­çš„ x å®é™…ä¸Šæ˜¯ç¬¬ä¸€ä¸ªå‚æ•° xï¼Œå› æ­¤ y ä¸­æ”¹å˜ä¸ä¼šå½±å“å¤–éƒ¨çš„ xï¼Œä¹Ÿä¸ä¼šå½±å“å†…éƒ¨çš„ xã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  x,</span></span></span><br><span class="line"><span class="function"><span class="params">  y = function(</span>) </span>&#123;</span><br><span class="line">    x = <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="keyword">var</span> x = <span class="number">3</span>;</span><br><span class="line">  y();</span><br><span class="line">  <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(); <span class="comment">// 3</span></span><br><span class="line">x; <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h4 id="é»˜è®¤å€¼çš„åº”ç”¨"><a href="#é»˜è®¤å€¼çš„åº”ç”¨" class="headerlink" title="é»˜è®¤å€¼çš„åº”ç”¨"></a>é»˜è®¤å€¼çš„åº”ç”¨</h4><p>åœ¨å‚æ•°æ˜¯å¿…é¡»çš„æ—¶å€™ï¼Œå¯ä»¥å°†å‚æ•°çš„é»˜è®¤å€¼è®¾ç½®ä¸ºä¸€ä¸ªæŠ¥é”™çš„å‡½æ•°ï¼Œå¦‚æœçœç•¥äº†è¯¥å‚æ•°å°±æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  name = (function(</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"name must provided!"</span>);</span><br><span class="line">  &#125;)()</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"hi,"</span> + name);</span><br><span class="line">&#125;</span><br><span class="line">sayHi(<span class="string">"peter"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="rest-å‚æ•°"><a href="#rest-å‚æ•°" class="headerlink" title="rest å‚æ•°"></a>rest å‚æ•°</h3><p>ç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨ arguments å¯¹è±¡äº†ã€‚rest å‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚<br>åˆ©ç”¨ rest å‚æ•°æ±‚å’Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">...value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> v <span class="keyword">of</span> value) &#123;</span><br><span class="line">    sum += v;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>));</span><br></pre></td></tr></table></figure>
<p>ç›¸æ¯” arguments å‚æ•°è¿™ç§ç±»æ•°ç»„å¯¹è±¡ï¼Œrest å‚æ•°æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œä¸éœ€è¦è½¬åŒ–ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sort</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>).sort();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sort(<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>));</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sort</span>(<span class="params">...numbers</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> numbers.sort();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sort(<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>));</span><br></pre></td></tr></table></figure>
<h3 id="name-å±æ€§"><a href="#name-å±æ€§" class="headerlink" title="name å±æ€§"></a>name å±æ€§</h3><p>ES6 çš„å‡½æ•°å¯ä»¥çš„ name å±æ€§å¯ä»¥è¿”å›å‡½æ•°çš„åç§°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// console.log(this.name)</span></span><br><span class="line">  <span class="built_in">console</span>.log(fn.name);</span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br></pre></td></tr></table></figure>
<p>Function æ„é€ å‡½æ•°è¿”å›çš„å‡½æ•°å®ä¾‹ï¼Œname å±æ€§çš„å€¼ä¸º anonymousã€‚bind è¿”å›çš„å‡½æ•°ï¼Œname å±æ€§å€¼ä¼šåŠ ä¸Š bound å‰ç¼€ã€‚</p>
<h3 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h3><p>ç®­å¤´å‡½æ•°æ²¡æœ‰å‚æ•°æˆ–è€…æœ‰å¤šä¸ªå‚æ•°æ—¶ï¼Œéœ€è¦ç”¨åœ†æ‹¬å·ä»£æ›¿å‚æ•°æˆ–è€…å°†å¤šä¸ªå‚æ•°åŒ…å›´èµ·æ¥ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°å¯ä»¥çœç•¥åœ†æ‹¬å·ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="params">v</span> =&gt;</span> v;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> v;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="params">()</span> =&gt;</span> <span class="number">5</span>;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sum = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span> num1 + num2;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœç®­å¤´å‡½æ•°çš„ä»£ç å—å¤šäºä¸€å¥ï¼Œåˆ™éœ€è¦ç”¨å¤§æ‹¬å·å°†å…¶æ‹¬èµ·æ¥ï¼Œå¹¶ä½¿ç”¨ return è¯­å¥è¿”å›ã€‚<br>ç®­å¤´å‡½æ•°ä¸å˜é‡è§£æ„ç»“åˆä½¿ç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> full = <span class="function">(<span class="params">&#123; first, last &#125;</span>) =&gt;</span> first + <span class="string">" "</span> + last;</span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">  full(&#123;</span><br><span class="line">    first: <span class="string">"jiang"</span>,</span><br><span class="line">    last: <span class="string">"pengzhen"</span></span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ç®­å¤´å‡½æ•°çš„æ³¨æ„</p>
<ol>
<li>ç®­å¤´å‡½æ•°çš„ <code>this</code> å¯¹è±¡å°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚</li>
<li>ä¸å¯ä»¥å½“æ„é€ å‡½æ•°ä½¿ç”¨ï¼Œå³ä¸å¯ä»¥ä½¿ç”¨ <code>new</code> å‘½ä»¤ã€‚</li>
<li>ä¸èƒ½ä½¿ç”¨ <code>arguments</code> å¯¹è±¡ï¼Œå¯ä»¥ç”¨ <code>rest</code> å‚æ•°ä»£æ›¿ã€‚</li>
<li>ä¸å¯ä»¥ä½¿ç”¨ <code>yield</code> å‘½åï¼Œä¸èƒ½ç”¨ä½œ <code>generator</code> å‡½æ•°ã€‚</li>
</ol>
<p>ç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰ thisï¼Œargumentsï¼Œsuperï¼Œè¿™äº›å¯¹è±¡éƒ½æ˜¯ä»è¯æ³•ä½œç”¨åŸŸä¸­è·å–çš„ã€‚å› æ­¤ç”¨ callï¼Œbindï¼Œapply ç­‰æ–¹æ³•æ˜¯æ— æ³•æ”¹å˜ç®­å¤´å‡½æ•°ä¸­çš„ this æŒ‡å‘çš„ã€‚<br>ç¨³å®šçš„ this æŒ‡å‘ï¼Œä½¿ç®­å¤´å‡½æ•°éå¸¸é€‚åˆç”¨æ¥å°è£…å›è°ƒå‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> handler = &#123;</span><br><span class="line">  id: <span class="string">"123456"</span>,</span><br><span class="line"></span><br><span class="line">  init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(</span><br><span class="line">      <span class="string">"click"</span>,</span><br><span class="line">      event =&gt; <span class="keyword">this</span>.doSomething(event.type),</span><br><span class="line">      <span class="literal">false</span></span><br><span class="line">    );</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  doSomething: <span class="function"><span class="keyword">function</span>(<span class="params">type</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Handling "</span> + type + <span class="string">" for "</span> + <span class="keyword">this</span>.id);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å½“ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®æ—¶ï¼Œæ™®é€šå‡½æ•°å›è°ƒå‡½æ•°çš„ this ä¸€èˆ¬ä¼šæŒ‡å‘ document å¯¹è±¡ï¼Œè¿™æ ·å°±å®¹æ˜“å‡ºç° this å¯¹è±¡ä¸Šæ²¡æœ‰ç›¸åº”çš„æ–¹æ³•ï¼Œç®­å¤´å‡½æ•°è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>ç®­å¤´å‡½æ•°ä¸é€‚åˆçš„åœºæ™¯</p>
<ol>
<li>åœ¨å¯¹è±¡ä¸­å®šä¹‰æ–¹æ³•ã€‚<br>åœ¨å¯¹è±¡ä¸­å®šä¹‰æ–¹æ³•ï¼Œç”±äºå¯¹è±¡å…ˆæ²¡æœ‰å•ç‹¬çš„ä½œç”¨åŸŸï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸­çš„ this ä¼šæŒ‡å‘å…¨å±€ä½œç”¨åŸŸï¼ŒåŒæ—¶ä¹Ÿä¸æ–¹ä¾¿å¯¹è±¡æ–¹æ³•çš„å¤ç”¨ã€‚</li>
<li><p>éœ€è¦åŠ¨æ€ this çš„åœºæ™¯ä½¿ç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> button = <span class="built_in">document</span>.getElementById(<span class="string">"press"</span>);</span><br><span class="line">button.addEventListener(<span class="string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">this</span>.classList.toggle(<span class="string">"on"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>åµŒå¥—çš„ç®­å¤´å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> insert = <span class="function"><span class="params">value</span> =&gt;</span> (&#123;</span><br><span class="line">  into: <span class="function"><span class="params">array</span> =&gt;</span> (&#123;</span><br><span class="line">    after: <span class="function"><span class="params">afterValue</span> =&gt;</span> &#123;</span><br><span class="line">      array.splice(array.indexOf(afterValue) + <span class="number">1</span>, <span class="number">0</span>, value);</span><br><span class="line">      <span class="keyword">return</span> array;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">insert(<span class="number">2</span>)</span><br><span class="line">  .into([<span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line">  .after(<span class="number">1</span>); <span class="comment">//[1, 2, 3]</span></span><br></pre></td></tr></table></figure>
<h3 id="å°¾è°ƒç”¨ä¼˜åŒ–"><a href="#å°¾è°ƒç”¨ä¼˜åŒ–" class="headerlink" title="å°¾è°ƒç”¨ä¼˜åŒ–"></a>å°¾è°ƒç”¨ä¼˜åŒ–</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://ajiangpz.github.io/blog/ajiangpz.github.io/blog/2019/10/06/symbol/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/ajiangpz.github.io/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/ajiangpz.github.io/blog/2019/10/06/symbol/" itemprop="url">symbol</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-06T10:59:29+08:00">
                2019-10-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Symbol-çš„å®šä¹‰"><a href="#Symbol-çš„å®šä¹‰" class="headerlink" title="Symbol çš„å®šä¹‰"></a>Symbol çš„å®šä¹‰</h3><p>Symbol æ˜¯ JavaScript ç¬¬å…­ç§åŸºæœ¬ç±»å‹ï¼Œä»£è¡¨ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼ã€‚</p>
<h3 id="Symbol-çš„åˆ›å»º"><a href="#Symbol-çš„åˆ›å»º" class="headerlink" title="Symbol çš„åˆ›å»º"></a>Symbol çš„åˆ›å»º</h3><p>ç”±äº Symbol æ˜¯åŸºæœ¬ç±»å‹ï¼Œå› æ­¤ä¸èƒ½ç”¨ new Symbol()æ¥åˆ›å»ºï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚<br>åˆ›å»ºä¸€ä¸ªæ— æ ‡è®°çš„ Symbol</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="built_in">Symbol</span>();</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºä¸€ä¸ªæœ‰æ ‡è®°çš„ Symbolï¼Œä¸»è¦ç›®çš„æ–¹ä¾¿åŒºåˆ†ä¸åŒçš„ Symbolï¼Œå¦åˆ™æ‰“å°å‡ºæ¥éƒ½æ˜¯ Symbol();</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="built_in">Symbol</span>(<span class="string">"foo"</span>);</span><br><span class="line"><span class="keyword">var</span> bar = <span class="built_in">Symbol</span>(<span class="string">"bar"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(foo, bar);</span><br><span class="line"><span class="comment">//Symbol(foo) Symbol(bar)</span></span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ Symbol.for(key)ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç±»ä¼¼äºå•ä¾‹æ¨¡å¼çš„ Symbolï¼Œä»¥åæ¯ä¸€æ¬¡è°ƒç”¨ Symbol.for(key)éƒ½æ˜¯è¿”å›åŒä¸€ä¸ªå¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="built_in">Symbol</span>.for(<span class="string">"foo"</span>);</span><br><span class="line"><span class="keyword">var</span> bar = <span class="built_in">Symbol</span>.for(<span class="string">"foo"</span>);</span><br><span class="line"><span class="keyword">var</span> fee = <span class="built_in">Symbol</span>(<span class="string">"foo"</span>);</span><br><span class="line"><span class="keyword">var</span> bee = <span class="built_in">Symbol</span>(<span class="string">"foo"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(foo === bar); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(fee === bee); <span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒSymbol.for ä¸º Symbol å€¼ç™»è®°çš„åå­—ï¼Œæ˜¯å…¨å±€ç¯å¢ƒçš„ï¼Œå¯ä»¥åœ¨ä¸åŒçš„ iframe æˆ– service worker ä¸­å–åˆ°åŒä¸€ä¸ªå€¼ã€‚<br>é€šè¿‡è°ƒç”¨ Symbol.keyfor(symbol å€¼)ï¼Œå¯ä»¥å¾—åˆ°è¯¥ Symbol å€¼åˆ›å»ºæ—¶å¯¹åº”çš„ keyã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="built_in">Symbol</span>.for(<span class="string">"foo"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Symbol</span>.keyFor(<span class="string">"foo"</span>));</span><br></pre></td></tr></table></figure>
<h3 id="Symbol-ä½œä¸ºå±æ€§å€¼"><a href="#Symbol-ä½œä¸ºå±æ€§å€¼" class="headerlink" title="Symbol ä½œä¸ºå±æ€§å€¼"></a>Symbol ä½œä¸ºå±æ€§å€¼</h3><p>åœ¨å¯¹è±¡çš„å†…éƒ¨ï¼Œä½¿ç”¨ Symbol å€¼å®šä¹‰å±æ€§æ—¶ï¼ŒSymbol å€¼å¿…é¡»æ”¾åœ¨æ–¹æ‹¬å·ä¹‹ä¸­ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> mySymbol = <span class="built_in">Symbol</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸€ç§å†™æ³•</span></span><br><span class="line"><span class="keyword">let</span> a = &#123;&#125;;</span><br><span class="line">a[mySymbol] = <span class="string">"Hello!"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒç§å†™æ³•</span></span><br><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  [mySymbol]: <span class="string">"Hello!"</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸‰ç§å†™æ³•</span></span><br><span class="line"><span class="keyword">let</span> a = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(a, mySymbol, &#123; <span class="attr">value</span>: <span class="string">"Hello!"</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸Šå†™æ³•éƒ½å¾—åˆ°åŒæ ·ç»“æœ</span></span><br><span class="line">a[mySymbol]; <span class="comment">// "Hello!"</span></span><br></pre></td></tr></table></figure>
<h3 id="Symbol-å±æ€§å€¼çš„éå†"><a href="#Symbol-å±æ€§å€¼çš„éå†" class="headerlink" title="Symbol å±æ€§å€¼çš„éå†"></a>Symbol å±æ€§å€¼çš„éå†</h3><p>Symbol ä½œä¸ºå±æ€§åï¼Œè¯¥å±æ€§ä¸ä¼šå‡ºç°åœ¨ <code>for...in</code>ã€<code>for...of</code>å¾ªç¯ä¸­ï¼Œä¹Ÿä¸ä¼šè¢«<code>Object.keys()</code>ã€<code>Object.getOwnPropertyNames()</code>ã€<code>JSON.stringify()</code>è¿”å›ã€‚<br>ä½†æ˜¯ï¼Œå®ƒä¹Ÿä¸æ˜¯ç§æœ‰å±æ€§ï¼Œæœ‰ä¸€ä¸ª <code>Object.getOwnPropertySymbols</code> æ–¹æ³•ï¼Œå¯ä»¥è·å–æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰ <code>Symbol</code> å±æ€§åã€‚<br><code>Object.getOwnPropertySymbols</code> æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å½“å‰å¯¹è±¡çš„æ‰€æœ‰ç”¨ä½œå±æ€§åçš„ <code>Symbol</code> å€¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> a = <span class="built_in">Symbol</span>(<span class="string">"a"</span>);</span><br><span class="line"><span class="keyword">let</span> b = <span class="built_in">Symbol</span>(<span class="string">"b"</span>);</span><br><span class="line"></span><br><span class="line">obj[a] = <span class="string">"Hello"</span>;</span><br><span class="line">obj[b] = <span class="string">"World"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objectSymbols = <span class="built_in">Object</span>.getOwnPropertySymbols(obj);</span><br><span class="line"></span><br><span class="line">objectSymbols;</span><br><span class="line"><span class="comment">// [Symbol(a), Symbol(b)]</span></span><br></pre></td></tr></table></figure>
<h3 id="å†…ç½®çš„-Symbol-å€¼"><a href="#å†…ç½®çš„-Symbol-å€¼" class="headerlink" title="å†…ç½®çš„ Symbol å€¼"></a>å†…ç½®çš„ Symbol å€¼</h3><h4 id="Symbol-hasInstance"><a href="#Symbol-hasInstance" class="headerlink" title="Symbol.hasInstance"></a>Symbol.hasInstance</h4><p>å½“å…¶ä»–å¯¹è±¡ä½¿ç”¨ instanceof è¿ç®—ç¬¦ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºè¯¥å¯¹è±¡çš„å®ä¾‹æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line">  [<span class="built_in">Symbol</span>.hasInstance](foo) &#123;</span><br><span class="line">    <span class="keyword">return</span> foo <span class="keyword">instanceof</span> <span class="built_in">Array</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] <span class="keyword">instanceof</span> <span class="keyword">new</span> MyClass(); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h4 id="Symbol-isConcatSpreadable"><a href="#Symbol-isConcatSpreadable" class="headerlink" title="Symbol.isConcatSpreadable"></a>Symbol.isConcatSpreadable</h4><p>å¯¹è±¡çš„ <code>Symbol.isConcatSpreadable</code> å±æ€§ç­‰äºä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å¯¹è±¡ç”¨äº <code>Array.prototype.concat()</code>æ—¶ï¼Œæ˜¯å¦å¯ä»¥å±•å¼€ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr2 = [<span class="string">"c"</span>, <span class="string">"d"</span>];</span><br><span class="line">arr2[<span class="built_in">Symbol</span>.isConcatSpreadable] = <span class="literal">false</span>;</span><br><span class="line">[<span class="string">"a"</span>, <span class="string">"b"</span>].concat(arr2, <span class="string">"e"</span>); <span class="comment">// ['a', 'b', ['c','d'], 'e']</span></span><br></pre></td></tr></table></figure>
<p>ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡æ­£å¥½ç›¸åï¼Œé»˜è®¤ä¸å±•å¼€ã€‚å®ƒçš„ <code>Symbol.isConcatSpreadable</code> å±æ€§è®¾ä¸º trueï¼Œæ‰å¯ä»¥å±•å¼€ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">length</span>: <span class="number">2</span>, <span class="number">0</span>: <span class="string">"c"</span>, <span class="number">1</span>: <span class="string">"d"</span> &#125;;</span><br><span class="line">[<span class="string">"a"</span>, <span class="string">"b"</span>].concat(obj, <span class="string">"e"</span>); <span class="comment">// ['a', 'b', obj, 'e']</span></span><br><span class="line"></span><br><span class="line">obj[<span class="built_in">Symbol</span>.isConcatSpreadable] = <span class="literal">true</span>;</span><br><span class="line">[<span class="string">"a"</span>, <span class="string">"b"</span>].concat(obj, <span class="string">"e"</span>); <span class="comment">// ['a', 'b', 'c', 'd', 'e']</span></span><br></pre></td></tr></table></figure>
<p><code>Symbol.isConcatSpreadable</code>å±æ€§ä¹Ÿå¯ä»¥å®šä¹‰åœ¨ç±»é‡Œé¢</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A1</span> <span class="keyword">extends</span> <span class="title">Array</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(args) &#123;</span><br><span class="line">    <span class="keyword">super</span>(args);</span><br><span class="line">    <span class="keyword">this</span>[<span class="built_in">Symbol</span>.isConcatSpreadable] = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A2</span> <span class="keyword">extends</span> <span class="title">Array</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(args) &#123;</span><br><span class="line">    <span class="keyword">super</span>(args);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">get</span> [Symbol.isConcatSpreadable]() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a1 = <span class="keyword">new</span> A1();</span><br><span class="line">a1[<span class="number">0</span>] = <span class="number">3</span>;</span><br><span class="line">a1[<span class="number">1</span>] = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">let</span> a2 = <span class="keyword">new</span> A2();</span><br><span class="line">a2[<span class="number">0</span>] = <span class="number">5</span>;</span><br><span class="line">a2[<span class="number">1</span>] = <span class="number">6</span>;</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>].concat(a1).concat(a2);</span><br><span class="line"><span class="comment">// [1, 2, 3, 4, [5, 6]]</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç±» A1 æ˜¯å¯å±•å¼€çš„ï¼Œç±» A2 æ˜¯ä¸å¯å±•å¼€çš„ï¼Œæ‰€ä»¥ä½¿ç”¨ <code>concat</code> æ—¶æœ‰ä¸ä¸€æ ·çš„ç»“æœã€‚</p>
<p>æ³¨æ„ï¼Œ<code>Symbol.isConcatSpreadable</code> çš„ä½ç½®å·®å¼‚ï¼ŒA1 æ˜¯å®šä¹‰åœ¨å®ä¾‹ä¸Šï¼ŒA2 æ˜¯å®šä¹‰åœ¨ç±»æœ¬èº«ï¼Œæ•ˆæœç›¸åŒã€‚</p>
<h3 id="Symbol-çš„åº”ç”¨"><a href="#Symbol-çš„åº”ç”¨" class="headerlink" title="Symbol çš„åº”ç”¨"></a>Symbol çš„åº”ç”¨</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://ajiangpz.github.io/blog/ajiangpz.github.io/blog/2019/10/05/å­—ç¬¦ä¸²/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/ajiangpz.github.io/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/ajiangpz.github.io/blog/2019/10/05/å­—ç¬¦ä¸²/" itemprop="url">å­—ç¬¦ä¸²</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-05T10:20:39+08:00">
                2019-10-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="å­—ç¬¦ä¸²çš„-Unicode-è¡¨ç¤ºæ³•"><a href="#å­—ç¬¦ä¸²çš„-Unicode-è¡¨ç¤ºæ³•" class="headerlink" title="å­—ç¬¦ä¸²çš„ Unicode è¡¨ç¤ºæ³•"></a>å­—ç¬¦ä¸²çš„ Unicode è¡¨ç¤ºæ³•</h3><p>åœ¨ ES6 ä¹‹å‰ï¼Œç”¨ unicode è¡¨ç¤ºå­—ç¬¦åªèƒ½ä»â€™\u0000â€™åˆ°â€™\uffffâ€™ï¼Œå› æ­¤è¡¨ç¤ºä¸€ä¸ªåŒå­—èŠ‚çš„å­—ç¬¦éœ€è¦</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'\uD842\uDFB7'</span>ã€‚<span class="comment">//"ğ ®·"</span></span><br></pre></td></tr></table></figure>
<p>è€Œåœ¨ ES6 ä¸­åªéœ€å°† Unicode ç¼–ç æ”¾åœ¨å¤§æ‹¬å·ä¸­ï¼Œå°±å¯ä»¥è§£æäº†ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"\u&#123;20BB7&#125;"</span>; <span class="comment">//"ğ ®·"</span></span><br></pre></td></tr></table></figure>
<p>è¡¨ç¤ºå­—ç¬¦çš„å…­ç§æ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"z"</span>;</span><br><span class="line"><span class="string">"\z"</span>;</span><br><span class="line"><span class="string">"\172"</span>; <span class="comment">//å…«è¿›åˆ¶</span></span><br><span class="line"><span class="string">"\x7a"</span>;</span><br><span class="line"><span class="string">"\u007a"</span>;</span><br><span class="line"><span class="string">"\u&#123;7a&#125;"</span>;</span><br></pre></td></tr></table></figure>
<h3 id="å­—ç¬¦ä¸²éå†å™¨æ¥å£"><a href="#å­—ç¬¦ä¸²éå†å™¨æ¥å£" class="headerlink" title="å­—ç¬¦ä¸²éå†å™¨æ¥å£"></a>å­—ç¬¦ä¸²éå†å™¨æ¥å£</h3><p>å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£ä½¿å…¶å¯ä»¥ä½¿ç”¨ forâ€¦ofâ€¦éå†æ¯ä¸ªå­—ç¬¦ï¼ŒåŒæ—¶è¿˜å¯ä»¥è¯†åˆ« Unicode ç¼–ç å¤§äºâ€™\uffffâ€™çš„ç ç‚¹ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> text = <span class="built_in">String</span>.fromCodePoint(<span class="string">"0x10bb5"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> text) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i); <span class="comment">//ğ ®·</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ¨¡æ¿å­—ç¬¦ä¸²"><a href="#æ¨¡æ¿å­—ç¬¦ä¸²" class="headerlink" title="æ¨¡æ¿å­—ç¬¦ä¸²"></a>æ¨¡æ¿å­—ç¬¦ä¸²</h3><p>æ¨¡æ¿å­—ç¬¦ä¸²ä¼šä¿ç•™æ¢è¡Œå’Œç©ºæ ¼ï¼Œå¯ä»¥ç”¨<code>trim</code>å‡½æ•°æ¶ˆé™¤å¤´å°¾çš„ç©ºæ ¼å’Œæ¢è¡Œã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;ul&gt;</span></span><br><span class="line"><span class="string">  &lt;li&gt;aaa&lt;/li&gt;</span></span><br><span class="line"><span class="string">  &lt;li&gt;bbb&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;/ul&gt;</span></span><br><span class="line"><span class="string">`</span>.trim();</span><br></pre></td></tr></table></figure>
<p>æ¨¡æ¿å­—ç¬¦ä¸²ä¸­å¯ä»¥æ”¾å…¥ä»»æ„çš„ JavaScript è¡¨è¾¾å¼ï¼Œå¯¹è±¡å±æ€§ï¼Œå‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"hello"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> x = <span class="number">2</span>,</span><br><span class="line">  y = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">let</span> str = <span class="string">`<span class="subst">$&#123;fn()&#125;</span>,x+y=<span class="subst">$&#123;x + y&#125;</span>`</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">//hello,x+y=5</span></span><br></pre></td></tr></table></figure>
<p>æ¨¡æ¿å­—ç¬¦ä¸²çš„åµŒå¥—</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tmpl = <span class="function"><span class="params">addrs</span> =&gt;</span> <span class="string">`</span></span><br><span class="line"><span class="string">  &lt;table&gt;</span></span><br><span class="line"><span class="string">  <span class="subst">$&#123;addrs</span></span></span><br><span class="line"><span class="string"><span class="subst">    .map(</span></span></span><br><span class="line"><span class="string"><span class="subst">      addr =&gt; <span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    &lt;tr&gt;&lt;td&gt;<span class="subst">$&#123;addr.first&#125;</span>&lt;/td&gt;&lt;/tr&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    &lt;tr&gt;&lt;td&gt;<span class="subst">$&#123;addr.last&#125;</span>&lt;/td&gt;&lt;/tr&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">  `</span></span></span></span><br><span class="line"><span class="string"><span class="subst">    )</span></span></span><br><span class="line"><span class="string"><span class="subst">    .join(<span class="string">""</span>)&#125;</span></span></span><br><span class="line"><span class="string">  &lt;/table&gt;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"><span class="keyword">const</span> data = [</span><br><span class="line">  &#123;</span><br><span class="line">    first: <span class="string">"&lt;Jane&gt;"</span>,</span><br><span class="line">    last: <span class="string">"Bond"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    first: <span class="string">"Lars"</span>,</span><br><span class="line">    last: <span class="string">"&lt;Croft&gt;"</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"><span class="built_in">console</span>.log(tmpl(data));</span><br><span class="line"><span class="comment">// &lt;table&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   &lt;tr&gt;&lt;td&gt;&lt;Jane&gt;&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="comment">//   &lt;tr&gt;&lt;td&gt;Bond&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   &lt;tr&gt;&lt;td&gt;Lars&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="comment">//   &lt;tr&gt;&lt;td&gt;&lt;Croft&gt;&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;/table&gt;</span></span><br></pre></td></tr></table></figure>
<p>å­—ç¬¦ä¸²æ¨¡æ¿ç¼–è¯‘<br>æ€è·¯æ˜¯åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼å°†æ¨¡æ¿ä¸­çš„å˜é‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> template = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;ul&gt;</span></span><br><span class="line"><span class="string">  &lt;% for(let i=0; i &lt; data.supplies.length; i++) &#123; %&gt;</span></span><br><span class="line"><span class="string">    &lt;li&gt;&lt;%= data.supplies[i] %&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">  &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="string">&lt;/ul&gt;</span></span><br><span class="line"><span class="string">`</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compile</span>(<span class="params">template</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> evalExpr = <span class="regexp">/&lt;%=(.+?)%&gt;/g</span>;</span><br><span class="line">  <span class="keyword">const</span> expr = <span class="regexp">/&lt;%([\s\S]+?)%&gt;/g</span>;</span><br><span class="line"></span><br><span class="line">  template = template</span><br><span class="line">    .replace(evalExpr, <span class="string">"`); \n  echo( $1 ); \n  echo(`"</span>)</span><br><span class="line">    .replace(expr, <span class="string">"`); \n $1 \n  echo(`"</span>);</span><br><span class="line"></span><br><span class="line">  template = <span class="string">"echo(`"</span> + template + <span class="string">"`);"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> script = <span class="string">`(function parse(data)&#123;</span></span><br><span class="line"><span class="string">    let output = "";</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    function echo(html)&#123;</span></span><br><span class="line"><span class="string">      output += html;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    <span class="subst">$&#123;template&#125;</span></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    return output;</span></span><br><span class="line"><span class="string">  &#125;)`</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> script;</span><br><span class="line">&#125; <span class="comment">//è¿”å›ä¸€ä¸ªè§£æå‡½æ•°</span></span><br><span class="line"><span class="keyword">var</span> parse = <span class="built_in">eval</span>(compile(template)); <span class="comment">//è¿”å›è§£æå‡½æ•°</span></span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">  parse(&#123;</span><br><span class="line">    supplies: [<span class="string">"broom"</span>, <span class="string">"mop"</span>, <span class="string">"cleaner"</span>]</span><br><span class="line">  &#125;)</span><br><span class="line">); <span class="comment">//è§£æå‡½æ•°çš„å‚æ•°å°±æ˜¯æ•°æ®ï¼Œæœ€åç”Ÿæˆï¼š</span></span><br><span class="line"><span class="comment">// &lt;ul&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//     &lt;li&gt;broom&lt;/li&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//     &lt;li&gt;mop&lt;/li&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//     &lt;li&gt;cleaner&lt;/li&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;/ul&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="æ ‡ç­¾æ¨¡æ¿"><a href="#æ ‡ç­¾æ¨¡æ¿" class="headerlink" title="æ ‡ç­¾æ¨¡æ¿"></a>æ ‡ç­¾æ¨¡æ¿</h3><p>æ¨¡æ¿å­—ç¬¦ä¸²å®ƒå¯ä»¥ç´§è·Ÿåœ¨ä¸€ä¸ªå‡½æ•°ååé¢ï¼Œè¯¥å‡½æ•°å°†è¢«è°ƒç”¨æ¥å¤„ç†è¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ã€‚è¿™è¢«ç§°ä¸ºâ€œæ ‡ç­¾æ¨¡æ¿â€åŠŸèƒ½ï¼ˆtagged templateï¼‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alert<span class="string">`123`</span>;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line">alert(<span class="number">123</span>);</span><br></pre></td></tr></table></figure>
<p>æ ‡ç­¾æ¨¡æ¿å…¶å®ä¸æ˜¯æ¨¡æ¿ï¼Œè€Œæ˜¯å‡½æ•°è°ƒç”¨çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ã€‚â€œæ ‡ç­¾â€æŒ‡çš„å°±æ˜¯å‡½æ•°ï¼Œç´§è·Ÿåœ¨åé¢çš„æ¨¡æ¿å­—ç¬¦ä¸²å°±æ˜¯å®ƒçš„å‚æ•°ã€‚</p>
<p>å½“æ¨¡æ¿å­—ç¬¦ä¸²ä¸­æœ‰å˜é‡æ—¶ï¼Œä¼šå°†æ¨¡æ¿å­—ç¬¦ä¸²å…ˆå¤„ç†ä¸ºå¤šä¸ªå‚æ•°ï¼Œå†è°ƒç”¨å‡½æ•°ã€‚<br>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„çš„æˆå‘˜æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ä¸­é‚£äº›æ²¡æœ‰å˜é‡æ›¿æ¢çš„éƒ¨åˆ†ï¼Œå…¶ä»–å‚æ•°ï¼Œéƒ½æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²å„ä¸ªå˜é‡è¢«æ›¿æ¢åçš„å€¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">tag<span class="string">`Hello <span class="subst">$&#123;a + b&#125;</span> world <span class="subst">$&#123;a * b&#125;</span>`</span>;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line">tag([<span class="string">"Hello "</span>, <span class="string">" world "</span>, <span class="string">""</span>], <span class="number">15</span>, <span class="number">50</span>);</span><br></pre></td></tr></table></figure>
<p>åˆ©ç”¨æ ‡ç­¾æ¨¡æ¿è®¡ç®—ç”Ÿæˆç¨å‰ç¨åä»·æ ¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> total = <span class="number">30</span>;</span><br><span class="line"><span class="keyword">let</span> msg = passthru<span class="string">`The total is <span class="subst">$&#123;total&#125;</span> (<span class="subst">$&#123;total * <span class="number">1.05</span>&#125;</span> with tax)`</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">passthru</span>(<span class="params">literals, ...values</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> output = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">let</span> index;</span><br><span class="line">  <span class="keyword">for</span> (index = <span class="number">0</span>; index &lt; values.length; index++) &#123;</span><br><span class="line">    output += literals[index] + values[index];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  output += literals[index];</span><br><span class="line">  <span class="keyword">return</span> output;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(msg);</span><br><span class="line"><span class="comment">//The total is 30 (31.5 with tax)</span></span><br></pre></td></tr></table></figure>
<p>â€œæ ‡ç­¾æ¨¡æ¿â€çš„ä¸€ä¸ªé‡è¦åº”ç”¨ï¼Œå°±æ˜¯è¿‡æ»¤ HTML å­—ç¬¦ä¸²ï¼Œé˜²æ­¢ç”¨æˆ·è¾“å…¥æ¶æ„å†…å®¹ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> message = SaferHTML<span class="string">`&lt;p&gt;<span class="subst">$&#123;sender&#125;</span> has sent you a message.&lt;/p&gt;`</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SaferHTML</span>(<span class="params">templateData</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> s = templateData[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; <span class="built_in">arguments</span>.length; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> arg = <span class="built_in">String</span>(<span class="built_in">arguments</span>[i]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Escape special characters in the substitution.</span></span><br><span class="line">    s += arg</span><br><span class="line">      .replace(<span class="regexp">/&amp;/g</span>, <span class="string">"&amp;amp;"</span>)</span><br><span class="line">      .replace(<span class="regexp">/&lt;/g</span>, <span class="string">"&amp;lt;"</span>)</span><br><span class="line">      .replace(<span class="regexp">/&gt;/g</span>, <span class="string">"&amp;gt;"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Don't escape special characters in the template.</span></span><br><span class="line">    s += templateData[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sender = <span class="string">'&lt;script&gt;alert("abc")&lt;/script&gt;'</span>; <span class="comment">// æ¶æ„ä»£ç </span></span><br><span class="line"><span class="keyword">let</span> message = SaferHTML<span class="string">`&lt;p&gt;<span class="subst">$&#123;sender&#125;</span> has sent you a message.&lt;/p&gt;`</span>;</span><br></pre></td></tr></table></figure>
<p>æ ‡ç­¾æ¨¡æ¿çš„å¦ä¸€ä¸ªåº”ç”¨ï¼Œå°±æ˜¯å¤šè¯­è¨€è½¬æ¢ï¼ˆå›½é™…åŒ–å¤„ç†ï¼‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i18n<span class="string">`Welcome to <span class="subst">$&#123;siteName&#125;</span>, you are visitor number <span class="subst">$&#123;visitorNumber&#125;</span>!`</span>;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡æ ‡ç­¾å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å­—ç¬¦ä¸²å‰è‡ªå®šä¹‰æ¨¡æ¿è§£æå‡½æ•°ï¼Œé€šè¿‡è§£æè¯­å¥å’Œè·å–å˜é‡å®ç°æ¨¡æ¿è§£æã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> libraryHtml = hashTemplate<span class="string">`</span></span><br><span class="line"><span class="string">  &lt;ul&gt;</span></span><br><span class="line"><span class="string">    #for book in <span class="subst">$&#123;myBooks&#125;</span></span></span><br><span class="line"><span class="string">      &lt;li&gt;&lt;i&gt;#&#123;book.title&#125;&lt;/i&gt; by #&#123;book.author&#125;&lt;/li&gt;</span></span><br><span class="line"><span class="string">    #end</span></span><br><span class="line"><span class="string">  &lt;/ul&gt;</span></span><br><span class="line"><span class="string">`</span>;</span><br></pre></td></tr></table></figure>
<p>å­—ç¬¦ä¸²çš„æ–°å¢æ–¹æ³•<br><a href="http://es6.ruanyifeng.com/#docs/string-methods" target="_blank" rel="noopener">http://es6.ruanyifeng.com/#docs/string-methods</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://ajiangpz.github.io/blog/ajiangpz.github.io/blog/2019/10/04/è§£æ„èµ‹å€¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/ajiangpz.github.io/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/ajiangpz.github.io/blog/2019/10/04/è§£æ„èµ‹å€¼/" itemprop="url">è§£æ„èµ‹å€¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-04T15:54:43+08:00">
                2019-10-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="æ•°ç»„çš„è§£æ„èµ‹å€¼"><a href="#æ•°ç»„çš„è§£æ„èµ‹å€¼" class="headerlink" title="æ•°ç»„çš„è§£æ„èµ‹å€¼"></a>æ•°ç»„çš„è§£æ„èµ‹å€¼</h3><p>å®Œå…¨è§£æ„èµ‹å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, b, c] = [<span class="number">12</span>, <span class="number">34</span>, <span class="number">54</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a, b, c); <span class="comment">//12 34 54</span></span><br></pre></td></tr></table></figure>
<p>ä¸å®Œå…¨è§£æ„èµ‹å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> [a, b, c] = [<span class="number">12</span>];</span><br></pre></td></tr></table></figure>
<p>åµŒå¥—è§£æ„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, [b], ...c] = [<span class="number">2</span>, [<span class="number">1</span>, <span class="number">2</span>], <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a, b, c); <span class="comment">//2 1 [ 1, 2, 3 ]</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>â€¦c è¡¨ç¤ºå‰©ä½™çš„å‚æ•°ï¼Œåªèƒ½æ”¾åˆ°æ•°ç»„çš„æœ€å</p>
</blockquote>
<p>è§£æ„èµ‹å€¼æ—¶ï¼Œå³è¾¹çš„æ•°æ®ç»“æ„å¿…é¡»å…·å¤‡ iterator æ¥å£ï¼Œå³å¯è¿­ä»£ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"1234"</span>); <span class="comment">//å­—ç¬¦ä¸²æ˜¯å¯è¿­ä»£çš„</span></span><br><span class="line"><span class="keyword">var</span> [a, b, c, d] = str;</span><br><span class="line"><span class="built_in">console</span>.log(a, b, c, d); <span class="comment">//1234</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>number,undefined,null,nan,boolean,{}ï¼Œéƒ½æ˜¯ä¸å¯è¿­ä»£çš„ã€‚</p>
</blockquote>
<p>è§£æ„èµ‹å€¼æ—¶å¯ä»¥è®¾ç½®é»˜è®¤å€¼ï¼Œé»˜è®¤å€¼å¯ä»¥å¼•ç”¨è§£æ„èµ‹å€¼çš„å…¶ä»–å˜é‡ï¼Œä½†è¯¥å˜é‡å¿…é¡»å·²ç»å£°æ˜ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[a, b = <span class="number">1</span>] = [<span class="number">2</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a, b);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[a = <span class="number">2</span>, b = a] = [];</span><br><span class="line"><span class="built_in">console</span>.log(a, b);</span><br></pre></td></tr></table></figure>
<h3 id="å¯¹è±¡çš„è§£æ„èµ‹å€¼"><a href="#å¯¹è±¡çš„è§£æ„èµ‹å€¼" class="headerlink" title="å¯¹è±¡çš„è§£æ„èµ‹å€¼"></a>å¯¹è±¡çš„è§£æ„èµ‹å€¼</h3><p>å¯¹è±¡çš„æ¨¡å¼åŒ¹é…ä¸éœ€è¦æŒ‰é¡ºåºåŒ¹é…ï¼Œè€Œæ˜¯æŒ‰å±æ€§ååŒ¹é…ï¼Œå¦‚æœåŒ¹é…ä¸åˆ°åˆ™ä¸º undefinedã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; bar, foo &#125; = &#123;</span><br><span class="line">  foo: <span class="string">"aaa"</span>,</span><br><span class="line">  bar: <span class="string">"bbb"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(foo, bar);</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå˜é‡åéƒ½æ˜¯å’Œå±æ€§åä¸€è‡´çš„ï¼Œå¦‚ä¸Šè¿°ä¾‹å­ç­‰ä»·äº</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; <span class="attr">bar</span>: bar, <span class="attr">foo</span>: foo &#125; = &#123; <span class="attr">foo</span>: <span class="string">"aaa"</span>, <span class="attr">bar</span>: <span class="string">"bbb"</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(foo, bar);</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå˜é‡åå’Œå±æ€§åä¸ä¸€è‡´ï¼Œé‚£ä¹ˆåº”è¯¥è¿™ä¹ˆä¹¦å†™</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; <span class="attr">bar</span>: a, <span class="attr">foo</span>: b &#125; = &#123; <span class="attr">foo</span>: <span class="string">"aaa"</span>, <span class="attr">bar</span>: <span class="string">"bbb"</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a, b);</span><br><span class="line"><span class="comment">//å…¶ä¸­barï¼Œfooéƒ½æ˜¯æ¨¡å¼åŒ¹é…ä¸­çš„æ¨¡å¼ï¼Œè€Œaï¼Œbæ‰æ˜¯çœŸæ­£çš„å˜é‡</span></span><br></pre></td></tr></table></figure>
<p>å¯¹è±¡çš„åµŒå¥—è§£æ„èµ‹å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;</span><br><span class="line">  foo: &#123; bar &#125;</span><br><span class="line">&#125; = &#123;</span><br><span class="line">  foo: &#123;</span><br><span class="line">    bar: <span class="string">"aaaaa"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(bar); <span class="comment">//aaaaa</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;</span><br><span class="line">  foo: &#123; bar &#125;</span><br><span class="line">&#125; = &#123;</span><br><span class="line">  baz: &#123;</span><br><span class="line">    bar: <span class="string">"aaaaa"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(bar); <span class="comment">//Cannot destructure property `bar` of 'undefined' or 'null'.</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>foo æ¨¡å¼åŒ¹é…ä¸åˆ°è¿”å› undefinedï¼Œundefined ä¸èƒ½è¢«è§£æ„</p>
</blockquote>
<p>å¯¹è±¡é»˜è®¤å€¼ç”Ÿæ•ˆçš„æ¡ä»¶æ˜¯ç­‰å·å³è¾¹çš„å¯¹è±¡å¯¹åº”çš„å±æ€§å€¼ä¸¥æ ¼ç­‰äº undefinedã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; a = <span class="string">"a"</span>, b = <span class="string">"b"</span> &#125; = &#123;</span><br><span class="line">  a: <span class="literal">undefined</span>,</span><br><span class="line">  b: <span class="literal">null</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a, b); <span class="comment">//a,null</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å·²ç»ç”¨ let å£°æ˜çš„å˜é‡ï¼Œåœ¨è§£æ„èµ‹å€¼æ—¶ï¼Œåº”è¯¥åŠ ä¸Šåœ†æ‹¬å·ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x;</span><br><span class="line">(&#123; x &#125; = &#123;</span><br><span class="line">  x: <span class="number">1</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå¯ä»¥ç”¨ä¸‹æ ‡è¡¨ç¤ºå±æ€§åè¿›è¡Œå¯¹è±¡çš„è§£æ„èµ‹å€¼ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> &#123; <span class="number">0</span>: first, [arr.length - <span class="number">1</span>]: last &#125; = arr;</span><br><span class="line"><span class="built_in">console</span>.log(first, last);</span><br></pre></td></tr></table></figure>
<h3 id="å…¶ä»–æ•°æ®ç±»å‹çš„è§£æ„èµ‹å€¼"><a href="#å…¶ä»–æ•°æ®ç±»å‹çš„è§£æ„èµ‹å€¼" class="headerlink" title="å…¶ä»–æ•°æ®ç±»å‹çš„è§£æ„èµ‹å€¼"></a>å…¶ä»–æ•°æ®ç±»å‹çš„è§£æ„èµ‹å€¼</h3><p>å­—ç¬¦ä¸²åœ¨è§£æ„èµ‹å€¼æ—¶ä¼šè½¬åŒ–ä¸ºä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, b, c, d, e] = <span class="string">"12345"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a, b, c, d, e); <span class="comment">//1 2 3 4 5</span></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">length</span>: len &#125; = <span class="string">"12345"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(len); <span class="comment">//5</span></span><br></pre></td></tr></table></figure>
<p>å¸ƒå°”å€¼å’Œæ•°å€¼ç±»å‹åœ¨è§£æ„èµ‹å€¼æ—¶ä¼šå…ˆè½¬åŒ–ä¸ºå¯¹åº”çš„åŒ…è£…å¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; toFixed &#125; = <span class="number">2</span>; <span class="comment">//è½¬åŒ–ä¸ºNumberå¯¹è±¡</span></span><br><span class="line"><span class="built_in">console</span>.log(toFixed);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; <span class="attr">toString</span>: tos &#125; = <span class="string">"str"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(tos === <span class="built_in">String</span>.prototype.toString); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p>undefined å’Œ null ä¸å¯ä»¥è½¬åŒ–ä¸ºå¯¹è±¡ï¼Œå› æ­¤ä¸å¯ä»¥è§£æ„èµ‹å€¼ã€‚</p>
<h3 id="å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼"><a href="#å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼" class="headerlink" title="å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼"></a>å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">[x, y]</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(add([<span class="number">1</span>, <span class="number">2</span>]));</span><br><span class="line"><span class="comment">//[x,y]=[1,2]</span></span><br></pre></td></tr></table></figure>
<p>è™½ç„¶è¡¨é¢çœ‹ä¸Šå»å‡½æ•°çš„å‚æ•°æ˜¯æ•°ç»„ï¼Œä½†æ˜¯ä¼ å…¥å‚æ•°é‚£ä¸€åˆ»ï¼Œæ•°ç»„å‚æ•°å°±è¢«è§£æ„æˆå˜é‡ x å’Œ yã€‚<br>ä¸ºå‡½æ•°å‚æ•°çš„å˜é‡å³ x,y è®¾ç½®é»˜è®¤å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">&#123; x = <span class="number">0</span>, y = <span class="number">0</span> &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x, y);</span><br><span class="line">&#125;</span><br><span class="line">move(&#123;</span><br><span class="line">  x: <span class="number">1</span></span><br><span class="line">&#125;); <span class="comment">//1 0</span></span><br></pre></td></tr></table></figure>
<p>ä¸ºå‡½æ•°å‚æ•°æœ¬èº«è®¾ç½®é»˜è®¤å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  &#123; x, y &#125; = &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">    x: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">    y: <span class="number">0</span></span></span></span><br><span class="line"><span class="function"><span class="params">  &#125;</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x, y);</span><br><span class="line">&#125;</span><br><span class="line">move(&#123;</span><br><span class="line">  x: <span class="number">1</span>,</span><br><span class="line">  y: <span class="number">2</span></span><br><span class="line">&#125;); <span class="comment">//1 2</span></span><br><span class="line">move(&#123;</span><br><span class="line">  x: <span class="number">1</span></span><br><span class="line">&#125;); <span class="comment">// 1 undefined</span></span><br><span class="line">move(); <span class="comment">//0 0</span></span><br></pre></td></tr></table></figure>
<h3 id="è§£æ„èµ‹å€¼çš„ç”¨é€”"><a href="#è§£æ„èµ‹å€¼çš„ç”¨é€”" class="headerlink" title="è§£æ„èµ‹å€¼çš„ç”¨é€”"></a>è§£æ„èµ‹å€¼çš„ç”¨é€”</h3><p>äº¤æ¢å˜é‡çš„å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">2</span>;</span><br><span class="line">[x, y] = [y, x];</span><br><span class="line"><span class="built_in">console</span>.log(x, y); <span class="comment">//2,1</span></span><br></pre></td></tr></table></figure>
<p>è§£æ„å‡½æ•°è¿”å›çš„å¯¹è±¡æˆ–è€…æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>];</span><br><span class="line">&#125;</span><br><span class="line">[a, b, c] = example();</span><br><span class="line"><span class="built_in">console</span>.log(a, b, c);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    foo: <span class="number">1</span>,</span><br><span class="line">    bar: <span class="number">2</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123; foo, bar &#125; = example1();</span><br><span class="line"><span class="built_in">console</span>.log(foo, bar);</span><br></pre></td></tr></table></figure>
<p>å‡½æ•°å‚æ•°çš„å®šä¹‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">[x, y, z]</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//å‚æ•°æ˜¯æœ‰åºçš„</span></span><br><span class="line">  <span class="built_in">console</span>.log(x, y, z);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params">&#123; foo, bar, baz &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//å‚æ•°æ˜¯æ— åºçš„</span></span><br><span class="line">  <span class="built_in">console</span>.log(foo, bar, baz);</span><br><span class="line">&#125;</span><br><span class="line">f([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line">f2(&#123;</span><br><span class="line">  foo: <span class="string">"foo"</span>,</span><br><span class="line">  bar: <span class="string">"bar"</span>,</span><br><span class="line">  baz: <span class="string">"baz"</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>æå– json æ•°æ®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> jsonData = &#123;</span><br><span class="line">  id: <span class="number">42</span>,</span><br><span class="line">  status: <span class="string">"ok"</span>,</span><br><span class="line">  data: [<span class="number">867</span>, <span class="number">5309</span>]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> &#123; id, status, <span class="attr">data</span>: number &#125; = jsonData;</span><br><span class="line"><span class="built_in">console</span>.log(id, status, number);</span><br></pre></td></tr></table></figure>
<p>å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">jQuery.ajax = <span class="function"><span class="keyword">function</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  url,</span></span></span><br><span class="line"><span class="function"><span class="params">  &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">    async = true,</span></span></span><br><span class="line"><span class="function"><span class="params">    beforeSend = function(</span>) </span>&#123;&#125;,</span><br><span class="line">    cache = <span class="literal">true</span>,</span><br><span class="line">    complete = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">    crossDomain = <span class="literal">false</span>,</span><br><span class="line">    global = <span class="literal">true</span></span><br><span class="line">    <span class="comment">// ... more config</span></span><br><span class="line">  &#125; = &#123;&#125;</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="comment">// ... do stuff</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>éå† Map ç»“æ„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">map.set(<span class="string">"first"</span>, <span class="string">"hello"</span>);</span><br><span class="line">map.set(<span class="string">"second"</span>, <span class="string">"world"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key + <span class="string">" is "</span> + value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// first is hello</span></span><br><span class="line"><span class="comment">// second is world</span></span><br></pre></td></tr></table></figure>
<p>è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; SourceMapConsumer, SourceNode &#125; = <span class="built_in">require</span>(<span class="string">"source-map"</span>);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://ajiangpz.github.io/blog/ajiangpz.github.io/blog/2019/10/04/let-and-const/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/ajiangpz.github.io/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/ajiangpz.github.io/blog/2019/10/04/let-and-const/" itemprop="url">let-and-const</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-04T11:25:59+08:00">
                2019-10-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>let</code>ä¸å­˜åœ¨å˜é‡æå‡ï¼ŒåŒæ—¶<code>let</code>è¿˜ä¼šç»‘å®šæ‰€åœ¨çš„ä»£ç å—ï¼Œå³å¤§æ‹¬å·åŒ…å«çš„åŒºåŸŸã€‚åœ¨è¿™ä¸ªä»£ç å—å†…å¦‚æœåœ¨<code>let</code>å£°æ˜ä¹‹å‰ä½¿ç”¨å˜é‡ï¼Œå°±ä¼šæŠ¥<code>ReferenceError</code>é”™è¯¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">//undefined</span></span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">  <span class="comment">//varå­˜åœ¨å˜é‡æå‡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">3</span>;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">//ReferenceError: a is not defined</span></span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//letä½¿å˜é‡aç»‘å®šäº†å—çº§ä½œç”¨åŸŸï¼Œå‡ºç°äº†æš‚æ—¶æ€§æ­»åŒºï¼Œç”±äºletä¸å­˜åœ¨å˜é‡æå‡ï¼Œå› æ­¤å‡ºç°äº†ReferenceErrorã€‚</span></span><br></pre></td></tr></table></figure>
<p><code>let</code> ä¸å¯ä»¥é‡å¤å£°æ˜å˜é‡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//3</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">let</span> a = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//æŠ¥é”™</span></span><br></pre></td></tr></table></figure>
<p><code>let</code>å—çº§ä½œç”¨åŸŸå’Œå‡½æ•°å£°æ˜<br>åœ¨ ES6 ä¸­å¯ä»¥åœ¨å—çº§ä½œç”¨åŸŸä¸­å£°æ˜å‡½æ•°ï¼Œå£°æ˜è¡Œä¸ºç±»ä¼¼äº<code>let</code>ã€‚ä½†æ˜¯åœ¨å®é™… ES6 æµè§ˆå™¨ä¸­ï¼Œå‡½æ•°å£°æ˜æœ‰è‡ªå·±çš„æ–¹å¼ã€‚<br>å…è®¸åœ¨å—çº§ä½œç”¨åŸŸå£°æ˜å‡½æ•°ï¼Œå¹¶ä¸”å‡½æ•°ä¼šæå‡åˆ°è¯¥å—çº§ä½œç”¨åŸŸé¡¶éƒ¨ï¼ŒåŒæ—¶ä¼šæå‡åˆ°å…¨å±€ä½œç”¨åŸŸæˆ–è€…å‡½æ•°ä½œç”¨åŸŸé¡¶éƒ¨<br>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//let f=undefined;</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"aaa"</span>);</span><br><span class="line">    &#125; <span class="comment">//å‡½æ•°å£°æ˜æå‡åˆ°åŒ…å«å‡½æ•°é¡¶éƒ¨=&gt;let f=undefined;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(foo); <span class="comment">//undefined</span></span><br><span class="line">&#125;)();</span><br><span class="line"><span class="built_in">console</span>.log(foo); <span class="comment">//ReferenceError: foo is not defined</span></span><br></pre></td></tr></table></figure>
<p>ç”±äºä¸åŒç¯å¢ƒä¸‹é€ æˆçš„å·®å¼‚è¾ƒå¤§ï¼Œå› æ­¤åœ¨å—çº§ä½œç”¨åŸŸä¸­åº”è¯¥é¿å…å£°æ˜å‡½æ•°ï¼Œæˆ–è€…åº”è¯¥ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼ã€‚</p>
<p><code>const</code>å£°æ˜å˜é‡çš„è¡Œä¸ºä¸<code>let</code>åŸºæœ¬ä¸€è‡´ï¼Œ<code>const</code>è¡¨ç¤ºå£°æ˜ä¸€ä¸ªå¸¸é‡ï¼Œä¸åŒå¤šæ¬¡èµ‹å€¼ï¼Œå› æ­¤ä¸€å®šè¦åœ¨å£°æ˜çš„æ—¶å€™åŒæ—¶åˆå§‹åŒ–ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo;<span class="comment">//Missing initializer in const declaration</span></span><br><span class="line">foo = <span class="string">'bar'</span>;</span><br></pre></td></tr></table></figure>
<p>å½“<code>const</code>å£°æ˜çš„å¸¸é‡æ˜¯ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šä¸å˜æ€§æŒ‡çš„åªæ˜¯å¯¹è±¡çš„åœ°å€å€¼ä¿æŒä¸å˜ã€‚å› æ­¤å †ä¸­çš„å¯¹è±¡çš„å±æ€§å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œ<code>const</code>æ˜¯ä¸ä¼šæŠ¥é”™çš„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = &#123;</span><br><span class="line">  a: <span class="string">"bar"</span></span><br><span class="line">&#125;;</span><br><span class="line">foo.a = <span class="string">"baz"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(foo); <span class="comment">//&#123; a: 'baz' &#125;</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯å½“å¸¸é‡çš„åœ°å€å€¼æ”¹å˜äº†ï¼Œæ­¤æ—¶å¸¸é‡çš„å€¼å°±çœŸæ­£æ”¹å˜äº†ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = &#123;</span><br><span class="line">  a: <span class="string">"bar"</span></span><br><span class="line">&#125;;</span><br><span class="line">foo.a = <span class="string">"baz"</span>;</span><br><span class="line">foo = &#123;</span><br><span class="line">  <span class="comment">//æŒ‡å‘äº†æ–°çš„å¯¹è±¡</span></span><br><span class="line">  b: <span class="string">"bar"</span></span><br><span class="line">&#125;; <span class="comment">//Assignment to constant variable.</span></span><br></pre></td></tr></table></figure>
<p>è¦åŒ…æŒå¯¹è±¡çš„ä¸å˜æ€§ï¼Œå¯ä»¥å¯¹å¯¹è±¡è¿›è¡Œå°è£…æˆ–è€…å†»ç»“ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.preventExtensions(obj); <span class="comment">//ç¦æ­¢æ‰©å±•å±æ€§</span></span><br><span class="line"><span class="built_in">Object</span>.seal(obj); <span class="comment">//ç¦æ­¢æ‰©å±•å±æ€§ï¼Œç¦æ­¢é…ç½®å’Œåˆ é™¤å·²æœ‰å±æ€§</span></span><br><span class="line"><span class="built_in">Object</span>.freeze(obj); <span class="comment">//é™¤äº†ä»¥ä¸Šï¼Œæ‰€æœ‰å±æ€§çš„writableä¸ºfalse</span></span><br></pre></td></tr></table></figure>
<p>ES6 ä¸­ä¸€å…±æœ‰å…­ç§å£°æ˜å˜é‡çš„æ–¹æ³•ï¼š<code>var</code>ï¼Œ<code>function</code>ï¼Œ<code>let</code>ï¼Œ<code>const</code>ï¼Œ<code>class</code>ï¼Œ<code>import</code></p>
<p>é¡¶å±‚å¯¹è±¡çš„å±æ€§<br><code>var</code>ï¼Œ<code>function</code>å£°æ˜çš„å…¨å±€å˜é‡ä¾æ—§æ˜¯é¡¶çº§å¯¹è±¡çš„å±æ€§ï¼Œ<code>let</code>ï¼Œ<code>const</code>ï¼Œ<code>class</code>å‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ä¸å±äºé¡¶çº§å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">"foo"</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">"bar"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.a); <span class="comment">//foo</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.b); <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">"foo"</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">"bar"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(global.a); <span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(global.b); <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
<p>å¦‚ä½•è·å–å„ç§å®ç°ï¼ˆæµè§ˆå™¨ï¼Œnodeï¼Œwebworkerï¼‰é‡Œçš„é¡¶çº§å¯¹è±¡ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹æ³•ä¸€</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">window</span> !== <span class="string">"undefined"</span></span><br><span class="line">  ? <span class="built_in">window</span></span><br><span class="line">  : <span class="keyword">typeof</span> process === <span class="string">"object"</span> &amp;&amp;</span><br><span class="line">    <span class="keyword">typeof</span> <span class="built_in">require</span> === <span class="string">"function"</span> &amp;&amp;</span><br><span class="line">    <span class="keyword">typeof</span> global === <span class="string">"object"</span></span><br><span class="line">  ? global</span><br><span class="line">  : <span class="keyword">this</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹æ³•äºŒ</span></span><br><span class="line"><span class="keyword">var</span> getGlobal = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> self !== <span class="string">"undefined"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> self;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">window</span> !== <span class="string">"undefinde"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">window</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> global !== <span class="string">"undefined"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> global;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"unable to locate global object"</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://ajiangpz.github.io/blog/ajiangpz.github.io/blog/2019/09/30/Js-question/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/ajiangpz.github.io/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/ajiangpz.github.io/blog/2019/09/30/Js-question/" itemprop="url">Js-question</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-09-30T23:07:24+08:00">
                2019-09-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(name); <span class="comment">//undefined</span></span><br><span class="line">  <span class="built_in">console</span>.log(age); <span class="comment">//refererror</span></span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">"Lydia"</span>;</span><br><span class="line">  <span class="keyword">let</span> age = <span class="number">21</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>let</code>ï¼Œ<code>const</code> æ²¡æœ‰å˜é‡æå‡ï¼Œåœ¨å£°æ˜å˜é‡ä¹‹å‰è°ƒç”¨ï¼Œä¼šæŠ¥ <code>refererror</code> é”™è¯¯ã€‚å¦‚æœåŒºå—ä¸­å­˜åœ¨<em>let</em>å’Œ<em>const</em>å‘½ä»¤ï¼Œè¿™ä¸ªåŒºå—å¯¹è¿™äº›å‘½ä»¤å£°æ˜çš„å˜é‡ï¼Œä»ä¸€å¼€å§‹å°±å½¢æˆäº†å°é—­ä½œç”¨åŸŸã€‚å‡¡æ˜¯åœ¨å£°æ˜ä¹‹å‰å°±ä½¿ç”¨è¿™äº›å˜é‡ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//8</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Chameleon</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> colorChange(newColor) &#123;</span><br><span class="line">    <span class="keyword">this</span>.newColor = newColor;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.newColor;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(&#123; newColor = <span class="string">"green"</span> &#125; = &#123;&#125;) &#123;</span><br><span class="line">    <span class="keyword">this</span>.newColor = newColor;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> freddie = <span class="keyword">new</span> Chameleon(&#123; <span class="attr">newColor</span>: <span class="string">"purple"</span> &#125;);</span><br><span class="line">freddie.colorChange(<span class="string">"orange"</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//18</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkAge</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (data === &#123; <span class="attr">age</span>: <span class="number">18</span> &#125;) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"You are an adult!"</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data == &#123; <span class="attr">age</span>: <span class="number">18</span> &#125;) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"You are still an adult."</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Hmm.. You don't have an age I guess`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">checkAge(&#123; <span class="attr">age</span>: <span class="number">18</span> &#125;);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//24</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="number">1</span>: <span class="string">"a"</span>, <span class="number">2</span>: <span class="string">"b"</span>, <span class="number">3</span>: <span class="string">"c"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = new Set([1, 2, 3, 4, 5]);</span><br><span class="line"></span><br><span class="line">obj.hasOwnProperty("1");</span><br><span class="line">obj.hasOwnProperty(1);</span><br><span class="line"><span class="keyword">set</span>.has("1");</span><br><span class="line"><span class="keyword">set</span>.has(1);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//25</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="string">"one"</span>, <span class="attr">b</span>: <span class="string">"two"</span>, <span class="attr">a</span>: <span class="string">"three"</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//29</span></span><br><span class="line"><span class="keyword">const</span> a = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> b = &#123; <span class="attr">key</span>: <span class="string">"b"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> c = &#123; <span class="attr">key</span>: <span class="string">"c"</span> &#125;;</span><br><span class="line"></span><br><span class="line">a[b] = <span class="number">123</span>;</span><br><span class="line">a[c] = <span class="number">456</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a[b]);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//35</span></span><br><span class="line"><span class="number">0</span>;</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">0</span>);</span><br><span class="line">(<span class="string">""</span>);</span><br><span class="line">(<span class="string">" "</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//43</span></span><br><span class="line">[...<span class="string">"Lydia"</span>];</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//45</span></span><br><span class="line"><span class="keyword">const</span> firstPromise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(res, <span class="number">500</span>, <span class="string">"one"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> secondPromise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(res, <span class="number">100</span>, <span class="string">"two"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.race([firstPromise, secondPromise]).then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res));</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//46</span></span><br><span class="line"><span class="keyword">let</span> person = &#123; <span class="attr">name</span>: <span class="string">"Lydia"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> members = [person];</span><br><span class="line">person = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(members);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//49</span></span><br><span class="line"><span class="keyword">const</span> num = <span class="built_in">parseInt</span>(<span class="string">"7*6"</span>, <span class="number">10</span>);</span><br><span class="line"><span class="keyword">let</span> counter = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> counter;</span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> myCounter <span class="keyword">from</span> <span class="string">"./counter"</span>;</span><br><span class="line"></span><br><span class="line">myCounter += <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myCounter);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// counter.js</span></span><br><span class="line"><span class="keyword">let</span> counter = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> counter;</span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> myCounter <span class="keyword">from</span> <span class="string">"./counter"</span>;</span><br><span class="line"></span><br><span class="line">myCounter += <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myCounter);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">"Lydia"</span>;</span><br><span class="line">age = <span class="number">21</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">delete</span> name);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">delete</span> age);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123; <span class="attr">name</span>: <span class="string">"Lydia"</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">"age"</span>, &#123; <span class="attr">value</span>: <span class="number">21</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(person));</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> increaseNumber = <span class="function"><span class="params">()</span> =&gt;</span> num++;</span><br><span class="line"><span class="keyword">const</span> increasePassedNumber = <span class="function"><span class="params">number</span> =&gt;</span> number++;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> num1 = increaseNumber();</span><br><span class="line"><span class="keyword">const</span> num2 = increasePassedNumber(num1);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(num1);</span><br><span class="line"><span class="built_in">console</span>.log(num2);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//64</span></span><br><span class="line"><span class="keyword">const</span> value = &#123; <span class="attr">number</span>: <span class="number">10</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> multiply = <span class="function">(<span class="params">x = &#123; ...value &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log((x.number *= <span class="number">2</span>));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">multiply();</span><br><span class="line">multiply();</span><br><span class="line">multiply(value);</span><br><span class="line">multiply(value);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//65</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].reduce(<span class="function">(<span class="params">x, y</span>) =&gt;</span> <span class="built_in">console</span>.log(x, y));</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//67</span></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"running index.js"</span>);</span><br><span class="line"><span class="keyword">import</span> &#123; sum &#125; <span class="keyword">from</span> <span class="string">"./sum.js"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>, <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// sum.js</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"running sum.js"</span>);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> sum = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//69</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">"Lydia Hallie"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(name.padStart(<span class="number">13</span>));</span><br><span class="line"><span class="built_in">console</span>.log(name.padStart(<span class="number">2</span>));</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"ğŸ¥‘"</span> + <span class="string">"ğŸ’»"</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//71</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">startGame</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> answer = <span class="keyword">yield</span> <span class="string">"Do you love JavaScript?"</span>;</span><br><span class="line">  <span class="keyword">if</span> (answer !== <span class="string">"Yes"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Oh wow... Guess we're gone here"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"JavaScript loves you back â¤ï¸"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> game = startGame();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="comment">/* 1 */</span>); <span class="comment">// Do you love JavaScript?</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="comment">/* 2 */</span>); <span class="comment">// JavaScript loves you back â¤ï¸</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//73</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> <span class="built_in">Promise</span>.resolve(<span class="string">"I made it!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = getData();</span><br><span class="line"><span class="built_in">console</span>.log(data);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//74</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addToList</span>(<span class="params">item, list</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> list.push(item);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = addToList(<span class="string">"apple"</span>, [<span class="string">"banana"</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//75</span></span><br><span class="line"><span class="keyword">const</span> box = &#123; <span class="attr">x</span>: <span class="number">10</span>, <span class="attr">y</span>: <span class="number">20</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.freeze(box);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> shape = box;</span><br><span class="line">shape.x = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.log(shape);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//76</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">name</span>: myName &#125; = &#123; <span class="attr">name</span>: <span class="string">"Lydia"</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//84</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkAge</span>(<span class="params">age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (age &lt; <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> message = <span class="string">"Sorry, you're too young."</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> message = <span class="string">"Yay! You're old enough!"</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> message;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(checkAge(<span class="number">21</span>));</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//85</span></span><br><span class="line">fetch(<span class="string">"https://www.website.com/api/user/1"</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> res.json())</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res));</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//89</span></span><br><span class="line"><span class="comment">// module.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; <span class="string">"Hello world"</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">"Lydia"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> data <span class="keyword">from</span> <span class="string">"./module"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(data);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//92</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">giveLydiaPizza</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"Here is pizza!"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> giveLydiaChocolate = <span class="function"><span class="params">()</span> =&gt;</span></span><br><span class="line">  <span class="string">"Here's chocolate... now go hit the gym already."</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(giveLydiaPizza.prototype);</span><br><span class="line"><span class="built_in">console</span>.log(giveLydiaChocolate.prototype);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//93</span></span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  name: <span class="string">"Lydia"</span>,</span><br><span class="line">  age: <span class="number">21</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> [x, y] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(person)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//94</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getItems</span>(<span class="params">fruitList, ...args, favoriteFruit</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [...fruitList, ...args, favoriteFruit]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getItems([<span class="string">"banana"</span>, <span class="string">"apple"</span>], <span class="string">"pear"</span>, <span class="string">"orange"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//96</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">"Lydia"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person = <span class="class"><span class="keyword">class</span> <span class="title">AnotherPerson</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">"Sarah"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> member = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(member.name);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//97</span></span><br><span class="line"><span class="keyword">const</span> info = &#123;</span><br><span class="line">  [<span class="built_in">Symbol</span>(<span class="string">"a"</span>)]: <span class="string">"b"</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(info);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(info));</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//98</span></span><br><span class="line"><span class="keyword">const</span> getList = <span class="function">(<span class="params">[x, ...y]</span>) =&gt;</span> [x, y]</span><br><span class="line"><span class="keyword">const</span> getUser = <span class="function"><span class="params">user</span> =&gt;</span> &#123; <span class="attr">name</span>: user.name, <span class="attr">age</span>: user.age &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">const</span> user = &#123; <span class="attr">name</span>: <span class="string">"Lydia"</span>, <span class="attr">age</span>: <span class="number">21</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(getList(list))</span><br><span class="line"><span class="built_in">console</span>.log(getUser(user))</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//101</span></span><br><span class="line"><span class="keyword">const</span> one = <span class="literal">false</span> || &#123;&#125; || <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">const</span> two = <span class="literal">null</span> || <span class="literal">false</span> || <span class="string">""</span>;</span><br><span class="line"><span class="keyword">const</span> three = [] || <span class="number">0</span> || <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(one, two, three);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://ajiangpz.github.io/blog/ajiangpz.github.io/blog/2019/09/28/åŸå‹/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/ajiangpz.github.io/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/ajiangpz.github.io/blog/2019/09/28/åŸå‹/" itemprop="url">åŸå‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-09-28T16:38:02+08:00">
                2019-09-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>object.create</code>ä¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶æŠŠè¿™ä¸ªå¯¹è±¡çš„[prototype]å’ŒæŒ‡å®šçš„å¯¹è±¡å…³è”ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anotherObj = &#123;</span><br><span class="line">  a: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(anotherObj);</span><br><span class="line"><span class="built_in">console</span>.log(obj.a);</span><br></pre></td></tr></table></figure>
<p>å±æ€§è®¾ç½®å’Œå±è”½<br>ç»™ä¸€ä¸ªå¯¹è±¡è®¾ç½®å±æ€§æ—¶ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šå·²ç»å­˜åœ¨è¯¥å±æ€§ï¼Œæ­¤æ—¶ä¼šå‘ç”Ÿä¸‰ç§æƒ…å†µ</p>
<ul>
<li>åŸå‹é“¾ä¸Šçš„å±æ€§æ˜¯å¯å†™çš„(<code>writable</code>:<code>true</code>)ï¼Œé‚£ä¹ˆ js ä¼šåœ¨å¯¹è±¡ä¸Šåˆ›å»ºå±æ€§ã€‚</li>
<li><p>åŸå‹é“¾ä¸Šçš„å±æ€§æ˜¯åªè¯»çš„ï¼Œé‚£ä¹ˆ js ä¸ä¼šåœ¨å¯¹è±¡ä¸Šåˆ›å»ºå±æ€§ï¼Œå¦‚æœåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿˜ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anotherObj = &#123;</span><br><span class="line">  a: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(anotherObj, <span class="string">"b"</span>, &#123;</span><br><span class="line">  value: <span class="number">3</span>,</span><br><span class="line">  writable: <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(anotherObj);</span><br><span class="line">obj.b = <span class="number">4</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.b); <span class="comment">//3</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.hasOwnProperty(<span class="string">"b"</span>)); <span class="comment">//false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŸå‹é“¾ä¸Šçš„å±æ€§å­˜åœ¨ setterï¼Œé‚£ä¹ˆ js ä¼šè°ƒç”¨è¿™ä¸ª setterï¼Œä¸ä¼šå°†åœ¨å¯¹è±¡ä¸Šåˆ›å»ºå±æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anotherObj = &#123;</span><br><span class="line">  <span class="keyword">get</span> b() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._b_;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">set</span> b(val) &#123;</span><br><span class="line">    <span class="keyword">this</span>._b_ = val * val;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(anotherObj);</span><br><span class="line">obj.b = <span class="number">4</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.b); <span class="comment">//3</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.hasOwnProperty(<span class="string">"b"</span>)); <span class="comment">//false</span></span><br></pre></td></tr></table></figure>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://ajiangpz.github.io/blog/ajiangpz.github.io/blog/2019/09/28/å¯¹è±¡-md/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/ajiangpz.github.io/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/ajiangpz.github.io/blog/2019/09/28/å¯¹è±¡-md/" itemprop="url">å¯¹è±¡</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-09-28T10:10:39+08:00">
                2019-09-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ç±»å‹"><a href="#ç±»å‹" class="headerlink" title="ç±»å‹"></a>ç±»å‹</h3><ul>
<li>åŸºæœ¬æ•°æ®ç±»å‹<br><code>string</code>,<code>number</code>,<code>boolean</code>,<code>null</code>,<code>undefined</code></li>
<li><p>å†…ç½®å¯¹è±¡<br><code>String</code>ï¼Œ<code>Number</code>ï¼Œ<code>Boolean</code>ï¼Œ<code>Object</code>ï¼Œ<code>Array</code>ï¼Œ<code>Function</code>ï¼Œ<code>Date</code>ï¼Œ<code>RegExp</code>ï¼Œ<code>Error</code><br>è¿™äº›å†…ç½®å¯¹è±¡æ˜¯ JavaScript å†…éƒ¨çš„æ„é€ å‡½æ•°ï¼Œç”¨äºåˆ›å»ºå¯¹åº”å­ç±»å‹çš„æ–°å¯¹è±¡ã€‚å…¶ä¸­é™¤äº†<code>Date</code>ï¼Œ<code>Error</code>å…¶ä»–å­ç±»å‹éƒ½å¯ä»¥é€šè¿‡å­—é¢é‡åˆ›å»ºï¼Œå¯¹äº<code>String</code>ï¼Œ<code>Number</code>ï¼Œ<code>Boolean</code>ï¼Œå®ƒä»¬çš„å­—é¢é‡æ˜¯åŸºæœ¬ç±»å‹ï¼Œå¯¹äº<code>Object</code>ï¼Œ<code>Array</code>ï¼Œ<code>Function</code>ï¼Œ<code>RegExp</code>ï¼Œå®ƒä»¬çš„å­—é¢é‡ä¹Ÿæ˜¯å¯¹è±¡ã€‚<code>String</code>ï¼Œ<code>Number</code>åœ¨è°ƒç”¨å¯¹è±¡å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼ŒJavaScript å¼•æ“ä¼šè‡ªåŠ¨å°†å…¶å­—é¢é‡è½¬åŒ–ä¸ºå¯¹è±¡ã€‚å¦‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'123'</span>.length;</span><br><span class="line"><span class="number">123.123</span>.toFixed(<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>null ä¸ºä»€ä¹ˆä¸æ˜¯å¯¹è±¡ï¼Ÿ<br>åœ¨åº•å±‚å¯¹è±¡éƒ½å·²äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œå¦‚æœæ˜¯å¯¹è±¡ç±»å‹é‚£ä¹ˆå‰ä¸‰ä½éƒ½æ˜¯ 0ï¼Œè€Œ null æ‰€æœ‰çš„ä½éƒ½æ˜¯ 0ï¼Œå› è€Œè¢«æ£€æµ‹ä¸ºå¯¹è±¡ã€‚</p>
</li>
</ul>
<h3 id="å†…å®¹"><a href="#å†…å®¹" class="headerlink" title="å†…å®¹"></a>å†…å®¹</h3><ul>
<li><p>å¯è®¡ç®—å±æ€§å<br>åœ¨ ES6 ä¸­å¯ä»¥ä½¿ç”¨<code>[&#39;è¡¨è¾¾å¼&#39;]</code>å®šä¹‰å±æ€§åã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1=&#123;</span><br><span class="line">    [+<span class="keyword">new</span> <span class="built_in">Date</span>()]:<span class="string">'aaaa'</span>,</span><br><span class="line">    [<span class="number">1</span>+<span class="number">2</span>]:<span class="string">'bbbb'</span>,</span><br><span class="line">    [<span class="built_in">Symbol</span>()]:<span class="string">'cccc'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj1)</span><br><span class="line"><span class="comment">//&#123; '3': 'bbbb', '1569484632274': 'aaaa', [Symbol()]: 'cccc' &#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°ç»„å±æ€§<br>æ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ä»¥å¯¹è±¡çš„æ–¹å¼æ·»åŠ å±æ€§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">arr=[<span class="string">'foo'</span>,<span class="string">'bar'</span>,<span class="string">'baz'</span>];</span><br><span class="line">arr[<span class="string">'name'</span>]=<span class="string">'array'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr.length);<span class="comment">//3</span></span><br><span class="line">arr[<span class="string">'3'</span>]=<span class="string">'array'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr.length)<span class="comment">//4</span></span><br></pre></td></tr></table></figure>
<p>å½“å¯¹è±¡çš„å±æ€§å¯ä»¥è½¬åŒ–ä¸ºæ•°å­—æ—¶ï¼Œjs ä¼šå°†ç›´æ¥å°†å…¶ä½œä¸ºæ•°ç»„ä¸‹æ ‡çš„å€¼ï¼Œä»è€Œæœ‰å¯èƒ½æ”¹å˜æ•°ç»„çš„é•¿åº¦ã€‚</p>
</li>
<li><p>å¤åˆ¶å¯¹è±¡<br><code>Object.assign({},obj)</code>å¯ä»¥å®ç°æµ…æ‹·è´ï¼Œ<code>JSON.Parse(JSON.stringify(obj))</code>å¯ä»¥å®ç°å®‰å…¨çš„ JSON å¯¹è±¡çš„æ·±æ‹·è´ã€‚</p>
</li>
<li><p>å±æ€§æè¿°ç¬¦</p>
<ul>
<li><p>è·å–å±æ€§æè¿°</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    a:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(obj,<span class="string">'a'</span>))</span><br><span class="line"><span class="comment">//&#123; value: 2, writable: true, enumerable: true, configurable: true &#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å®šä¹‰å±æ€§</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;</span><br><span class="line">    value:<span class="number">3</span>,</span><br><span class="line">    writable:<span class="literal">false</span>,</span><br><span class="line">    configurable:<span class="literal">true</span>,</span><br><span class="line">    enumerable:<span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line">obj.a=<span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.a)<span class="comment">//3</span></span><br></pre></td></tr></table></figure>
<ul>
<li>writable<br>å®šä¹‰å±æ€§æ˜¯å¦å¯å†™ï¼Œå¦‚æœå®šä¹‰ä¸º falseï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ä¸ä¼šæŠ¥é”™ä¹Ÿä¸ä¼šä¿®æ”¹å±æ€§å€¼</li>
<li><p>configurable<br>å®šä¹‰å±æ€§æ˜¯å¦å¯ä»¥é…ç½®ï¼Œå¦‚æœä¸º trueï¼Œé‚£ä¹ˆå±æ€§ä¸èƒ½å†ç”¨ defineProperty é…ç½®<code>enumerable</code>,<code>configurable</code>ã€‚<code>writable</code>å¯ä»¥æœ‰ true é…ç½®ä¸º falseï¼Œä½†æ˜¯ä¸å¯ä»¥ä» false é…ç½®ä¸º trueï¼Œåˆ é™¤å¯¹è±¡å±æ€§ä¹Ÿä¼šé™é»˜æ— æ•ˆã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;</span><br><span class="line">    value:<span class="number">3</span>,</span><br><span class="line">    writable:<span class="literal">true</span>,</span><br><span class="line">    configurable:<span class="literal">false</span>,</span><br><span class="line">    enumerable:<span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;<span class="attr">value</span>:<span class="number">2</span>&#125;)</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;<span class="attr">writable</span>:<span class="literal">false</span>&#125;)</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;<span class="attr">enumerable</span>:<span class="literal">false</span>&#125;)</span><br><span class="line"><span class="comment">//Cannot redefine property: a</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;</span><br><span class="line">    value:<span class="number">3</span>,</span><br><span class="line">    writable:<span class="literal">true</span>,</span><br><span class="line">    configurable:<span class="literal">false</span>,</span><br><span class="line">    enumerable:<span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">delete</span> obj.a;</span><br><span class="line"><span class="built_in">console</span>.log(obj.a);</span><br></pre></td></tr></table></figure>
<p>tip:delete åˆ é™¤çš„å±æ€§å¦‚æœæ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œé‚£ä¹ˆè¢«å¼•ç”¨çš„å¯¹è±¡å¦‚æœæ²¡æœ‰å…¶ä»–å¼•ç”¨å°±ä¼šè¢«åƒåœ¾å›æ”¶ã€‚</p>
</li>
<li><p>enumerable<br>æè¿°å±æ€§æ˜¯å¦å¯ä»¥è¢«ç±»ä¼¼äº<code>Object.keys()</code>ï¼ˆå¯¹è±¡è‡ªèº«ï¼‰,<code>for...in...</code>ï¼ˆå¯¹è±¡è‡ªèº«å’ŒåŸå‹ï¼‰æšä¸¾ã€‚</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>ä¸å˜æ€§</p>
<ul>
<li><p>å¯¹è±¡å¸¸é‡<br>é€šè¿‡å°†<code>configurable</code>å’Œ<code>writable</code>å±æ€§è®¾ç½®ä¸º falseï¼Œå¯ä»¥ä¸ºå¯¹è±¡åˆ›å»ºä¸€ä¸ªå¸¸é‡å±æ€§ã€‚</p>
</li>
<li><p>ç¦æ­¢æ‰©å±•<br>ç¦æ­¢ä¸€ä¸ªå¯¹è±¡æ·»åŠ æ–°å±æ€§å¹¶ä¸”ä¿ç•™å·²æœ‰å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨<code>Object.</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    a:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.preventExtensions(obj)</span><br><span class="line">obj.b=<span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.b);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯†å°<br><code>Object.seal()</code>æ–¹æ³•å…ˆç¦æ­¢å¯¹è±¡æ‰©å±•ï¼Œå¹¶æŠŠå¯¹è±¡æ‰€æœ‰å±æ€§æ ‡è®°ä¸º<code>configurable</code>ä¸º<code>false</code>ï¼Œæ·»åŠ åå¯¹è±¡ä¸ä»…ä¸èƒ½æ·»åŠ æ–°çš„å±æ€§ï¼Œä¹Ÿä¸èƒ½é‡æ–°é…ç½®å’Œåˆ é™¤å·²æœ‰çš„å±æ€§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">a:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.seal(obj);</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;</span><br><span class="line">    value:<span class="number">5</span>,</span><br><span class="line">    writable:<span class="literal">false</span></span><br><span class="line">&#125;)<span class="comment">//ä¸ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="keyword">delete</span> obj.a</span><br><span class="line"><span class="built_in">console</span>.log(obj.a)<span class="comment">//5,æ²¡æœ‰è¢«åˆ é™¤</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;</span><br><span class="line">    configurable:<span class="literal">true</span></span><br><span class="line">&#125;)<span class="comment">//æŠ¥é”™ï¼ä¸èƒ½é‡æ–°é…ç½®ã€‚</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å†»ç»“<br><code>Object.freeze()</code>,åˆ›å»ºä¸€ä¸ªå†»ç»“å¯¹è±¡ï¼Œæ‰€æœ‰å±æ€§çš„<code>writable</code>éƒ½è¢«è®¾ç½®è¢«<code>false</code>,è¿™ä¸ªæ–¹æ³•æ˜¯å¯ä»¥åº”ç”¨åœ¨å¯¹è±¡ä¸Šæœ€é«˜çº§åˆ«çš„ä¸å˜æ€§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">a:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.freeze(obj);</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;</span><br><span class="line">    value:<span class="number">5</span>,<span class="comment">//è¿å±æ€§å€¼ä¹Ÿä¸èƒ½ä¿®æ”¹</span></span><br><span class="line">    writable:<span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(obj.a)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><em>Getter</em>å’Œ<em>Setter</em><br>å½“ä¸€ä¸ªå¯¹è±¡å®šä¹‰<code>getter</code>æˆ–è€…<code>setter</code>å±æ€§ï¼ŒJavaScript ä¼šå¿½ç•¥å¯¹è±¡çš„<code>value</code>å’Œ<code>writable</code>ç‰¹æ€§ï¼Œè€Œé€šè¿‡<code>set</code>å’Œ<code>get</code>ç‰¹æ€§å»è·å–æˆ–è€…è®¾ç½®å¯¹è±¡çš„å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    <span class="keyword">get</span> a()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._a_||<span class="number">0</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span> a(val)&#123;</span><br><span class="line">        <span class="keyword">this</span>._a_=val*val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.a=<span class="number">4</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.a);<span class="comment">//16</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å­˜åœ¨æ€§<br>åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨æŸä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥ç”¨<code>in</code>ï¼Œ<code>hasOwnProperty</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=<span class="keyword">new</span> <span class="built_in">Object</span>(&#123;</span><br><span class="line">    a:<span class="string">'aaaa'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Object</span>.prototype.b=<span class="string">'bbbb'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'a'</span> <span class="keyword">in</span> obj);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'b'</span> <span class="keyword">in</span> obj);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.hasOwnProperty(<span class="string">'a'</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.hasOwnProperty(<span class="string">'b'</span>));<span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<p><code>in</code>ä¼šæŸ¥æ‰¾æ•´ä¸ªå¯¹è±¡è‡ªèº«åŠå…¶åŸå‹é“¾çš„å±æ€§ï¼Œ<code>hasOwnProperty</code>åªä¼šæŸ¥æ‰¾å¯¹è±¡æœ¬èº«çš„å±æ€§ï¼Œè¿™ä¸¤ä¸ªåˆ¤æ–­çš„æ˜¯å±æ€§çš„<code>å¯è®¿é—®æ€§</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=<span class="keyword">new</span> <span class="built_in">Object</span>(&#123;</span><br><span class="line">a:<span class="string">'aaaa'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'c'</span>,&#123;</span><br><span class="line">    value:<span class="string">'cccc'</span>,</span><br><span class="line">    enumerable:<span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'a'</span> <span class="keyword">in</span> obj);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.hasOwnProperty(<span class="string">'a'</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'c'</span> <span class="keyword">in</span> obj);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.hasOwnProperty(<span class="string">'c'</span>));<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p>å¯æšä¸¾æ€§æ„å‘³ç€å¯ä»¥è¢«éå†ï¼Œéå†æŒ‡çš„æ˜¯<code>for...in</code>å’Œ<code>Object.keys()</code>ç­‰å…·æœ‰å¾ªç¯çš„æ–¹æ³•ï¼Œ<code>Object.keys()</code>å¯ä»¥è·å–å¯¹è±¡æœ¬èº«æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œä½†æ˜¯æ²¡æœ‰å†…ç½®å‡½æ•°å¯ä»¥å¾—åˆ°å¯¹è±¡åŠå…¶åŸå‹é“¾ä¸Šæ‰€æœ‰å¯æšä¸¾å±æ€§çš„åˆ—è¡¨ã€‚åˆ¤æ–­å¯¹è±¡æœ¬èº«å±æ€§æ˜¯å¦å¯ä»¥æšä¸¾å¯ä»¥ä½¿ç”¨ <code>propertyIsEnumerable()</code>ï¼Œ<code>getOwnPropertyNames()</code>å¯ä»¥è·å–å¯¹è±¡è‡ªèº«æ‰€æœ‰å¯è®¿é—®å±æ€§ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªéå†æ–¹æ³•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">a:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'b'</span>,&#123;</span><br><span class="line">    enumerable:<span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(obj));<span class="comment">//[a,b]</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.propertyIsEnumerable(<span class="string">'a'</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.propertyIsEnumerable(<span class="string">'b'</span>));<span class="comment">//false</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h3><ul>
<li>éå†å¯¹è±¡å±æ€§<br><code>for...in...</code>ï¼Œ<code>object.keys()</code></li>
<li><p>éå†å¯¹è±¡çš„å±æ€§å€¼</p>
<ul>
<li><code>ES5</code>æ•°ç»„ä¸­éå†å¯¹è±¡çš„å±æ€§å€¼<br><code>foreach(callback))</code>éå†æ‰€æœ‰æ•°ç»„çš„å€¼å¹¶å¿½ç•¥å›è°ƒå‡½æ•°çš„è¿”å›å€¼ï¼Œ<code>some(callback)</code>å›è°ƒå‡½æ•°è¿”å›<code>true</code>å³åœæ­¢éå†ï¼Œ<code>every(callback)</code>å›è°ƒå‡½æ•°è¿”å›<code>false</code>å³åœæ­¢éå†ã€‚</li>
<li><p><code>ES6</code>æ•°ç»„ä¸­éå†å¯¹è±¡çš„å±æ€§å€¼<br><code>for...of...</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> v <span class="keyword">of</span> arr)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(v)<span class="comment">//a,b,c</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>for...of...</code>ä¼šè°ƒç”¨æ•°ç»„å†…éƒ¨çš„è¿­ä»£å™¨å¯¹è±¡ï¼Œæ‰§è¡Œå¯¹è±¡çš„<code>next()</code>æ–¹æ³•ï¼Œæ¯ä¸ª<code>next()</code>éƒ½ä¼šè¿”å›<code>{value:value|undefined,done:false|true}</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">var</span> it=arr[<span class="built_in">Symbol</span>.iterator]();<span class="comment">//è·å–æ•°ç»„å†…éƒ¨çš„è¿­ä»£å™¨å¯¹è±¡</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())<span class="comment">//&#123; value: 'a', done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())<span class="comment">//&#123; value: 'b', done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())<span class="comment">//&#123; value: 'c', done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())<span class="comment">//&#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¹è±¡ä¸­è¿­ä»£å±æ€§å€¼<br>å¯¹è±¡ä¸­æ²¡æœ‰è‡ªå¸¦çš„è¿­ä»£å™¨ï¼Œéœ€è¦è‡ªå·±å®šä¹‰ä¸€ä¸ªã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">a:<span class="number">2</span>,</span><br><span class="line">b:<span class="number">3</span>,</span><br><span class="line">c:<span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="built_in">Symbol</span>.iterator,&#123;</span><br><span class="line">    enumerable:<span class="literal">false</span>,</span><br><span class="line">    writable:<span class="literal">false</span>,</span><br><span class="line">    value:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> o=<span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">var</span> idx=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">var</span> ks=<span class="built_in">Object</span>.keys(o);</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            next:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span>&#123;</span><br><span class="line">                    value:o[ks[idx++]],</span><br><span class="line">                    done:(idx&gt;ks.length)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> v <span class="keyword">of</span> obj)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åªè¦ next æ–¹æ³•è¿”å›äº†<code>{value:value,done:boolean}</code>ï¼Œé‚£ä¹ˆè¿­ä»£å°±ä¼šç»§ç»­ï¼Œä¸ç®¡å¯¹è±¡è¿˜æœ‰æ²¡æœ‰å±æ€§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> randoms=&#123;</span><br><span class="line">    [<span class="built_in">Symbol</span>.iterator]:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>&#123;</span><br><span class="line">            next:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span>&#123;<span class="attr">value</span>:<span class="built_in">Math</span>.random()*<span class="number">10</span>&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> random_pool=[];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> v <span class="keyword">of</span> randoms)&#123;</span><br><span class="line">    <span class="keyword">if</span>(random_pool.length&lt;<span class="number">10</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(v)</span><br><span class="line">        random_pool.push(v)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç è‡ªå®šä¹‰äº†ä¸€ä¸ªäº§ç”Ÿéšæœºæ•°çš„è¿­ä»£å™¨ï¼Œnext ä¸€ç›´è¿”å›æœ‰æ•ˆçš„å€¼ï¼Œå› è€Œè¿­ä»£ä¸ä¼šåœæ­¢ã€‚</p>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://ajiangpz.github.io/blog/ajiangpz.github.io/blog/2019/09/22/ä½œç”¨åŸŸ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/ajiangpz.github.io/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/ajiangpz.github.io/blog/2019/09/22/ä½œç”¨åŸŸ/" itemprop="url">ä½œç”¨åŸŸ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-09-22T22:18:55+08:00">
                2019-09-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p>å‡½æ•°ä½œç”¨åŸŸ</p>
<ul>
<li>åŒ¿åå‡½æ•°</li>
</ul>
</li>
<li><p>å—ä½œç”¨åŸŸ</p>
<ul>
<li><p>tryâ€¦catchâ€¦åˆ›å»ºå—çº§ä½œç”¨åŸŸ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="number">2</span>;</span><br><span class="line">&#125; <span class="keyword">catch</span> (a) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//a is not defined</span></span><br></pre></td></tr></table></figure>
<p>try è¯­å¥ä¼šé€šè¿‡ throw è¯­å¥å°† err å¯¹è±¡ä¼ é€’ç»™ catch å‡½æ•°ï¼Œcatch åˆ›å»ºå—çº§ä½œç”¨åŸŸï¼Œå¹¶å°† err å¯¹è±¡åŠ å…¥ä½œç”¨åŸŸçš„æ´»åŠ¨å¯¹è±¡ä¸­ï¼Œå»¶é•¿äº†ä½œç”¨åŸŸé“¾ã€‚<br>åœ¨ç”¨å·¥å…·å°† es6 çš„å—çº§ä½œç”¨åŸŸä»£ç è½¬åŒ–ä¸º es5 ä»£ç æ—¶ï¼Œè¿™æ˜¯é¦–é€‰çš„æ–¹å¼ã€‚</p>
</li>
<li><p>eval(str)<br>å½“æ‰§è¡Œ eval å‡½æ•°æ—¶ï¼Œå¦‚æœä¼ å…¥çš„å­—ç¬¦ä¸²ä¸­å«æœ‰å˜é‡å£°æ˜ var a=3ï¼Œé‚£ä¹ˆ a å°±ä¼šè¢«åŠ å…¥ eval æ‰€åœ¨çš„ä½œç”¨åŸŸ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">eval</span>(<span class="string">"var a=3"</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">//3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">6</span>;</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿° eval å°† a=3 åŠ å…¥åˆ° foo çš„ä½œç”¨åŸŸä¸­ï¼Œå› æ­¤åé¢çš„ console.log(a)æ²¡æœ‰æ‰“å°å…¨å±€çš„ a=6ã€‚</p>
</li>
<li><p>let å°†å£°æ˜çš„å˜é‡åˆ›å»ºå¯¹åº”çš„ä½œç”¨åŸŸï¼Œå¦‚æ¯ä¸€æ¬¡å¾ªç¯æ‰§è¡Œ let j=i;æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªä½œç”¨åŸŸã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> j = i; <span class="comment">//ç»‘å®šä½œç”¨åŸŸ</span></span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(j); <span class="comment">//0,1,2,3,4,5</span></span><br><span class="line">  &#125;, j * <span class="number">100</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœå°±è·Ÿä¸‹é¢çš„ä»£ç ä¸€æ ·</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> j = i;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(j); <span class="comment">//0,1,2,3,4,5</span></span><br><span class="line">    &#125;, j * <span class="number">100</span>);</span><br><span class="line">  &#125;)();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>with</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o1 = &#123;</span><br><span class="line">  a: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> o2 = &#123;</span><br><span class="line">  b: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">with</span> (obj) &#123;</span><br><span class="line">    a = <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">foo(o1);</span><br><span class="line">foo(o2);</span><br><span class="line"><span class="built_in">console</span>.log(o1.a); <span class="comment">//2</span></span><br><span class="line"><span class="built_in">console</span>.log(o2.a); <span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//2</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo(obj)&#123;</span><br><span class="line">  <span class="keyword">with</span>(obj)&#123;</span><br><span class="line">    <span class="keyword">var</span> c=<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cc;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(foo(&#123;&#125;))</span><br></pre></td></tr></table></figure>
<p>with æ–¹æ³•ä¼šç”¨ä¼ å…¥çš„å¯¹è±¡ obj åœ¨å½“å‰çš„è¯æ³•ä½œç”¨åŸŸå†åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ä½œç”¨åŸŸï¼Œè¿™ä¸ªä½œç”¨åŸŸåŒ…å«äº† obj æ‰€æœ‰çš„å±æ€§ï¼Œå¯¹äº o1 ç›¸å½“äº a=3,å¯¹äº o2 ç›¸å½“äº b=3,å› è€Œæ‰§è¡Œ a=2 æ—¶ï¼Œä¼šå°† o1 çš„ a é‡æ–°èµ‹å€¼ä¸º 2ï¼Œè€Œ o2 ä¸­ç”±äºæ‰¾ä¸åˆ° aï¼Œä¼šç»§ç»­æ²¿ç€ä½œç”¨åŸŸé“¾å¯»æ‰¾ï¼Œæœ€ååˆ°äº†å…¨å±€ä½œç”¨åŸŸæ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±åªèƒ½å®šä¹‰ä¸€ä¸ª a å˜é‡ï¼Œä¸”å°†å…¶èµ‹å€¼ä¸º 2ã€‚</p>
<p>æ³¨æ„ï¼Œå½“åœ¨ with ä¸­ä½¿ç”¨ var è¯­å¥æ—¶ï¼Œå®šä¹‰çš„å˜é‡å±äºåŒ…å« with çš„ä½œç”¨åŸŸï¼Œå¦‚ä¾‹å­çš„ foo å‡½æ•°ã€‚</p>
</li>
</ul>
</li>
</ul>
<ul>
<li>æå‡<br>åœ¨ä½œç”¨åŸŸä¸­(å…¨å±€ï¼Œå‡½æ•°ï¼Œå—çº§)å‡½æ•°å’Œå˜é‡çš„å£°æ˜ä¼šè¢«æå‡åˆ°è¯¥ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œä¸”å‡½æ•°å£°æ˜ä¼˜å…ˆäºå˜é‡å£°æ˜ï¼Œé‡å¤å£°æ˜å‡½æ•°ä¼šè¦†ç›–æ‰åŸæ¥çš„å‡½æ•°ã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>; <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä¼šå…ˆå°†å˜é‡å£°æ˜æå‡ï¼Œç›¸å½“äº</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line">a = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//è¾“å‡º[Function: a]</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"aaaa"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°è¯´æ˜å‡½æ•°å£°æ˜æ¯”å˜é‡å£°æ˜ä¼˜å…ˆçº§é«˜ã€‚</p>
<ul>
<li><p>ä½œç”¨åŸŸé—­åŒ…</p>
<p>ä¸€ä¸ªå‡½æ•°è®°ä½å¹¶è®¿é—®äº†å®ƒæ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸï¼Œé‚£ä¹ˆå°±äº§ç”Ÿäº†é—­åŒ…ã€‚<br>ä»€ä¹ˆå«åšè®°ä½äº†è¯æ³•ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯å°†è¯æ³•ä½œç”¨åŸŸåŠ å…¥å‡½æ•°çš„å˜é‡å¯¹è±¡ï¼ŒåŠä½œç”¨åŸŸé“¾ä¸­ï¼Œæ›´ç®€å•çš„è¯´å°±æ˜¯å¼•ç”¨äº†æ‰€åœ¨è¯æ³•ä½œç”¨åŸŸçš„å˜é‡ï¼Œè®¿é—®äº†è¯æ³•ä½œç”¨åŸŸï¼ŒåŠæ‰§è¡Œäº†å‡½æ•°ã€‚é€šä¿—çš„ç†è§£è¿™å¥è¯ï¼Œå°±æ˜¯å¼•ç”¨äº†å‡½æ•°æ‰€åœ¨è¯æ³•ä½œç”¨åŸŸçš„å˜é‡ï¼Œå¹¶ä¸”æ‰§è¡Œäº†å‡½æ•°ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a); <span class="comment">//å¦‚æœæ²¡æœ‰å¼•ç”¨å¤–éƒ¨è¯æ³•ä½œç”¨åŸŸçš„å˜é‡ï¼Œæ— æ³•äº§ç”Ÿé—­åŒ…</span></span><br><span class="line">  &#125;</span><br><span class="line">  bar(); <span class="comment">//æ»¡è¶³ä¸Šè¿°ä¸¤ä¸ªæ¡ä»¶ï¼Œäº§ç”Ÿäº†é—­åŒ…</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç è™½ç„¶äº§ç”Ÿäº†é—­åŒ…ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> bar;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> baz = foo();</span><br><span class="line">baz();</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°å°† bar å‡½æ•°ä½œä¸ºå€¼è¿”å›ï¼Œbaz å‡½æ•°å¼•ç”¨äº† bar å‡½æ•°ï¼Œæ‰§è¡Œæ—¶äº§ç”Ÿäº†é—­åŒ…ã€‚ä¸ä¸Šä¸€ä¸ªä¾‹å­çš„åŒºåˆ«æ˜¯ï¼Œå‡½æ•°åœ¨å…¨å±€ä½œç”¨åŸŸè¢«è°ƒç”¨ï¼Œåœ¨ foo å‡½æ•°æ‰§è¡Œå®Œåï¼Œfoo çš„ä½œç”¨åŸŸå¹¶æ²¡æœ‰è¢«é”€æ¯ï¼Œå› ä¸º baz å‡½æ•°ç°åœ¨æ´»åŠ¨å¯¹è±¡ä¸­å­˜åœ¨å¯¹ foo çš„å¼•ç”¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">  &#125;</span><br><span class="line">  out(bar);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">out</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  fn();</span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°è¿™ç§å½¢å¼ï¼Œç±»ä¼¼äº settimeout(fn,delay),å› è€Œæ»¡è¶³ç›¸å…³æ¡ä»¶æ—¶ï¼Œå®šæ—¶å™¨ä¹Ÿæ˜¯ä¸€ç§é—­åŒ…ã€‚æœ¬è´¨ä¸Šæ— è®ºä½•æ—¶ä½•åœ°ï¼Œå¦‚æœå°†ï¼ˆè®¿é—®å®ƒä»¬å„è‡ªè¯æ³•ä½œç”¨åŸŸçš„ï¼‰å‡½æ•°å½“ä½œç¬¬ä¸€çº§çš„å€¼ç±»å‹å¹¶åˆ°å¤„ä¼ é€’ï¼Œå°±ä¼šäº§ç”Ÿå¾ˆå¤šé—­åŒ…ã€‚</p>
</li>
<li><p>å¾ªç¯</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;, <span class="number">100</span> * i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ç”Ÿæˆ 666666ï¼ŒåŸå› åœ¨äºå¾ªç¯ç»“æŸåå¼‚æ­¥ä»»åŠ¡æ‰åŠ å…¥é˜Ÿåˆ—ä¸­æ‰§è¡Œï¼Œè€Œç”±äºæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œå› è€Œå…¨å±€åªæœ‰ä¸€ä¸ª i å˜é‡ï¼Œå› è€Œæ‰€æœ‰çš„ setTimeout ç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ª i å³ 6ã€‚<br>è§£å†³æ–¹æ³•è‡ªç„¶æ˜¯æ¯ä¸ªè¿­ä»£åˆ›å»ºä¸€ä¸ªä½œç”¨åŸŸ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;, <span class="number">100</span> * i);</span><br><span class="line">  &#125;)();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ iife æ¯ä¸€ä¸ªè¿­ä»£éƒ½åˆ›å»ºäº†ä½œç”¨åŸŸï¼Œä½†æ˜¯è¿™äº›ä½œç”¨åŸŸä¸­å¹¶æ²¡æœ‰ i å˜é‡ï¼Œå› æ­¤è¿˜æ˜¯è¦åˆ°å…¨å±€ä½œç”¨åŸŸæ‰¾ï¼Œè¿˜æ˜¯è¾“å‡º 666666ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> j = i;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(j);</span><br><span class="line">    &#125;, <span class="number">100</span> * j);</span><br><span class="line">  &#125;)();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ç”¨ j å°†å˜é‡ i ä¿å­˜åˆ°å—ä½œç”¨åŸŸä¸­ï¼Œå°±ä¿è¯äº†æ¯ä¸€ä¸ªå—ä½œç”¨åŸŸéƒ½æœ‰ j å˜é‡ï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡è¿­ä»£ i çš„å‰¯æœ¬ï¼Œå›è°ƒå‡½æ•°æ‰§è¡Œæ—¶å°±å¯ä»¥åœ¨å„è‡ªçš„ä½œç”¨åŸŸä¸­æ‰¾åˆ° j å˜é‡äº†ã€‚</p>
</li>
<li><p>å¦‚ä½•ä½¿ç”¨é—­åŒ…åˆ›å»ºä¸€ä¸ªæ¨¡å—</p>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ªå°é—­çš„å‡½æ•°ï¼Œå¹¶ä¸”è‡³å°‘è°ƒç”¨ä¸€æ¬¡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°åˆ›å»ºäº† foo å°é—­å‡½æ•°ï¼Œå°† a å’Œ bar åŒ…å«åœ¨ foo çš„ä½œç”¨åŸŸä¸­ã€‚</p>
</li>
<li><p>å°é—­å‡½æ•°è¿”å›è‡³å°‘è¿”å›ä¸€ä¸ªå†…éƒ¨å‡½æ•°ï¼Œå½¢æˆé—­åŒ…ï¼Œç”¨äºè®¿é—®æ¨¡å—å†…éƒ¨çš„ç§æœ‰å˜é‡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        bar:bar</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> baz=foo();</span><br><span class="line">baz.bar();  <span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<p>æ¯è°ƒç”¨ä¸€æ¬¡ foo,å°±ä¼šåˆ›å»ºä¸€ä¸ªæ¨¡å—ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a++);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        bar:bar</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> baz=foo();</span><br><span class="line"><span class="keyword">var</span> pz=foo();</span><br><span class="line">baz.bar();<span class="comment">//1</span></span><br><span class="line">baz.bar();<span class="comment">//2</span></span><br><span class="line">pz.bar();<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>å½“ baz è°ƒç”¨ä¸¤æ¬¡ bar æ–¹æ³•æ—¶ï¼Œé€šè¿‡é—­åŒ…æ‰¾åˆ°äº† foo ä½œç”¨åŸŸä¸­çš„ aï¼Œå› æ­¤é—­åŒ…å¯ä»¥ä¿ç•™å˜é‡çš„çŠ¶æ€ã€‚</p>
</li>
</ol>
</li>
<li><p>ä½¿ç”¨ iife åˆ›å»ºå•ä¾‹æ¨¡å¼<br> å½“å…¨å±€ä¸­åªéœ€è¦ä¸€ä¸ªæ¨¡å—å®ä¾‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ iife åˆ›å»ºä¸€ä¸ªå•ä¾‹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> calc=(<span class="function"><span class="keyword">function</span> <span class="title">createSingle</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        count++;</span><br><span class="line">        <span class="built_in">console</span>.log(count)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">reduce</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        count--;</span><br><span class="line">        <span class="built_in">console</span>.log(count)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        add,</span><br><span class="line">        reduce</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br><span class="line">calc.add();</span><br><span class="line">calc.add();</span><br><span class="line">calc.reduce();</span><br><span class="line">calc.add();</span><br><span class="line">calc.reduce();</span><br><span class="line">calc.add();</span><br><span class="line">calc.reduce();</span><br><span class="line"><span class="comment">//1212121</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‘½åè¿”å›çš„å…¬å…± api çš„å¯¹è±¡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> calc=(<span class="function"><span class="keyword">function</span> <span class="title">createSingle</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">addSelf</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        count++;</span><br><span class="line">        <span class="built_in">console</span>.log(count)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">addDouble</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        count=count+<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">reduce</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        count--;</span><br><span class="line">        <span class="built_in">console</span>.log(count)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">change</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        obj.add=addDouble;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> obj=&#123;</span><br><span class="line">        add:addSelf,</span><br><span class="line">        reduce:reduce,</span><br><span class="line">        change:change</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;)()</span><br><span class="line">calc.change();</span><br><span class="line">calc.add();</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç æä¾›äº†åœ¨å…¬å…± API å¯¹è±¡æä¾›äº†ä¸€ä¸ª change æ–¹æ³•ï¼Œä½¿å¾—å¯ä»¥è°ƒç”¨ change å‡½æ•°æ”¹å˜å…¬å…± APIï¼Œä¹Ÿå¯ä»¥å¢åŠ ï¼Œåˆ é™¤ APIã€‚</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/ajiangpz.github.io/blog/page/2/">2</a><a class="extend next" rel="next" href="/ajiangpz.github.io/blog/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Pzzz</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/ajiangpz.github.io/blog/archives/">
              
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Pzzz</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/ajiangpz.github.io/blog/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/ajiangpz.github.io/blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/ajiangpz.github.io/blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/ajiangpz.github.io/blog/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/ajiangpz.github.io/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/ajiangpz.github.io/blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/ajiangpz.github.io/blog/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/ajiangpz.github.io/blog/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/ajiangpz.github.io/blog/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
