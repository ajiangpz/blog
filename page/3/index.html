<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/blog/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/blog/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/blog/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="Pzzz&#39;s FE Blog">
<meta property="og:url" content="https://github.com/ajiangpz/blog/page/3/index.html">
<meta property="og:site_name" content="Pzzz&#39;s FE Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Pzzz&#39;s FE Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/blog/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://github.com/ajiangpz/blog/page/3/">





  <title>Pzzz's FE Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/blog/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Pzzz's FE Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/ajiangpz/blog/blog/2019/09/30/Js-question/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/09/30/Js-question/" itemprop="url">Js-question</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-09-30T23:07:24+08:00">
                2019-09-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(name); <span class="comment">//undefined</span></span><br><span class="line">  <span class="built_in">console</span>.log(age); <span class="comment">//refererror</span></span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">"Lydia"</span>;</span><br><span class="line">  <span class="keyword">let</span> age = <span class="number">21</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>let</code>ï¼Œ<code>const</code> æ²¡æœ‰å˜é‡æå‡ï¼Œåœ¨å£°æ˜å˜é‡ä¹‹å‰è°ƒç”¨ï¼Œä¼šæŠ¥ <code>refererror</code> é”™è¯¯ã€‚å¦‚æœåŒºå—ä¸­å­˜åœ¨<em>let</em>å’Œ<em>const</em>å‘½ä»¤ï¼Œè¿™ä¸ªåŒºå—å¯¹è¿™äº›å‘½ä»¤å£°æ˜çš„å˜é‡ï¼Œä»ä¸€å¼€å§‹å°±å½¢æˆäº†å°é—­ä½œç”¨åŸŸã€‚å‡¡æ˜¯åœ¨å£°æ˜ä¹‹å‰å°±ä½¿ç”¨è¿™äº›å˜é‡ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//8</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Chameleon</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> colorChange(newColor) &#123;</span><br><span class="line">    <span class="keyword">this</span>.newColor = newColor;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.newColor;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(&#123; newColor = <span class="string">"green"</span> &#125; = &#123;&#125;) &#123;</span><br><span class="line">    <span class="keyword">this</span>.newColor = newColor;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> freddie = <span class="keyword">new</span> Chameleon(&#123; <span class="attr">newColor</span>: <span class="string">"purple"</span> &#125;);</span><br><span class="line">freddie.colorChange(<span class="string">"orange"</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>é™æ€æ–¹æ³•æ˜¯å®šä¹‰åœ¨ <code>Chameleon</code> ç±»ä¸Šçš„æ–¹æ³•ï¼Œ<code>this</code> åº”è¯¥æŒ‡å‘ <code>Chameleon</code>ï¼Œè€Œä¸æ˜¯åœ¨åŸå‹ä¸Šï¼Œå› æ­¤å®ä¾‹ä¸­ä¸å­˜åœ¨è¿™ä¸ªé™æ€æ–¹æ³•ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//18</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkAge</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (data === &#123; <span class="attr">age</span>: <span class="number">18</span> &#125;) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"You are an adult!"</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data == &#123; <span class="attr">age</span>: <span class="number">18</span> &#125;) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"You are still an adult."</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Hmm.. You don't have an age I guess`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">checkAge(&#123; <span class="attr">age</span>: <span class="number">18</span> &#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Hmm.. You donâ€™t have an age I guess<br>ä¼ å…¥ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œä¼ å…¥çš„æ˜¯åœ°å€çš„æ‹·è´ï¼Œæ¯ä¸€æ¬¡åˆ¤æ–­éƒ½ä¼šæ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„æ¯”è¾ƒæ˜¯åœ°å€å€¼çš„æ¯”è¾ƒï¼Œå› æ­¤ä¸å¯èƒ½ç›¸ç­‰ã€‚<br><code>===</code>ä¸ä»…æ¯”è¾ƒå€¼ä¹Ÿæ¯”è¾ƒç±»å‹ï¼Œ<code>==</code>åªæ¯”è¾ƒå€¼ï¼Œä¸åŒç±»å‹çš„å€¼ä¼šè¿›è¡Œè½¬åŒ–ã€‚è½¬åŒ–çš„è§„åˆ™ï¼Ÿ</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//24</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="number">1</span>: <span class="string">"a"</span>, <span class="number">2</span>: <span class="string">"b"</span>, <span class="number">3</span>: <span class="string">"c"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = new Set([1, 2, 3, 4, 5]);</span><br><span class="line"></span><br><span class="line">obj.hasOwnProperty("1");</span><br><span class="line">obj.hasOwnProperty(1);</span><br><span class="line"><span class="keyword">set</span>.has("1");</span><br><span class="line"><span class="keyword">set</span>.has(1);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ‰€æœ‰ Object çš„å±æ€§åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè®¿é—®è®¾ç½®æ—¶éƒ½ä¼šè¢«è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œsymbol å€¼é™¤å¤–ã€‚<br>true,true,false,true</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//25</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="string">"one"</span>, <span class="attr">b</span>: <span class="string">"two"</span>, <span class="attr">a</span>: <span class="string">"three"</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//29</span></span><br><span class="line"><span class="keyword">const</span> a = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> b = &#123; <span class="attr">key</span>: <span class="string">"b"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> c = &#123; <span class="attr">key</span>: <span class="string">"c"</span> &#125;;</span><br><span class="line"></span><br><span class="line">a[b] = <span class="number">123</span>;</span><br><span class="line">a[c] = <span class="number">456</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a[b]);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Object çš„ key éƒ½æ˜¯ string ç±»å‹ï¼Œå› æ­¤è®¾ç½®<code>a[b]</code>æ—¶ï¼Œb ä¼šå…ˆè½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œå³ Object.prototype.toString.call(b)==&gt;<code>&quot;[object,object]&quot;</code>,è®¾ç½® c ä¹Ÿä¼šè½¬åŒ–ä¸ºè¿™ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯å’Œ bï¼Œc çš„å€¼æ— å…³ï¼Œå› æ­¤ä¼šè¦†ç›–ã€‚è®¿é—®æ—¶ä¹Ÿæ˜¯ä¸€æ ·çš„è½¬åŒ–ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//35</span></span><br><span class="line"><span class="number">0</span>;</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">0</span>);</span><br><span class="line">(<span class="string">""</span>);</span><br><span class="line">(<span class="string">" "</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>false,true,false,true,true,false<br>NAN ä¹Ÿè¿”å› false</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//43</span></span><br><span class="line">[...<span class="string">"Lydia"</span>];</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>[&#39;L&#39;,&#39;y&#39;,&#39;d&#39;,&#39;i&#39;,&#39;a&#39;]</code></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//45</span></span><br><span class="line"><span class="keyword">const</span> firstPromise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(res, <span class="number">500</span>, <span class="string">"one"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> secondPromise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(res, <span class="number">100</span>, <span class="string">"two"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.race([firstPromise, secondPromise]).then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res));</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å½“æˆ‘ä»¬å°†å¤šä¸ª promise ä¼ é€’ç»™ Promise.race æ–¹æ³•æ—¶ï¼Œå®ƒè§£æ/æ‹’ç»ç¬¬ä¸€ä¸ªè§£æ/æ‹’ç»çš„ promiseã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//46</span></span><br><span class="line"><span class="keyword">let</span> person = &#123; <span class="attr">name</span>: <span class="string">"Lydia"</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> members = [person];</span><br><span class="line">person = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(members);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>{ name: â€œLydiaâ€ }ï¼Œ<code>[person]</code>ç­‰ä»·äº <code>members[0]=person</code>,<code>person=null</code>,<code>members[0]</code>çš„å€¼ä¸ä¼šå˜æ¯”ï¼Œè¿˜æ˜¯æŒ‡å‘{name:â€™Lydiaâ€™}}</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//49</span></span><br><span class="line"><span class="keyword">const</span> num = <span class="built_in">parseInt</span>(<span class="string">"7*6"</span>, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>num=7</code>é‡åˆ°ç¬¬ä¸€ä¸ªéæ•°å­—å­—ç¬¦å°±è¿”å›ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥è½¬åŒ–ä¸ºæ•°å€¼çš„å­—ç¬¦åˆ™è¿”å›<code>NAN</code></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//57</span></span><br><span class="line"><span class="comment">// counter.js</span></span><br><span class="line"><span class="keyword">let</span> counter = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> counter;</span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> myCounter <span class="keyword">from</span> <span class="string">"./counter"</span>;</span><br><span class="line"></span><br><span class="line">myCounter += <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myCounter);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æŠ¥é”™ï¼Œ<code>import</code>å˜é‡æ˜¯åªè¯»çš„</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">"Lydia"</span>;</span><br><span class="line">age = <span class="number">21</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">delete</span> name);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">delete</span> age);</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>var const let</code>å£°æ˜çš„å˜é‡ä¸å¯ä»¥è¢«<code>delete</code>åˆ é™¤ï¼Œä¸€å¾‹è¿”å›<code>false</code>ã€‚<code>age</code>ç›¸å½“äºä¸€ä¸ªå…¨å±€å˜é‡ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//61</span></span><br><span class="line"><span class="keyword">const</span> person = &#123; <span class="attr">name</span>: <span class="string">"Lydia"</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">"age"</span>, &#123; <span class="attr">value</span>: <span class="number">21</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(person));</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>defineProperty</code>å®šä¹‰çš„å±æ€§é»˜è®¤ä¸å¯ä»¥è¢«æšä¸¾</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//63</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> increaseNumber = <span class="function"><span class="params">()</span> =&gt;</span> num++;</span><br><span class="line"><span class="keyword">const</span> increasePassedNumber = <span class="function"><span class="params">number</span> =&gt;</span> number++;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> num1 = increaseNumber();</span><br><span class="line"><span class="keyword">const</span> num2 = increasePassedNumber(num1);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(num1);</span><br><span class="line"><span class="built_in">console</span>.log(num2);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å…ˆè¿”å›å€¼å†è‡ªå¢ï¼Œç¬¬ä¸€ä¸ªè¿”å› 10,ç¬¬äºŒä¸ªè¿”å› 10</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//64</span></span><br><span class="line"><span class="keyword">const</span> value = &#123; <span class="attr">number</span>: <span class="number">10</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> multiply = <span class="function">(<span class="params">x = &#123; ...value &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log((x.number *= <span class="number">2</span>));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">multiply();</span><br><span class="line">multiply();</span><br><span class="line">multiply(value);</span><br><span class="line">multiply(value);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>x ä»£è¡¨å‡½æ•°å‚æ•°ï¼Œ{â€¦value}ä»£è¡¨å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ã€‚æ²¡æœ‰ä¼ å‚æ—¶ï¼Œx={number:10},æ¯æ¬¡ç»“æœéƒ½æ˜¯ 20,å½“å°† value çš„å€¼ä½œä¸ºå‚æ•°ä¼ é€’æ—¶ï¼Œç”±å¼•ç”¨ç±»å‹å¯çŸ¥ï¼Œæ‰§è¡Œ x.number*=2 æ—¶ï¼Œvalue ä¸­çš„å€¼ä¼šå˜åŒ–ï¼Œå› æ­¤ç¬¬äºŒæ¬¡ä¼ å…¥çš„ value å®é™…ä¸Šå·²ç»å˜æˆäº†{number:20}</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//65</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].reduce(<span class="function">(<span class="params">x, y</span>) =&gt;</span> <span class="built_in">console</span>.log(x, y));</span><br></pre></td></tr></table></figure>
<blockquote>
<p>reduce å‡½æ•°é»˜è®¤çš„ prev é»˜è®¤ä¼ å…¥çš„å€¼ä¸ºæ•°ç»„é¦–é¡¹ï¼Œæ­¤æ—¶ curr çš„å€¼ä¸ºç¬¬äºŒä¸ªå€¼ï¼Œprev çš„å€¼æ˜¯å›è°ƒå‡½æ•°çš„è¿”å›å€¼ï¼Œç”±äºæ¯ä¸€æ¬¡éƒ½è¿”å› undefinedï¼Œä¸€æ¬¡åé¢ x çš„å€¼éƒ½æ˜¯ undefinedã€‚å› è€Œè¾“å‡º 1 2 ï¼Œundefined 3, undefined 4;å¦‚æœ reduce ä¼ å…¥äº† prev çš„åˆå§‹å€¼ï¼Œé‚£ä¹ˆ curr æ˜¯ä»æ•°ç»„é¦–é¡¹å¼€å§‹ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//67</span></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"running index.js"</span>);</span><br><span class="line"><span class="keyword">import</span> &#123; sum &#125; <span class="keyword">from</span> <span class="string">"./sum.js"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>, <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// sum.js</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"running sum.js"</span>);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> sum = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>import ä¼šæå‡å¹¶æå‰è§£æå› æ­¤å…ˆæ‰§è¡Œ import è¿›æ¥çš„ sumï¼Œæ‰€ä»¥å…ˆæ‰“å° runnig sum.jsï¼Œå†æ‰“å° running index.jsï¼Œå†æ‰“å° 3</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//69</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">"Lydia Hallie"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(name.padStart(<span class="number">13</span>));</span><br><span class="line"><span class="built_in">console</span>.log(name.padStart(<span class="number">2</span>));</span><br></pre></td></tr></table></figure>
<blockquote>
<p>padStart å†å¼€å§‹å¤„åŠ å…¥ç©ºæ ¼ï¼Œè¡¥å…¨é•¿åº¦ã€‚å¦‚æœé•¿åº¦ä¸å¤Ÿï¼Œåˆ™ä¸åšå¤„ç†ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"ğŸ¥‘"</span> + <span class="string">"ğŸ’»"</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ¥‘ğŸ’»</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//71</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">startGame</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> answer = <span class="keyword">yield</span> <span class="string">"Do you love JavaScript?"</span>;</span><br><span class="line">  <span class="keyword">if</span> (answer !== <span class="string">"Yes"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Oh wow... Guess we're gone here"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"JavaScript loves you back â¤ï¸"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> game = startGame();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="comment">/* 1 */</span>); <span class="comment">// Do you love JavaScript?</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="comment">/* 2 */</span>); <span class="comment">// JavaScript loves you back â¤ï¸</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>generator å‡½æ•°ä¸ä¼šè‡ªå·±æ‰§è¡Œï¼Œnext å‡½æ•°æ‰§è¡Œåˆ° yield ä¸ºæ­¢ï¼Œç¬¬ä¸€æ¬¡åœåœ¨äº† Do youâ€¦å‰é¢ï¼Œç¬¬äºŒæ¬¡ yield ç»§ç»­æ‰§è¡Œå¹¶ä¸”ä¸ºä¼ å…¥å‚æ•°å€¼</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//73</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> <span class="built_in">Promise</span>.resolve(<span class="string">"I made it!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = getData();</span><br><span class="line"><span class="built_in">console</span>.log(data);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>async å‡½æ•°è¿”å›ä¸€ä¸ª promise å¯¹è±¡ï¼Œasync æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œåœ¨åŒæ­¥çš„ä»£ç ä¸­ï¼Œä¹Ÿå°±æ˜¯åœ¨ async å‡½æ•°ä¹‹å¤–ï¼Œè¿”å›çš„çŠ¶æ€æ˜¯ pendingï¼Œå¦‚æœè¦è·å¾—å¼‚æ­¥ä¹‹åçš„çŠ¶æ€ï¼Œéœ€è¦ä½¿ç”¨ then</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//74</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addToList</span>(<span class="params">item, list</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> list.push(item);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = addToList(<span class="string">"apple"</span>, [<span class="string">"banana"</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>push è¿”å›çš„æ˜¯æ–°æ•°ç»„çš„é•¿åº¦<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//75</span></span><br><span class="line"><span class="keyword">const</span> box = &#123; <span class="attr">x</span>: <span class="number">10</span>, <span class="attr">y</span>: <span class="number">20</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.freeze(box);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> shape = box;</span><br><span class="line">shape.x = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.log(shape);</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>å¯¹è±¡å·²ç»è¢«å†»ç»“ï¼Œä¸èƒ½ä¿®æ”¹ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥é”™<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//76</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">name</span>: myName &#125; = &#123; <span class="attr">name</span>: <span class="string">"Lydia"</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>//reference Error æ‰¾ä¸åˆ°nameå˜é‡<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//84</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkAge</span>(<span class="params">age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (age &lt; <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> message = <span class="string">"Sorry, you're too young."</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> message = <span class="string">"Yay! You're old enough!"</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> message;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(checkAge(<span class="number">21</span>));</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>let,const å£°æ˜å…·æœ‰å—çº§ä½œç”¨åŸŸï¼Œåœ¨ifå’Œelseä¹‹å¤–åº”ç”¨ç”¨æŠ¥é”™referrenceError<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//85</span></span><br><span class="line">fetch(<span class="string">"https://www.website.com/api/user/1"</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> res.json())</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res));</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>ç¬¬äºŒä¸ªthenä¸­è¿”å›ç¬¬ä¸€ä¸ªthenæ‰§è¡Œå›è°ƒåçš„è¿”å›å€¼<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//89</span></span><br><span class="line"><span class="comment">// module.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; <span class="string">"Hello world"</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">"Lydia"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> data <span class="keyword">from</span> <span class="string">"./module"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(data);</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>{ default: function default(), name: â€œLydiaâ€ }é»˜è®¤å¯¼å‡ºï¼Œé”®åä¸ºdefaultï¼Œå‘½ååˆ°å¤„ï¼Œé”®åè‡ªå·±å®šä¹‰ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//92</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">giveLydiaPizza</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"Here is pizza!"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> giveLydiaChocolate = <span class="function"><span class="params">()</span> =&gt;</span></span><br><span class="line">  <span class="string">"Here's chocolate... now go hit the gym already."</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(giveLydiaPizza.prototype);</span><br><span class="line"><span class="built_in">console</span>.log(giveLydiaChocolate.prototype);</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>åŒ¿åå‡½æ•°æ²¡æœ‰prototypeï¼Œè¿”å›undefeidï¼Œ<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//93</span></span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  name: <span class="string">"Lydia"</span>,</span><br><span class="line">  age: <span class="number">21</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> [x, y] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(person)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>Object.keys(obj)è¿”å›å¯¹è±¡çš„é”®,Object.entries(obj)è¿”å›å¯¹è±¡çš„é”®å€¼å¯¹ç»„æˆçš„æ•°ç»„<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//94</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getItems</span>(<span class="params">fruitList, ...args, favoriteFruit</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [...fruitList, ...args, favoriteFruit]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getItems([<span class="string">"banana"</span>, <span class="string">"apple"</span>], <span class="string">"pear"</span>, <span class="string">"orange"</span>)</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>â€¦argsåªèƒ½ä½œä¸ºå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//97</span></span><br><span class="line"><span class="keyword">const</span> info = &#123;</span><br><span class="line">  [<span class="built_in">Symbol</span>(<span class="string">"a"</span>)]: <span class="string">"b"</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(info);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(info));</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>Symbolç±»å‹çš„ä¸¤ä¸ªç‰¹ç‚¹ï¼š1.Symbolçš„å€¼æ˜¯å”¯ä¸€çš„ 2.Symbolç±»å‹æ˜¯ä¸å¯æšä¸¾çš„<br>å¯ä»¥é€šè¿‡Object.getOwnPropertySymbols()è·å–Symbol<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//98</span></span><br><span class="line"><span class="keyword">const</span> getList = <span class="function">(<span class="params">[x, ...y]</span>) =&gt;</span> [x, y]</span><br><span class="line"><span class="keyword">const</span> getUser = <span class="function"><span class="params">user</span> =&gt;</span> &#123; <span class="attr">name</span>: user.name, <span class="attr">age</span>: user.age &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">const</span> user = &#123; <span class="attr">name</span>: <span class="string">"Lydia"</span>, <span class="attr">age</span>: <span class="number">21</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(getList(list))</span><br><span class="line"><span class="built_in">console</span>.log(getUser(user))</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>[x,â€¦y]=[1,2,3,4]=&gt;y=[2,3,4],æ‰€ä»¥è¿”å›[1,[2,3,4]],ç®­å¤´å‡½æ•°åœ¨çœç•¥{}çš„æƒ…å†µä¸‹è¦è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨()å°†æ‹¬å·æ‹¬èµ·æ¥<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//101</span></span><br><span class="line"><span class="keyword">const</span> one = <span class="literal">false</span> || &#123;&#125; || <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">const</span> two = <span class="literal">null</span> || <span class="literal">false</span> || <span class="string">""</span>;</span><br><span class="line"><span class="keyword">const</span> three = [] || <span class="number">0</span> || <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(one, two, three);</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>ä½¿ç”¨||è¿ç®—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥è¿”å›ç¬¬ä¸€ä¸ªçœŸå€¼ã€‚ å¦‚æœæ‰€æœ‰å€¼éƒ½æ˜¯å‡å€¼ï¼Œåˆ™è¿”å›æœ€åä¸€ä¸ªå€¼ã€‚<br>one=&gt;{}ï¼Œtwoéƒ½æ˜¯å‡å€¼ï¼Œè¿”å›æœ€åä¸€ä¸ªå€¼=&gt;â€â€,three=&gt;[]ä¸ºçœŸå€¼<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¾æ¬¡è¾“å‡ºä»€ä¹ˆ</span></span><br><span class="line"><span class="comment">//102</span></span><br><span class="line"><span class="keyword">const</span> myPromise = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">Promise</span>.resolve(<span class="string">'I have resolved!'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">firstFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  myPromise().then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res))</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'second'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">secondFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'secondFunction'</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">await</span> myPromise())</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'second'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">firstFunction()</span><br><span class="line">secondFunction()</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>firstFunctionä¸­myPromiseçš„å›è°ƒåœ¨thenæ–¹æ³•ä¸­ï¼ŒsecondFunctionçš„å›è°ƒæ˜¯asyncå‡½æ•°ä¸­çš„awaitåé¢çš„ä»£ç <br>ä¹Ÿå°±æ˜¯å…ˆæ‰§è¡Œäº†firstFunctionçš„å¼‚æ­¥æ–¹æ³•ï¼Œå†æ‰§è¡Œconsole.log(â€˜secondâ€™)ï¼Œæ¥ç€æ‰§è¡ŒfirstFunctionçš„å›è°ƒ<br>I have resolved!ã€‚æ¥ç€æŒ‰ç…§é¡ºåºæ‰§è¡Œå¼‚æ­¥ä»£ç ï¼Œå³console.log(res)=&gt; console.log(await myPromise())=&gt; console.log(â€˜secondâ€™)<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//103</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = new Set()</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span>.add(1)</span><br><span class="line"><span class="keyword">set</span>.add("Lydia")</span><br><span class="line"><span class="keyword">set</span>.add(&#123; name: <span class="string">"Lydia"</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> <span class="keyword">set</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item + <span class="number">2</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//110 è¿™ä¸ªå‡½æ•°åšäº†ä»€ä¹ˆ</span></span><br><span class="line"><span class="built_in">JSON</span>.parse()</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡ºä»€ä¹ˆ</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">'Lydia'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(name)</span><br><span class="line">  <span class="keyword">let</span> name = <span class="string">'Sarah'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getName()</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/ajiangpz/blog/blog/2019/09/28/åŸå‹/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/09/28/åŸå‹/" itemprop="url">åŸå‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-09-28T16:38:02+08:00">
                2019-09-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>object.create</code>ä¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶æŠŠè¿™ä¸ªå¯¹è±¡çš„[prototype]å’ŒæŒ‡å®šçš„å¯¹è±¡å…³è”ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anotherObj = &#123;</span><br><span class="line">  a: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(anotherObj);</span><br><span class="line"><span class="built_in">console</span>.log(obj.a);</span><br></pre></td></tr></table></figure>
<p>å±æ€§è®¾ç½®å’Œå±è”½<br>ç»™ä¸€ä¸ªå¯¹è±¡è®¾ç½®å±æ€§æ—¶ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šå·²ç»å­˜åœ¨è¯¥å±æ€§ï¼Œæ­¤æ—¶ä¼šå‘ç”Ÿä¸‰ç§æƒ…å†µ</p>
<ul>
<li>åŸå‹é“¾ä¸Šçš„å±æ€§æ˜¯å¯å†™çš„(<code>writable</code>:<code>true</code>)ï¼Œé‚£ä¹ˆ js ä¼šåœ¨å¯¹è±¡ä¸Šåˆ›å»ºå±æ€§ã€‚</li>
<li><p>åŸå‹é“¾ä¸Šçš„å±æ€§æ˜¯åªè¯»çš„ï¼Œé‚£ä¹ˆ js ä¸ä¼šåœ¨å¯¹è±¡ä¸Šåˆ›å»ºå±æ€§ï¼Œå¦‚æœåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿˜ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anotherObj = &#123;</span><br><span class="line">  a: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(anotherObj, <span class="string">"b"</span>, &#123;</span><br><span class="line">  value: <span class="number">3</span>,</span><br><span class="line">  writable: <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(anotherObj);</span><br><span class="line">obj.b = <span class="number">4</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.b); <span class="comment">//3</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.hasOwnProperty(<span class="string">"b"</span>)); <span class="comment">//false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŸå‹é“¾ä¸Šçš„å±æ€§å­˜åœ¨ setterï¼Œé‚£ä¹ˆ js ä¼šè°ƒç”¨è¿™ä¸ª setterï¼Œä¸ä¼šå°†åœ¨å¯¹è±¡ä¸Šåˆ›å»ºå±æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anotherObj = &#123;</span><br><span class="line">  <span class="keyword">get</span> b() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._b_;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">set</span> b(val) &#123;</span><br><span class="line">    <span class="keyword">this</span>._b_ = val * val;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(anotherObj);</span><br><span class="line">obj.b = <span class="number">4</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.b); <span class="comment">//3</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.hasOwnProperty(<span class="string">"b"</span>)); <span class="comment">//false</span></span><br></pre></td></tr></table></figure>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/ajiangpz/blog/blog/2019/09/28/å¯¹è±¡-md/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/09/28/å¯¹è±¡-md/" itemprop="url">å¯¹è±¡</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-09-28T10:10:39+08:00">
                2019-09-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ç±»å‹"><a href="#ç±»å‹" class="headerlink" title="ç±»å‹"></a>ç±»å‹</h3><ul>
<li>åŸºæœ¬æ•°æ®ç±»å‹<br><code>string</code>,<code>number</code>,<code>boolean</code>,<code>null</code>,<code>undefined</code></li>
<li><p>å†…ç½®å¯¹è±¡<br><code>String</code>ï¼Œ<code>Number</code>ï¼Œ<code>Boolean</code>ï¼Œ<code>Object</code>ï¼Œ<code>Array</code>ï¼Œ<code>Function</code>ï¼Œ<code>Date</code>ï¼Œ<code>RegExp</code>ï¼Œ<code>Error</code><br>è¿™äº›å†…ç½®å¯¹è±¡æ˜¯ JavaScript å†…éƒ¨çš„æ„é€ å‡½æ•°ï¼Œç”¨äºåˆ›å»ºå¯¹åº”å­ç±»å‹çš„æ–°å¯¹è±¡ã€‚å…¶ä¸­é™¤äº†<code>Date</code>ï¼Œ<code>Error</code>å…¶ä»–å­ç±»å‹éƒ½å¯ä»¥é€šè¿‡å­—é¢é‡åˆ›å»ºï¼Œå¯¹äº<code>String</code>ï¼Œ<code>Number</code>ï¼Œ<code>Boolean</code>ï¼Œå®ƒä»¬çš„å­—é¢é‡æ˜¯åŸºæœ¬ç±»å‹ï¼Œå¯¹äº<code>Object</code>ï¼Œ<code>Array</code>ï¼Œ<code>Function</code>ï¼Œ<code>RegExp</code>ï¼Œå®ƒä»¬çš„å­—é¢é‡ä¹Ÿæ˜¯å¯¹è±¡ã€‚<code>String</code>ï¼Œ<code>Number</code>åœ¨è°ƒç”¨å¯¹è±¡å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼ŒJavaScript å¼•æ“ä¼šè‡ªåŠ¨å°†å…¶å­—é¢é‡è½¬åŒ–ä¸ºå¯¹è±¡ã€‚å¦‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'123'</span>.length;</span><br><span class="line"><span class="number">123.123</span>.toFixed(<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>null ä¸ºä»€ä¹ˆä¸æ˜¯å¯¹è±¡ï¼Ÿ<br>åœ¨åº•å±‚å¯¹è±¡éƒ½å·²äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œå¦‚æœæ˜¯å¯¹è±¡ç±»å‹é‚£ä¹ˆå‰ä¸‰ä½éƒ½æ˜¯ 0ï¼Œè€Œ null æ‰€æœ‰çš„ä½éƒ½æ˜¯ 0ï¼Œå› è€Œè¢«æ£€æµ‹ä¸ºå¯¹è±¡ã€‚</p>
</li>
</ul>
<h3 id="å†…å®¹"><a href="#å†…å®¹" class="headerlink" title="å†…å®¹"></a>å†…å®¹</h3><ul>
<li><p>å¯è®¡ç®—å±æ€§å<br>åœ¨ ES6 ä¸­å¯ä»¥ä½¿ç”¨<code>[&#39;è¡¨è¾¾å¼&#39;]</code>å®šä¹‰å±æ€§åã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1=&#123;</span><br><span class="line">    [+<span class="keyword">new</span> <span class="built_in">Date</span>()]:<span class="string">'aaaa'</span>,</span><br><span class="line">    [<span class="number">1</span>+<span class="number">2</span>]:<span class="string">'bbbb'</span>,</span><br><span class="line">    [<span class="built_in">Symbol</span>()]:<span class="string">'cccc'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj1)</span><br><span class="line"><span class="comment">//&#123; '3': 'bbbb', '1569484632274': 'aaaa', [Symbol()]: 'cccc' &#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°ç»„å±æ€§<br>æ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ä»¥å¯¹è±¡çš„æ–¹å¼æ·»åŠ å±æ€§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">arr=[<span class="string">'foo'</span>,<span class="string">'bar'</span>,<span class="string">'baz'</span>];</span><br><span class="line">arr[<span class="string">'name'</span>]=<span class="string">'array'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr.length);<span class="comment">//3</span></span><br><span class="line">arr[<span class="string">'3'</span>]=<span class="string">'array'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr.length)<span class="comment">//4</span></span><br></pre></td></tr></table></figure>
<p>å½“å¯¹è±¡çš„å±æ€§å¯ä»¥è½¬åŒ–ä¸ºæ•°å­—æ—¶ï¼Œjs ä¼šå°†ç›´æ¥å°†å…¶ä½œä¸ºæ•°ç»„ä¸‹æ ‡çš„å€¼ï¼Œä»è€Œæœ‰å¯èƒ½æ”¹å˜æ•°ç»„çš„é•¿åº¦ã€‚</p>
</li>
<li><p>å¤åˆ¶å¯¹è±¡<br><code>Object.assign({},obj)</code>å¯ä»¥å®ç°æµ…æ‹·è´ï¼Œ<code>JSON.Parse(JSON.stringify(obj))</code>å¯ä»¥å®ç°å®‰å…¨çš„ JSON å¯¹è±¡çš„æ·±æ‹·è´ã€‚</p>
</li>
<li><p>å±æ€§æè¿°ç¬¦</p>
<ul>
<li><p>è·å–å±æ€§æè¿°</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    a:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(obj,<span class="string">'a'</span>))</span><br><span class="line"><span class="comment">//&#123; value: 2, writable: true, enumerable: true, configurable: true &#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å®šä¹‰å±æ€§</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;</span><br><span class="line">    value:<span class="number">3</span>,</span><br><span class="line">    writable:<span class="literal">false</span>,</span><br><span class="line">    configurable:<span class="literal">true</span>,</span><br><span class="line">    enumerable:<span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line">obj.a=<span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.a)<span class="comment">//3</span></span><br></pre></td></tr></table></figure>
<ul>
<li>writable<br>å®šä¹‰å±æ€§æ˜¯å¦å¯å†™ï¼Œå¦‚æœå®šä¹‰ä¸º falseï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ä¸ä¼šæŠ¥é”™ä¹Ÿä¸ä¼šä¿®æ”¹å±æ€§å€¼</li>
<li><p>configurable<br>å®šä¹‰å±æ€§æ˜¯å¦å¯ä»¥é…ç½®ï¼Œå¦‚æœä¸º trueï¼Œé‚£ä¹ˆå±æ€§ä¸èƒ½å†ç”¨ defineProperty é…ç½®<code>enumerable</code>,<code>configurable</code>ã€‚<code>writable</code>å¯ä»¥æœ‰ true é…ç½®ä¸º falseï¼Œä½†æ˜¯ä¸å¯ä»¥ä» false é…ç½®ä¸º trueï¼Œåˆ é™¤å¯¹è±¡å±æ€§ä¹Ÿä¼šé™é»˜æ— æ•ˆã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;</span><br><span class="line">    value:<span class="number">3</span>,</span><br><span class="line">    writable:<span class="literal">true</span>,</span><br><span class="line">    configurable:<span class="literal">false</span>,</span><br><span class="line">    enumerable:<span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;<span class="attr">value</span>:<span class="number">2</span>&#125;)</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;<span class="attr">writable</span>:<span class="literal">false</span>&#125;)</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;<span class="attr">enumerable</span>:<span class="literal">false</span>&#125;)</span><br><span class="line"><span class="comment">//Cannot redefine property: a</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;</span><br><span class="line">    value:<span class="number">3</span>,</span><br><span class="line">    writable:<span class="literal">true</span>,</span><br><span class="line">    configurable:<span class="literal">false</span>,</span><br><span class="line">    enumerable:<span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">delete</span> obj.a;</span><br><span class="line"><span class="built_in">console</span>.log(obj.a);</span><br></pre></td></tr></table></figure>
<p>tip:delete åˆ é™¤çš„å±æ€§å¦‚æœæ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œé‚£ä¹ˆè¢«å¼•ç”¨çš„å¯¹è±¡å¦‚æœæ²¡æœ‰å…¶ä»–å¼•ç”¨å°±ä¼šè¢«åƒåœ¾å›æ”¶ã€‚</p>
</li>
<li><p>enumerable<br>æè¿°å±æ€§æ˜¯å¦å¯ä»¥è¢«ç±»ä¼¼äº<code>Object.keys()</code>ï¼ˆå¯¹è±¡è‡ªèº«ï¼‰,<code>for...in...</code>ï¼ˆå¯¹è±¡è‡ªèº«å’ŒåŸå‹ï¼‰æšä¸¾ã€‚</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>ä¸å˜æ€§</p>
<ul>
<li><p>å¯¹è±¡å¸¸é‡<br>é€šè¿‡å°†<code>configurable</code>å’Œ<code>writable</code>å±æ€§è®¾ç½®ä¸º falseï¼Œå¯ä»¥ä¸ºå¯¹è±¡åˆ›å»ºä¸€ä¸ªå¸¸é‡å±æ€§ã€‚</p>
</li>
<li><p>ç¦æ­¢æ‰©å±•<br>ç¦æ­¢ä¸€ä¸ªå¯¹è±¡æ·»åŠ æ–°å±æ€§å¹¶ä¸”ä¿ç•™å·²æœ‰å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨<code>Object.</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    a:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.preventExtensions(obj)</span><br><span class="line">obj.b=<span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.b);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯†å°<br><code>Object.seal()</code>æ–¹æ³•å…ˆç¦æ­¢å¯¹è±¡æ‰©å±•ï¼Œå¹¶æŠŠå¯¹è±¡æ‰€æœ‰å±æ€§æ ‡è®°ä¸º<code>configurable</code>ä¸º<code>false</code>ï¼Œæ·»åŠ åå¯¹è±¡ä¸ä»…ä¸èƒ½æ·»åŠ æ–°çš„å±æ€§ï¼Œä¹Ÿä¸èƒ½é‡æ–°é…ç½®å’Œåˆ é™¤å·²æœ‰çš„å±æ€§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">a:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.seal(obj);</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;</span><br><span class="line">    value:<span class="number">5</span>,</span><br><span class="line">    writable:<span class="literal">false</span></span><br><span class="line">&#125;)<span class="comment">//ä¸ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="keyword">delete</span> obj.a</span><br><span class="line"><span class="built_in">console</span>.log(obj.a)<span class="comment">//5,æ²¡æœ‰è¢«åˆ é™¤</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;</span><br><span class="line">    configurable:<span class="literal">true</span></span><br><span class="line">&#125;)<span class="comment">//æŠ¥é”™ï¼ä¸èƒ½é‡æ–°é…ç½®ã€‚</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å†»ç»“<br><code>Object.freeze()</code>,åˆ›å»ºä¸€ä¸ªå†»ç»“å¯¹è±¡ï¼Œæ‰€æœ‰å±æ€§çš„<code>writable</code>éƒ½è¢«è®¾ç½®è¢«<code>false</code>,è¿™ä¸ªæ–¹æ³•æ˜¯å¯ä»¥åº”ç”¨åœ¨å¯¹è±¡ä¸Šæœ€é«˜çº§åˆ«çš„ä¸å˜æ€§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">a:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.freeze(obj);</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'a'</span>,&#123;</span><br><span class="line">    value:<span class="number">5</span>,<span class="comment">//è¿å±æ€§å€¼ä¹Ÿä¸èƒ½ä¿®æ”¹</span></span><br><span class="line">    writable:<span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(obj.a)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><em>Getter</em>å’Œ<em>Setter</em><br>å½“ä¸€ä¸ªå¯¹è±¡å®šä¹‰<code>getter</code>æˆ–è€…<code>setter</code>å±æ€§ï¼ŒJavaScript ä¼šå¿½ç•¥å¯¹è±¡çš„<code>value</code>å’Œ<code>writable</code>ç‰¹æ€§ï¼Œè€Œé€šè¿‡<code>set</code>å’Œ<code>get</code>ç‰¹æ€§å»è·å–æˆ–è€…è®¾ç½®å¯¹è±¡çš„å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    <span class="keyword">get</span> a()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._a_||<span class="number">0</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span> a(val)&#123;</span><br><span class="line">        <span class="keyword">this</span>._a_=val*val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.a=<span class="number">4</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.a);<span class="comment">//16</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å­˜åœ¨æ€§<br>åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨æŸä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥ç”¨<code>in</code>ï¼Œ<code>hasOwnProperty</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=<span class="keyword">new</span> <span class="built_in">Object</span>(&#123;</span><br><span class="line">    a:<span class="string">'aaaa'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Object</span>.prototype.b=<span class="string">'bbbb'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'a'</span> <span class="keyword">in</span> obj);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'b'</span> <span class="keyword">in</span> obj);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.hasOwnProperty(<span class="string">'a'</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.hasOwnProperty(<span class="string">'b'</span>));<span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<p><code>in</code>ä¼šæŸ¥æ‰¾æ•´ä¸ªå¯¹è±¡è‡ªèº«åŠå…¶åŸå‹é“¾çš„å±æ€§ï¼Œ<code>hasOwnProperty</code>åªä¼šæŸ¥æ‰¾å¯¹è±¡æœ¬èº«çš„å±æ€§ï¼Œè¿™ä¸¤ä¸ªåˆ¤æ–­çš„æ˜¯å±æ€§çš„<code>å¯è®¿é—®æ€§</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=<span class="keyword">new</span> <span class="built_in">Object</span>(&#123;</span><br><span class="line">a:<span class="string">'aaaa'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'c'</span>,&#123;</span><br><span class="line">    value:<span class="string">'cccc'</span>,</span><br><span class="line">    enumerable:<span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'a'</span> <span class="keyword">in</span> obj);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.hasOwnProperty(<span class="string">'a'</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'c'</span> <span class="keyword">in</span> obj);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.hasOwnProperty(<span class="string">'c'</span>));<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p>å¯æšä¸¾æ€§æ„å‘³ç€å¯ä»¥è¢«éå†ï¼Œéå†æŒ‡çš„æ˜¯<code>for...in</code>å’Œ<code>Object.keys()</code>ç­‰å…·æœ‰å¾ªç¯çš„æ–¹æ³•ï¼Œ<code>Object.keys()</code>å¯ä»¥è·å–å¯¹è±¡æœ¬èº«æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œä½†æ˜¯æ²¡æœ‰å†…ç½®å‡½æ•°å¯ä»¥å¾—åˆ°å¯¹è±¡åŠå…¶åŸå‹é“¾ä¸Šæ‰€æœ‰å¯æšä¸¾å±æ€§çš„åˆ—è¡¨ã€‚åˆ¤æ–­å¯¹è±¡æœ¬èº«å±æ€§æ˜¯å¦å¯ä»¥æšä¸¾å¯ä»¥ä½¿ç”¨ <code>propertyIsEnumerable()</code>ï¼Œ<code>getOwnPropertyNames()</code>å¯ä»¥è·å–å¯¹è±¡è‡ªèº«æ‰€æœ‰å¯è®¿é—®å±æ€§ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªéå†æ–¹æ³•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">a:<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'b'</span>,&#123;</span><br><span class="line">    enumerable:<span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(obj));<span class="comment">//[a,b]</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.propertyIsEnumerable(<span class="string">'a'</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.propertyIsEnumerable(<span class="string">'b'</span>));<span class="comment">//false</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h3><ul>
<li>éå†å¯¹è±¡å±æ€§<br><code>for...in...</code>ï¼Œ<code>object.keys()</code></li>
<li><p>éå†å¯¹è±¡çš„å±æ€§å€¼</p>
<ul>
<li><code>ES5</code>æ•°ç»„ä¸­éå†å¯¹è±¡çš„å±æ€§å€¼<br><code>foreach(callback))</code>éå†æ‰€æœ‰æ•°ç»„çš„å€¼å¹¶å¿½ç•¥å›è°ƒå‡½æ•°çš„è¿”å›å€¼ï¼Œ<code>some(callback)</code>å›è°ƒå‡½æ•°è¿”å›<code>true</code>å³åœæ­¢éå†ï¼Œ<code>every(callback)</code>å›è°ƒå‡½æ•°è¿”å›<code>false</code>å³åœæ­¢éå†ã€‚</li>
<li><p><code>ES6</code>æ•°ç»„ä¸­éå†å¯¹è±¡çš„å±æ€§å€¼<br><code>for...of...</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> v <span class="keyword">of</span> arr)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(v)<span class="comment">//a,b,c</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>for...of...</code>ä¼šè°ƒç”¨æ•°ç»„å†…éƒ¨çš„è¿­ä»£å™¨å¯¹è±¡ï¼Œæ‰§è¡Œå¯¹è±¡çš„<code>next()</code>æ–¹æ³•ï¼Œæ¯ä¸ª<code>next()</code>éƒ½ä¼šè¿”å›<code>{value:value|undefined,done:false|true}</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">var</span> it=arr[<span class="built_in">Symbol</span>.iterator]();<span class="comment">//è·å–æ•°ç»„å†…éƒ¨çš„è¿­ä»£å™¨å¯¹è±¡</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())<span class="comment">//&#123; value: 'a', done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())<span class="comment">//&#123; value: 'b', done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())<span class="comment">//&#123; value: 'c', done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())<span class="comment">//&#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¹è±¡ä¸­è¿­ä»£å±æ€§å€¼<br>å¯¹è±¡ä¸­æ²¡æœ‰è‡ªå¸¦çš„è¿­ä»£å™¨ï¼Œéœ€è¦è‡ªå·±å®šä¹‰ä¸€ä¸ªã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">a:<span class="number">2</span>,</span><br><span class="line">b:<span class="number">3</span>,</span><br><span class="line">c:<span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="built_in">Symbol</span>.iterator,&#123;</span><br><span class="line">    enumerable:<span class="literal">false</span>,</span><br><span class="line">    writable:<span class="literal">false</span>,</span><br><span class="line">    value:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> o=<span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">var</span> idx=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">var</span> ks=<span class="built_in">Object</span>.keys(o);</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            next:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span>&#123;</span><br><span class="line">                    value:o[ks[idx++]],</span><br><span class="line">                    done:(idx&gt;ks.length)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> v <span class="keyword">of</span> obj)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åªè¦ next æ–¹æ³•è¿”å›äº†<code>{value:value,done:boolean}</code>ï¼Œé‚£ä¹ˆè¿­ä»£å°±ä¼šç»§ç»­ï¼Œä¸ç®¡å¯¹è±¡è¿˜æœ‰æ²¡æœ‰å±æ€§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> randoms=&#123;</span><br><span class="line">    [<span class="built_in">Symbol</span>.iterator]:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>&#123;</span><br><span class="line">            next:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span>&#123;<span class="attr">value</span>:<span class="built_in">Math</span>.random()*<span class="number">10</span>&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> random_pool=[];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> v <span class="keyword">of</span> randoms)&#123;</span><br><span class="line">    <span class="keyword">if</span>(random_pool.length&lt;<span class="number">10</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(v)</span><br><span class="line">        random_pool.push(v)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç è‡ªå®šä¹‰äº†ä¸€ä¸ªäº§ç”Ÿéšæœºæ•°çš„è¿­ä»£å™¨ï¼Œnext ä¸€ç›´è¿”å›æœ‰æ•ˆçš„å€¼ï¼Œå› è€Œè¿­ä»£ä¸ä¼šåœæ­¢ã€‚</p>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/ajiangpz/blog/blog/2019/09/22/ä½œç”¨åŸŸ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/09/22/ä½œç”¨åŸŸ/" itemprop="url">ä½œç”¨åŸŸ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-09-22T22:18:55+08:00">
                2019-09-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p>å‡½æ•°ä½œç”¨åŸŸ</p>
<ul>
<li>åŒ¿åå‡½æ•°</li>
</ul>
</li>
<li><p>å—ä½œç”¨åŸŸ</p>
<ul>
<li><p>tryâ€¦catchâ€¦åˆ›å»ºå—çº§ä½œç”¨åŸŸ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="number">2</span>;</span><br><span class="line">&#125; <span class="keyword">catch</span> (a) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//a is not defined</span></span><br></pre></td></tr></table></figure>
<p>try è¯­å¥ä¼šé€šè¿‡ throw è¯­å¥å°† err å¯¹è±¡ä¼ é€’ç»™ catch å‡½æ•°ï¼Œcatch åˆ›å»ºå—çº§ä½œç”¨åŸŸï¼Œå¹¶å°† err å¯¹è±¡åŠ å…¥ä½œç”¨åŸŸçš„æ´»åŠ¨å¯¹è±¡ä¸­ï¼Œå»¶é•¿äº†ä½œç”¨åŸŸé“¾ã€‚<br>åœ¨ç”¨å·¥å…·å°† es6 çš„å—çº§ä½œç”¨åŸŸä»£ç è½¬åŒ–ä¸º es5 ä»£ç æ—¶ï¼Œè¿™æ˜¯é¦–é€‰çš„æ–¹å¼ã€‚</p>
</li>
<li><p>eval(str)<br>å½“æ‰§è¡Œ eval å‡½æ•°æ—¶ï¼Œå¦‚æœä¼ å…¥çš„å­—ç¬¦ä¸²ä¸­å«æœ‰å˜é‡å£°æ˜ var a=3ï¼Œé‚£ä¹ˆ a å°±ä¼šè¢«åŠ å…¥ eval æ‰€åœ¨çš„ä½œç”¨åŸŸ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">eval</span>(<span class="string">"var a=3"</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">//3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">6</span>;</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿° eval å°† a=3 åŠ å…¥åˆ° foo çš„ä½œç”¨åŸŸä¸­ï¼Œå› æ­¤åé¢çš„ console.log(a)æ²¡æœ‰æ‰“å°å…¨å±€çš„ a=6ã€‚</p>
</li>
<li><p>let å°†å£°æ˜çš„å˜é‡åˆ›å»ºå¯¹åº”çš„ä½œç”¨åŸŸï¼Œå¦‚æ¯ä¸€æ¬¡å¾ªç¯æ‰§è¡Œ let j=i;æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªä½œç”¨åŸŸã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> j = i; <span class="comment">//ç»‘å®šä½œç”¨åŸŸ</span></span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(j); <span class="comment">//0,1,2,3,4,5</span></span><br><span class="line">  &#125;, j * <span class="number">100</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœå°±è·Ÿä¸‹é¢çš„ä»£ç ä¸€æ ·</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> j = i;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(j); <span class="comment">//0,1,2,3,4,5</span></span><br><span class="line">    &#125;, j * <span class="number">100</span>);</span><br><span class="line">  &#125;)();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>with</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o1 = &#123;</span><br><span class="line">  a: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> o2 = &#123;</span><br><span class="line">  b: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">with</span> (obj) &#123;</span><br><span class="line">    a = <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">foo(o1);</span><br><span class="line">foo(o2);</span><br><span class="line"><span class="built_in">console</span>.log(o1.a); <span class="comment">//2</span></span><br><span class="line"><span class="built_in">console</span>.log(o2.a); <span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//2</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo(obj)&#123;</span><br><span class="line">  <span class="keyword">with</span>(obj)&#123;</span><br><span class="line">    <span class="keyword">var</span> c=<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cc;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(foo(&#123;&#125;))</span><br></pre></td></tr></table></figure>
<p>with æ–¹æ³•ä¼šç”¨ä¼ å…¥çš„å¯¹è±¡ obj åœ¨å½“å‰çš„è¯æ³•ä½œç”¨åŸŸå†åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ä½œç”¨åŸŸï¼Œè¿™ä¸ªä½œç”¨åŸŸåŒ…å«äº† obj æ‰€æœ‰çš„å±æ€§ï¼Œå¯¹äº o1 ç›¸å½“äº a=3,å¯¹äº o2 ç›¸å½“äº b=3,å› è€Œæ‰§è¡Œ a=2 æ—¶ï¼Œä¼šå°† o1 çš„ a é‡æ–°èµ‹å€¼ä¸º 2ï¼Œè€Œ o2 ä¸­ç”±äºæ‰¾ä¸åˆ° aï¼Œä¼šç»§ç»­æ²¿ç€ä½œç”¨åŸŸé“¾å¯»æ‰¾ï¼Œæœ€ååˆ°äº†å…¨å±€ä½œç”¨åŸŸæ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±åªèƒ½å®šä¹‰ä¸€ä¸ª a å˜é‡ï¼Œä¸”å°†å…¶èµ‹å€¼ä¸º 2ã€‚</p>
<p>æ³¨æ„ï¼Œå½“åœ¨ with ä¸­ä½¿ç”¨ var è¯­å¥æ—¶ï¼Œå®šä¹‰çš„å˜é‡å±äºåŒ…å« with çš„ä½œç”¨åŸŸï¼Œå¦‚ä¾‹å­çš„ foo å‡½æ•°ã€‚</p>
</li>
</ul>
</li>
</ul>
<ul>
<li>æå‡<br>åœ¨ä½œç”¨åŸŸä¸­(å…¨å±€ï¼Œå‡½æ•°ï¼Œå—çº§)å‡½æ•°å’Œå˜é‡çš„å£°æ˜ä¼šè¢«æå‡åˆ°è¯¥ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œä¸”å‡½æ•°å£°æ˜ä¼˜å…ˆäºå˜é‡å£°æ˜ï¼Œé‡å¤å£°æ˜å‡½æ•°ä¼šè¦†ç›–æ‰åŸæ¥çš„å‡½æ•°ã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>; <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä¼šå…ˆå°†å˜é‡å£°æ˜æå‡ï¼Œç›¸å½“äº</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line">a = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//è¾“å‡º[Function: a]</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"aaaa"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°è¯´æ˜å‡½æ•°å£°æ˜æ¯”å˜é‡å£°æ˜ä¼˜å…ˆçº§é«˜ã€‚</p>
<ul>
<li><p>ä½œç”¨åŸŸé—­åŒ…</p>
<p>ä¸€ä¸ªå‡½æ•°è®°ä½å¹¶è®¿é—®äº†å®ƒæ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸï¼Œé‚£ä¹ˆå°±äº§ç”Ÿäº†é—­åŒ…ã€‚<br>ä»€ä¹ˆå«åšè®°ä½äº†è¯æ³•ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯å°†è¯æ³•ä½œç”¨åŸŸåŠ å…¥å‡½æ•°çš„å˜é‡å¯¹è±¡ï¼ŒåŠä½œç”¨åŸŸé“¾ä¸­ï¼Œæ›´ç®€å•çš„è¯´å°±æ˜¯å¼•ç”¨äº†æ‰€åœ¨è¯æ³•ä½œç”¨åŸŸçš„å˜é‡ï¼Œè®¿é—®äº†è¯æ³•ä½œç”¨åŸŸï¼ŒåŠæ‰§è¡Œäº†å‡½æ•°ã€‚é€šä¿—çš„ç†è§£è¿™å¥è¯ï¼Œå°±æ˜¯å¼•ç”¨äº†å‡½æ•°æ‰€åœ¨è¯æ³•ä½œç”¨åŸŸçš„å˜é‡ï¼Œå¹¶ä¸”æ‰§è¡Œäº†å‡½æ•°ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a); <span class="comment">//å¦‚æœæ²¡æœ‰å¼•ç”¨å¤–éƒ¨è¯æ³•ä½œç”¨åŸŸçš„å˜é‡ï¼Œæ— æ³•äº§ç”Ÿé—­åŒ…</span></span><br><span class="line">  &#125;</span><br><span class="line">  bar(); <span class="comment">//æ»¡è¶³ä¸Šè¿°ä¸¤ä¸ªæ¡ä»¶ï¼Œäº§ç”Ÿäº†é—­åŒ…</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç è™½ç„¶äº§ç”Ÿäº†é—­åŒ…ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> bar;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> baz = foo();</span><br><span class="line">baz();</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°å°† bar å‡½æ•°ä½œä¸ºå€¼è¿”å›ï¼Œbaz å‡½æ•°å¼•ç”¨äº† bar å‡½æ•°ï¼Œæ‰§è¡Œæ—¶äº§ç”Ÿäº†é—­åŒ…ã€‚ä¸ä¸Šä¸€ä¸ªä¾‹å­çš„åŒºåˆ«æ˜¯ï¼Œå‡½æ•°åœ¨å…¨å±€ä½œç”¨åŸŸè¢«è°ƒç”¨ï¼Œåœ¨ foo å‡½æ•°æ‰§è¡Œå®Œåï¼Œfoo çš„ä½œç”¨åŸŸå¹¶æ²¡æœ‰è¢«é”€æ¯ï¼Œå› ä¸º baz å‡½æ•°ç°åœ¨æ´»åŠ¨å¯¹è±¡ä¸­å­˜åœ¨å¯¹ foo çš„å¼•ç”¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">  &#125;</span><br><span class="line">  out(bar);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">out</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  fn();</span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°è¿™ç§å½¢å¼ï¼Œç±»ä¼¼äº settimeout(fn,delay),å› è€Œæ»¡è¶³ç›¸å…³æ¡ä»¶æ—¶ï¼Œå®šæ—¶å™¨ä¹Ÿæ˜¯ä¸€ç§é—­åŒ…ã€‚æœ¬è´¨ä¸Šæ— è®ºä½•æ—¶ä½•åœ°ï¼Œå¦‚æœå°†ï¼ˆè®¿é—®å®ƒä»¬å„è‡ªè¯æ³•ä½œç”¨åŸŸçš„ï¼‰å‡½æ•°å½“ä½œç¬¬ä¸€çº§çš„å€¼ç±»å‹å¹¶åˆ°å¤„ä¼ é€’ï¼Œå°±ä¼šäº§ç”Ÿå¾ˆå¤šé—­åŒ…ã€‚</p>
</li>
<li><p>å¾ªç¯</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;, <span class="number">100</span> * i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ç”Ÿæˆ 666666ï¼ŒåŸå› åœ¨äºå¾ªç¯ç»“æŸåå¼‚æ­¥ä»»åŠ¡æ‰åŠ å…¥é˜Ÿåˆ—ä¸­æ‰§è¡Œï¼Œè€Œç”±äºæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œå› è€Œå…¨å±€åªæœ‰ä¸€ä¸ª i å˜é‡ï¼Œå› è€Œæ‰€æœ‰çš„ setTimeout ç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ª i å³ 6ã€‚<br>è§£å†³æ–¹æ³•è‡ªç„¶æ˜¯æ¯ä¸ªè¿­ä»£åˆ›å»ºä¸€ä¸ªä½œç”¨åŸŸ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;, <span class="number">100</span> * i);</span><br><span class="line">  &#125;)();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ iife æ¯ä¸€ä¸ªè¿­ä»£éƒ½åˆ›å»ºäº†ä½œç”¨åŸŸï¼Œä½†æ˜¯è¿™äº›ä½œç”¨åŸŸä¸­å¹¶æ²¡æœ‰ i å˜é‡ï¼Œå› æ­¤è¿˜æ˜¯è¦åˆ°å…¨å±€ä½œç”¨åŸŸæ‰¾ï¼Œè¿˜æ˜¯è¾“å‡º 666666ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> j = i;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(j);</span><br><span class="line">    &#125;, <span class="number">100</span> * j);</span><br><span class="line">  &#125;)();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ç”¨ j å°†å˜é‡ i ä¿å­˜åˆ°å—ä½œç”¨åŸŸä¸­ï¼Œå°±ä¿è¯äº†æ¯ä¸€ä¸ªå—ä½œç”¨åŸŸéƒ½æœ‰ j å˜é‡ï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡è¿­ä»£ i çš„å‰¯æœ¬ï¼Œå›è°ƒå‡½æ•°æ‰§è¡Œæ—¶å°±å¯ä»¥åœ¨å„è‡ªçš„ä½œç”¨åŸŸä¸­æ‰¾åˆ° j å˜é‡äº†ã€‚</p>
</li>
<li><p>å¦‚ä½•ä½¿ç”¨é—­åŒ…åˆ›å»ºä¸€ä¸ªæ¨¡å—</p>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ªå°é—­çš„å‡½æ•°ï¼Œå¹¶ä¸”è‡³å°‘è°ƒç”¨ä¸€æ¬¡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°åˆ›å»ºäº† foo å°é—­å‡½æ•°ï¼Œå°† a å’Œ bar åŒ…å«åœ¨ foo çš„ä½œç”¨åŸŸä¸­ã€‚</p>
</li>
<li><p>å°é—­å‡½æ•°è¿”å›è‡³å°‘è¿”å›ä¸€ä¸ªå†…éƒ¨å‡½æ•°ï¼Œå½¢æˆé—­åŒ…ï¼Œç”¨äºè®¿é—®æ¨¡å—å†…éƒ¨çš„ç§æœ‰å˜é‡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        bar:bar</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> baz=foo();</span><br><span class="line">baz.bar();  <span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<p>æ¯è°ƒç”¨ä¸€æ¬¡ foo,å°±ä¼šåˆ›å»ºä¸€ä¸ªæ¨¡å—ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a++);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        bar:bar</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> baz=foo();</span><br><span class="line"><span class="keyword">var</span> pz=foo();</span><br><span class="line">baz.bar();<span class="comment">//1</span></span><br><span class="line">baz.bar();<span class="comment">//2</span></span><br><span class="line">pz.bar();<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>å½“ baz è°ƒç”¨ä¸¤æ¬¡ bar æ–¹æ³•æ—¶ï¼Œé€šè¿‡é—­åŒ…æ‰¾åˆ°äº† foo ä½œç”¨åŸŸä¸­çš„ aï¼Œå› æ­¤é—­åŒ…å¯ä»¥ä¿ç•™å˜é‡çš„çŠ¶æ€ã€‚</p>
</li>
</ol>
</li>
<li><p>ä½¿ç”¨ iife åˆ›å»ºå•ä¾‹æ¨¡å¼<br> å½“å…¨å±€ä¸­åªéœ€è¦ä¸€ä¸ªæ¨¡å—å®ä¾‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ iife åˆ›å»ºä¸€ä¸ªå•ä¾‹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> calc=(<span class="function"><span class="keyword">function</span> <span class="title">createSingle</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        count++;</span><br><span class="line">        <span class="built_in">console</span>.log(count)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">reduce</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        count--;</span><br><span class="line">        <span class="built_in">console</span>.log(count)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        add,</span><br><span class="line">        reduce</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br><span class="line">calc.add();</span><br><span class="line">calc.add();</span><br><span class="line">calc.reduce();</span><br><span class="line">calc.add();</span><br><span class="line">calc.reduce();</span><br><span class="line">calc.add();</span><br><span class="line">calc.reduce();</span><br><span class="line"><span class="comment">//1212121</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‘½åè¿”å›çš„å…¬å…± api çš„å¯¹è±¡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> calc=(<span class="function"><span class="keyword">function</span> <span class="title">createSingle</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">addSelf</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        count++;</span><br><span class="line">        <span class="built_in">console</span>.log(count)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">addDouble</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        count=count+<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">reduce</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        count--;</span><br><span class="line">        <span class="built_in">console</span>.log(count)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">change</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        obj.add=addDouble;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> obj=&#123;</span><br><span class="line">        add:addSelf,</span><br><span class="line">        reduce:reduce,</span><br><span class="line">        change:change</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;)()</span><br><span class="line">calc.change();</span><br><span class="line">calc.add();</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç æä¾›äº†åœ¨å…¬å…± API å¯¹è±¡æä¾›äº†ä¸€ä¸ª change æ–¹æ³•ï¼Œä½¿å¾—å¯ä»¥è°ƒç”¨ change å‡½æ•°æ”¹å˜å…¬å…± APIï¼Œä¹Ÿå¯ä»¥å¢åŠ ï¼Œåˆ é™¤ APIã€‚</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/ajiangpz/blog/blog/2019/09/21/this/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/09/21/this/" itemprop="url">this</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-09-21T23:24:21+08:00">
                2019-09-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p>this æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>åœ¨ JavaScript çš„å‡½æ•°ä¸­,this æ€»æ˜¯æŒ‡å‘ä¸€äº›å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å¯ä»¥æ˜¯å…¨å±€çš„å¯¹è±¡ windowï¼Œä¹Ÿå¯ä»¥æ˜¯æŸä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰çš„å¯¹è±¡ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¹Ÿå¯ä»¥æ˜¯ undefinedã€‚this å¹¶éæŒ‡å‘å‡½æ•°å£°æ˜æ—¶æ‰€åœ¨çš„ç¯å¢ƒï¼Œè€Œåœ¨è¿è¡Œæ—¶åŸºäºå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒåŠ¨æ€ç»‘å®šçš„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="string">"aaaaa"</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  a: <span class="string">"bbbbb"</span>,</span><br><span class="line">  foo: foo</span><br><span class="line">&#125;;</span><br><span class="line">foo(); <span class="comment">//aaaaa</span></span><br><span class="line">obj.foo(); <span class="comment">//bbbbb</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ç¬¬ä¸€ä¸ª foo å‡½æ•°æ‰§è¡Œç¯å¢ƒä¸º windowï¼Œç¬¬äºŒä¸ª foo å‡½æ•°æ‰§è¡Œç¯å¢ƒä¸º objï¼Œå› æ­¤ this çš„æŒ‡å‘æ˜¯åŠ¨æ€ç»‘å®šçš„ã€‚</p>
</li>
<li><p>ä¸ºä»€ä¹ˆè¦ç”¨ thisï¼Ÿ</p>
<p>é€šè¿‡ä½¿ç”¨ thisï¼Œå½“å‡½æ•°è¢«ä¸åŒçš„å¯¹è±¡è°ƒç”¨æ—¶ï¼Œå¯ä»¥é¿å…ä¼ å…¥å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡æ”¹å˜ this çš„æŒ‡å‘å³å¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">  name: <span class="string">"foo"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> bar = &#123;</span><br><span class="line">  name: <span class="string">"bar"</span></span><br><span class="line">&#125;;</span><br><span class="line">sayName.call(foo); <span class="comment">//foo</span></span><br><span class="line">sayName.call(bar); <span class="comment">//bar</span></span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ä½¿ç”¨ thisï¼Œå¯ä»¥ä½¿æˆ‘ä»¬çš„ä»£ç æ›´åŠ ä¼˜é›…ï¼Œæé«˜ä»£ç çš„å¯å¤ç”¨æ€§ã€‚</p>
</li>
<li><p>this çš„ç»‘å®šè§„åˆ™</p>
<ul>
<li><p>é»˜è®¤ç»‘å®š<br>åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ™®é€šå‡½æ•°è°ƒç”¨æ—¶ this é»˜è®¤ç»‘å®šçš„å…¨å±€å¯¹è±¡ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ™®é€šå‡½æ•°çš„ this ç»‘å®šçš„æ˜¯ undefinedã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"aaaaa"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">  "use strict"</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a); <span class="comment">//Cannot read property 'a' of undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>éšå¼ç»‘å®š</p>
<p>å½“å‡½æ•°è°ƒç”¨ä½ç½®æœ‰ä¸Šä¸‹ä¸‹æ–‡æ—¶ï¼Œæˆ–è€…è¯´æ˜¯å¦è¢«æŸä¸€ä¸ªå¯¹è±¡è°ƒç”¨æ—¶ï¼Œthis ä¼šç»‘å®šåˆ°è¿™ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ä¸­ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  a: <span class="string">"bbbbb"</span>,</span><br><span class="line">  foo: foo</span><br><span class="line">&#125;;</span><br><span class="line">obj.foo(); <span class="comment">//bbbbb</span></span><br></pre></td></tr></table></figure>
<p>æ­¤å¤„ obj è°ƒç”¨äº† fooï¼Œå› æ­¤ foo ä¸­çš„ this ç»‘å®šåˆ°äº† obj å¯¹è±¡ä¸Šã€‚</p>
<ul>
<li><p>é“¾å¼è°ƒç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  a: <span class="string">"obj1"</span>,</span><br><span class="line">  foo: foo</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">  a: <span class="string">"obj2"</span>,</span><br><span class="line">  obj1: obj1</span><br><span class="line">&#125;;</span><br><span class="line">obj2.obj1.foo();</span><br></pre></td></tr></table></figure>
<p>é“¾å¼è°ƒç”¨æ—¶ï¼Œå‡½æ•°çš„ this å§‹ç»ˆç»‘å®šåˆ°æœ€åä¸€å±‚è°ƒç”¨ä¸Šï¼Œå³ obj1ã€‚</p>
</li>
<li><p>æ¶ˆå¤±çš„ this</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  a: <span class="string">"aaaaa"</span>,</span><br><span class="line">  foo: foo</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> a = <span class="string">"window"</span>;</span><br><span class="line"><span class="keyword">var</span> bar = obj.foo;</span><br><span class="line">bar(); <span class="comment">//window</span></span><br></pre></td></tr></table></figure>
<p>bar æ˜¯ obj.foo çš„åº”ç”¨ï¼Œå› ä¸ºæ²¡æœ‰è°ƒç”¨ï¼Œæ‰€ä»¥ bar å…¶å®å°±æ˜¯ foo å‡½æ•°çš„åº”ç”¨ï¼Œä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨æ—¶ï¼Œé»˜è®¤ç»‘å®šå…¨å±€å¯¹è±¡ã€‚åœ¨äº‹ä»¶å›è°ƒå‡½æ•°ä¸­ï¼Œthis æœ‰æ—¶å€™ä¼šä¸ dom å…ƒç´ ç»‘å®šï¼Œå¦‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;button id=<span class="string">"btn"</span>&gt;clickme&lt;<span class="regexp">/button&gt;;</span></span><br><span class="line"><span class="regexp">var id = "window";</span></span><br><span class="line"><span class="regexp">var clickHandler = function() &#123;</span></span><br><span class="line"><span class="regexp">  console.log(this.id);</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br><span class="line"><span class="regexp">document</span></span><br><span class="line"><span class="regexp">  .getElementById("btn")</span></span><br><span class="line"><span class="regexp">  .addEventListener("click", clickHandler, false); /</span><span class="regexp">/btn</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>æ˜¾ç¤ºç»‘å®š</p>
<p>æ˜¾ç¤ºç»‘å®šå³åˆ©ç”¨ apply,call ç­‰æ–¹æ³•å°†å‡½æ•°çš„ this ç»‘å®šåˆ°æŒ‡å®šçš„å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">  name: <span class="string">"foo"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> bar = &#123;</span><br><span class="line">  name: <span class="string">"bar"</span></span><br><span class="line">&#125;;</span><br><span class="line">sayName.call(foo); <span class="comment">//foo</span></span><br><span class="line">sayName.call(bar); <span class="comment">//bar</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ç¡¬ç»‘å®š</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.hardBind = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> fn = <span class="keyword">this</span>; <span class="comment">//è·å–åŸå‡½æ•°</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fn.apply(obj);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> id = <span class="string">"window"</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  id: <span class="string">"anotherObj"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> clickHandler = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.id);</span><br><span class="line">&#125;.hardBind(<span class="keyword">this</span>);</span><br><span class="line"><span class="built_in">document</span></span><br><span class="line">  .getElementById(<span class="string">"btn"</span>)</span><br><span class="line">  .addEventListener(<span class="string">"click"</span>, clickHandler.bind(obj), <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
<p>clickHandler ä¸€ä¸ª this å§‹ç»ˆä¸å…¨å±€å¯¹è±¡ç»‘å®šçš„å‡½æ•°ï¼ŒclickHanler å†ç»‘å®šå…¶ä»–å¯¹è±¡ä¹Ÿæ˜¯æ²¡æœ‰ç”¨çš„ã€‚</p>
<ul>
<li>API ç»‘å®š</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">  id:<span class="string">'aaaaa'</span></span><br><span class="line">&#125;</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]forEach(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a)<span class="comment">//aaaaa</span></span><br><span class="line">&#125;,obj)</span><br></pre></td></tr></table></figure>
<p>åœ¨ foreach çš„ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥ä¼ å…¥ä¸€ä¸ªç»‘å®šçš„å¯¹è±¡ï¼Œå…¶å®å†…éƒ¨ä¹Ÿæ˜¯ä½¿ç”¨ call å’Œ apply å®ç°çš„ã€‚</p>
</li>
<li><p>new ç»‘å®š<br>é€šè¿‡ new è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¦‚æœå‡½æ•°ä¸­æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œé‚£ä¹ˆå‡½æ•° this ç»‘å®šçš„å°±æ˜¯ new ç”Ÿæˆçš„å®ä¾‹ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">sth</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.a = sth;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">sth</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.b = sth;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    b: <span class="string">"cccc"</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> foo(<span class="string">"aaaa"</span>);</span><br><span class="line"><span class="keyword">var</span> obj1 = <span class="keyword">new</span> bar(<span class="string">"bbbb"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj.a); <span class="comment">//aaaa</span></span><br><span class="line"><span class="built_in">console</span>.log(obj1.b); <span class="comment">//cccc</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„å½“æ„é€ å‡½æ•°ä¸­è¿”å›äº†ä¸€ä¸ªå¯¹è±¡ï¼Œæ­¤æ—¶ this ç»‘å®šçš„å°±ä¸æ˜¯è¿”å›çš„å¯¹è±¡äº†ã€‚</p>
</li>
</ul>
</li>
<li><p>ä¼˜å…ˆçº§</p>
<ul>
<li><p>æ¯”è¾ƒéšå¼ç»‘å®šå’Œæ˜¾ç¤ºç»‘å®šçš„ä¼˜å…ˆçº§</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  a: <span class="string">"aaaa"</span>,</span><br><span class="line">  foo: foo</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  a: <span class="string">"bbbb"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">  a: <span class="string">"cccc"</span></span><br><span class="line">&#125;;</span><br><span class="line">obj.foo(); <span class="comment">//aaaa</span></span><br><span class="line">obj.foo.call(obj1); <span class="comment">//bbbb</span></span><br><span class="line">obj.foo = obj.foo.bind(obj2);</span><br><span class="line">obj.foo(); <span class="comment">//cccc</span></span><br></pre></td></tr></table></figure>
<p>ç”±ä¸Šè¿°ä¾‹å­å¯ä»¥å¾—å‡ºæ˜¾ç¤ºç»‘å®šçš„ä¼˜å…ˆçº§é«˜äºéšå¼ç»‘å®šã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">sth</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.a = sth;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> bar = foo.bind(obj);</span><br><span class="line">bar(<span class="string">"aaaa"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj.a); <span class="comment">//aaaa</span></span><br><span class="line"><span class="comment">//æ­¤æ—¶fooä¸­çš„thiså·²ç»ç»‘å®šäº†obj</span></span><br><span class="line"><span class="keyword">var</span> baz = <span class="keyword">new</span> bar(<span class="string">"bbbb"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj.a); <span class="comment">//aaaa</span></span><br><span class="line"><span class="built_in">console</span>.log(baz.a); <span class="comment">//bbbb</span></span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šè¿°ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œnew çš„ä¼˜å…ˆçº§é«˜äºæ˜¾å¼ç»‘å®šã€‚</p>
</li>
</ul>
</li>
<li><p>ç®­å¤´å‡½æ•°çš„ this<br>ç®­å¤´å‡½æ•°æ˜¯æ ¹æ®å¤–å±‚çš„ä½œç”¨åŸŸï¼Œå¦‚å‡½æ•°ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸæ¥å†³å®š this çš„ï¼Œå› æ­¤ä¸éµå¾ªä¸Šè¿°çš„ 4 ä¸­è§„åˆ™ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">a</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> bar = foo();</span><br><span class="line"><span class="keyword">var</span> a = <span class="string">"window"</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  a: <span class="string">"obj"</span></span><br><span class="line">&#125;;</span><br><span class="line">bar(); <span class="comment">//window</span></span><br><span class="line"><span class="keyword">var</span> baz = foo.call(obj);</span><br><span class="line">baz(); <span class="comment">//obj</span></span><br></pre></td></tr></table></figure>
<p>bar(ç®­å¤´å‡½æ•°)çš„ this æŒ‡å‘çš„æ˜¯ window,å› ä¸º foo è°ƒç”¨æ—¶å…¶ this å°±æ˜¯å…¨å±€å˜é‡ï¼Œbaz çš„ this æŒ‡å‘ objï¼ŒåŒç†ã€‚ç®­å¤´å‡½æ•°çš„ç»‘å®šæ— æ³•è¢«ä¿®æ”¹(å°±ç®—æ˜¯ new ä¹Ÿä¸è¡Œï¼)</p>
</li>
<li><p>å¦‚ä½•ä½¿ç”¨ this</p>
<ul>
<li>åªä½¿ç”¨è¯æ³•ä½œç”¨åŸŸï¼Œå®Œå…¨æŠ›å¼ƒé”™è¯¯ this é£æ ¼çš„ä»£ç </li>
<li>å®Œå…¨é‡‡ç”¨ this é£æ ¼çš„ä»£ç ï¼Œå¿…è¦æ—¶ä½¿ç”¨ bindï¼Œå°½é‡é¿å…ä½¿ç”¨ self=this å’Œç®­å¤´å‡½æ•°ã€‚</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/ajiangpz/blog/blog/2019/08/04/webå®‰å…¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/08/04/webå®‰å…¨/" itemprop="url">webebå®‰å…¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-08-04T22:03:59+08:00">
                2019-08-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="web-å‰ç«¯å®‰å…¨"><a href="#web-å‰ç«¯å®‰å…¨" class="headerlink" title="web å‰ç«¯å®‰å…¨"></a>web å‰ç«¯å®‰å…¨</h1><h2 id="XSS-æ”»å‡»"><a href="#XSS-æ”»å‡»" class="headerlink" title="XSS æ”»å‡»"></a>XSS æ”»å‡»</h2><p>XSS æ”»å‡»é€šå¸¸æ˜¯æŒ‡é»‘å®¢é€šè¿‡â€œHTML æ³¨å…¥â€ç¯¡æ”¹äº†é¡µé¢ï¼Œæ’å…¥äº†æ¶æ„çš„è„šæœ¬ï¼Œä»è€Œåœ¨ç”¨æˆ·æµè§ˆç½‘é¡µæ—¶ï¼Œæ§åˆ¶ç”¨æˆ·æµè§ˆå™¨çš„ä¸€ç§æ”»å‡»ã€‚</p>
<h3 id="XSS-åˆ†ç±»"><a href="#XSS-åˆ†ç±»" class="headerlink" title="XSS åˆ†ç±»"></a>XSS åˆ†ç±»</h3><h4 id="åå°„å‹-XSS"><a href="#åå°„å‹-XSS" class="headerlink" title="åå°„å‹ XSS"></a>åå°„å‹ XSS</h4><p>åå°„å‹ XSS åˆç§°ä¸ºéæŒä¹…å‹ XSSï¼Œåªæ˜¯ç®€å•åœ°å°†ç”¨æˆ·çš„è¾“å…¥æ•°æ®â€œåå°„â€ç»™æµè§ˆå™¨ã€‚</p>
<ul>
<li><p>æ”»å‡»è¿‡ç¨‹</p>
<p>è¯±éª—ç”¨æˆ·ç‚¹å‡»æäº¤åï¼Œå®¢æˆ·ç«¯ä¼šå°†å¸¦æœ‰æ¶æ„ä»£ç çš„è¯·æ±‚å‘é€åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡å™¨å°†æ¶æ„ä»£ç æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼Œå‘é€ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯æ¸²æŸ“é¡µé¢æ—¶æ‰§è¡Œå…¶ä¸­çš„æ¶æ„ä»£ç ï¼Œxss æ”»å‡»æˆåŠŸã€‚</p>
</li>
<li><p>ç‰¹ç‚¹</p>
<ul>
<li>å³æ—¶æ€§ï¼Œä¸ä¼šå­˜å‚¨åœ¨æœåŠ¡ç«¯ã€‚</li>
<li>æ”»å‡»è€…éœ€è¦è¯±éª—ç”¨æˆ·ç‚¹å‡»ã€‚</li>
<li>éœ€è¦æœåŠ¡ç«¯å‚ä¸ã€‚</li>
</ul>
</li>
<li><p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//htmlä»£ç </span><br><span class="line">&lt;form id=&quot;form1&quot; action=&quot;http://localhost:3000/user&quot; method=&quot;GET&quot;&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;span&gt;ç”¨æˆ·å&lt;/span&gt;&lt;input type=&quot;text&quot; placeholder=&quot;ç”¨æˆ·å&quot; name=&quot;user&quot; /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//åœ¨é¡µé¢ä¸­è¾“å…¥&lt;script&gt;alert(/xss/)&lt;/script&gt;ï¼Œåˆ™è¯·æ±‚çš„urlå˜ä¸º</span><br><span class="line">http://localhost:3000/user?user=&lt;script&gt;alert(/xss/)&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//è·å–getè¯·æ±‚å‚æ•°ä¸­çš„userå­—æ®µ</span><br><span class="line">var user=url.query.user;</span><br><span class="line">//å°†userå­—æ®µæ³¨å…¥HTMLæ ‡ç­¾ç»™æµè§ˆå™¨æ¸²æŸ“</span><br><span class="line">ctx.response.body=</span><br><span class="line">`</span><br><span class="line">&lt;h1&gt;ä½ å¥½ï¼Œ$&#123;user&#125;&lt;/h1&gt;</span><br><span class="line">`</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="å­˜å‚¨å‹-XSS"><a href="#å­˜å‚¨å‹-XSS" class="headerlink" title="å­˜å‚¨å‹ XSS"></a>å­˜å‚¨å‹ XSS</h4><p>å­˜å‚¨å‹ XSS ä¼šæŠŠç”¨æˆ·è¾“å…¥çš„æ•°æ®â€œå­˜å‚¨â€åœ¨æœåŠ¡å™¨ç«¯ã€‚</p>
<ul>
<li><p>æ”»å‡»è¿‡ç¨‹</p>
<p>æ”»å‡»è€…å°†æ¶æ„ä»£ç å­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼Œå®¢æˆ·ç«¯è·å–åˆ°æœåŠ¡ç«¯å¸¦æœ‰æ¶æ„ä»£ç çš„èµ„æºæ—¶ï¼Œå°±ä¼šè¢«æ¤å…¥å¹¶æ‰§è¡Œæ¶æ„ä»£ç ã€‚</p>
</li>
<li><p>ç‰¹ç‚¹</p>
<ul>
<li>æŒä¹…æ€§ï¼Œæ¤å…¥åœ¨æ•°æ®åº“ä¸­ã€‚</li>
<li>å±å®³é¢å¹¿ï¼Œç”šè‡³å¯ä»¥è®©ç”¨æˆ·æœºå™¨å˜æˆ DDoS æ”»å‡»çš„è‚‰é¸¡ã€‚</li>
</ul>
</li>
<li><p>ç¤ºä¾‹</p>
<p>é»‘å®¢å†™ä¸‹ä¸€ç¯‡å¸¦æœ‰æ¶æ„ JavaScript ä»£ç çš„åšå®¢æ–‡ç« ï¼Œæ–‡ç« å‘è¡¨åï¼Œæ‰€æœ‰è®¿é—®è¯¥æ–‡ç« çš„ç”¨æˆ·éƒ½ä¼šåœ¨ä»–ä»¬å¯¹çš„æµè§ˆå™¨ä¸­æ‰§è¡Œè¿™æ®µæ¶æ„çš„ JavaScript ä»£ç ã€‚é»‘å®¢æŠŠæ¶æ„è„šæœ¬ä¿å­˜åˆ°æœåŠ¡å™¨ç«¯ï¼Œå› è€Œå«åšå­˜å‚¨å‹ XSSã€‚</p>
</li>
</ul>
<h4 id="DOM-Based-XSS"><a href="#DOM-Based-XSS" class="headerlink" title="DOM Based XSS"></a>DOM Based XSS</h4><p>é€šè¿‡ä¿®æ”¹é¡µé¢çš„ DOM èŠ‚ç‚¹å½¢æˆçš„ XSSã€‚</p>
<ul>
<li><p>æ”»å‡»è¿‡ç¨‹</p>
<p>æ”»å‡»è€…ä¸­é€šè¿‡ dom ç¼–ç¨‹æ”¹å˜é¡µé¢çš„ dom èŠ‚ç‚¹ï¼Œå¹¶å°†æ¶æ„ä»£ç æ¤å…¥è¿™äº›èŠ‚ç‚¹ä¸­ï¼Œå¯ä»¥æ˜¯å·²å­˜åœ¨èŠ‚ç‚¹çš„å±æ€§ï¼Œå†…å®¹ï¼Œäº‹ä»¶ç­‰ï¼Œä¹Ÿå¯ä»¥æ˜¯æ–°å¢ä¸€ä¸ªèŠ‚ç‚¹ã€‚ä¸éœ€è¦å‘é€è¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œé€šè¿‡æµè§ˆå™¨æ¸²æŸ“èŠ‚ç‚¹ç›´æ¥æ‰§è¡Œæ¶æ„ä»£ç ã€‚</p>
</li>
<li><p>ç‰¹ç‚¹</p>
<ul>
<li>æ•ˆæœä¸Šå±äºåå°„å‹ XSSã€‚</li>
<li>ä¸éœ€è¦æœåŠ¡å™¨è§£æå“åº”çš„ç›´æ¥å‚ä¸</li>
<li>ä¾é æµè§ˆå™¨ç«¯çš„ DOM è§£æ</li>
</ul>
</li>
<li><p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;t&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; id=&quot;text&quot; value=&quot;&quot;/&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; id=&quot;s&quot; value=&quot;write&quot; onclick=&quot;test()&quot;/&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  function test()&#123;</span><br><span class="line">    var str=document.getElementById(&quot;text&quot;)</span><br><span class="line">    document.getElementById(&quot;t&quot;).innerHTML=&quot;&lt;a href=&apos;&quot;+str+&quot;&apos;&gt;testLink&lt;/a&gt;&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">//å½“è¾“å…¥çš„æ•°æ®ä¸º &apos;&gt;&lt;img src=# onerror=alert(/xss/) /&gt;&lt;&apos;</span><br><span class="line">//é¡µé¢å°±ä¼šå¼¹å‡ºxssçš„è­¦å‘Šæ¡†</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="XSS-Payload"><a href="#XSS-Payload" class="headerlink" title="XSS Payload"></a>XSS Payload</h3><p>XSS æ”»å‡»æˆåŠŸåï¼Œæ”»å‡»è€…å¯¹ç”¨æˆ·å½“å‰é¡µé¢æ¤å…¥æ¶æ„è„šæœ¬ã€‚ç”¨ä»¥å®Œæˆå„ç§åŠŸèƒ½çš„æ¶æ„è„šæœ¬ï¼Œæˆä¸º XSS Payloadï¼Œä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„æ¶æ„è„šæœ¬åŠŸèƒ½ï¼š</p>
<ul>
<li>Cookie åŠ«æŒ</li>
<li>æ„é€  GET å’Œ POST è¯·æ±‚</li>
<li>XSS é’“é±¼</li>
<li>è¯†åˆ«ç”¨æˆ·æµè§ˆå™¨</li>
<li>è¯†åˆ«ç”¨æˆ·å®‰è£…çš„è½¯ä»¶</li>
<li>è·å–ç”¨æˆ·çš„çœŸå® IP åœ°å€</li>
</ul>
<h3 id="XSS-é˜²å¾¡"><a href="#XSS-é˜²å¾¡" class="headerlink" title="XSS é˜²å¾¡"></a>XSS é˜²å¾¡</h3><ul>
<li><p>HttpOnly</p>
<p>åœ¨æœåŠ¡ç«¯ç»™æµè§ˆå™¨è®¾ç½® cookieï¼Œå¦‚æœ cookie ä¸­å­˜åœ¨å…³é”®ä¿¡æ¯ï¼Œåº”è¯¥ç»™ cookie è®¾ç½® httpOnly å±æ€§ï¼Œä½¿æ”»å‡»è€…æ— æ³•é€šè¿‡ JavaScript è·å– cookie ä¿¡æ¯,å¦‚ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.set(&apos;Set-Cookie&apos;,cookie.serialize(&apos;name&apos;,String(user),&#123; httpOnly:true, maxAge:60*60*24*7 &#125;))</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å…¥æ£€æŸ¥</p>
<ul>
<li><p>æ£€æŸ¥æ–¹å¼</p>
<ul>
<li><p>æ ¼å¼æ£€æŸ¥</p>
<p>å¦‚ç”¨æˆ·ååªèƒ½æ˜¯æ•°å­—ã€å­—æ¯çš„ç»„åˆï¼Œæ‰‹æœºï¼Œèº«ä»½è¯ç­‰è¾“å…¥æ ¼å¼è¿›è¡Œè§„èŒƒï¼Œå¯ä»¥è®©ä¸€äº›åŸºäºç‰¹æ®Šå­—ç¬¦çš„ XSS æ”»å‡»ç”Ÿæ•ˆã€‚</p>
</li>
<li><p>ç‰¹æ®Šå­—ç¬¦æ£€æŸ¥</p>
<p>ä¸€èˆ¬æ˜¯æ£€æŸ¥ç”¨æˆ·è¾“å…¥çš„æ•°æ®ä¸­æ˜¯å¦åŒ…å«ä¸€äº›ç‰¹æ®Šå­—ç¬¦ã€‚å¦‚&lt;ï¼Œ&gt;ï¼Œâ€™ï¼Œâ€ç­‰ã€‚å¦‚æœå­˜åœ¨ï¼Œåˆ™å°†è¿™äº›å­—ç¬¦è¿›è¡Œè¿‡æ»¤æˆ–è€…ç¼–ç ã€‚</p>
</li>
</ul>
</li>
<li><p>æ³¨æ„äº‹é¡¹</p>
<p>è¾“å…¥æ£€æŸ¥é€»è¾‘å¿…é¡»æ”¾åœ¨æœåŠ¡ç«¯å®ç°ï¼Œå®¢æˆ·ç«¯çš„è¾“å…¥æ£€æŸ¥å¯ä»¥é˜»æŒ¡å¤§éƒ¨åˆ†ç”¨æˆ·çš„è¯¯æ“ä½œï¼ŒèŠ‚çº¦æœåŠ¡å™¨èµ„æºï¼Œä½†æ˜¯å¾ˆå®¹æ˜“è¢«æ”»å‡»è€…ç»•è¿‡ã€‚</p>
</li>
<li><p>ç¼ºé™·</p>
<ul>
<li><p>åœ¨è¾“å…¥çš„åœ°æ–¹å¯¹æ•°æ®åšäº†ç»Ÿä¸€çš„æ”¹å˜ï¼Œè¾“å‡ºåœ¨ html å’Œ JavaScript å¯èƒ½ä¼šå­˜åœ¨å·®å¼‚ã€‚</p>
</li>
<li><p>å¯èƒ½ä¼šæ”¹å˜ç”¨æˆ·çš„è¯­ä¹‰ï¼Œå¦‚ 1+1&lt;3ã€‚</p>
</li>
<li><p>è¾“å…¥æ£€æŸ¥æ—¶æ²¡æœ‰ç»“åˆæ¸²æŸ“é¡µé¢çš„ html ä»£ç ï¼Œå¯¹è¯­å¢ƒçš„ç†è§£å¹¶ä¸å®Œæ•´ï¼Œå¯èƒ½æ¼æŠ¥ã€‚å¦‚ url ä¸€èˆ¬æ˜¯åˆæ³•çš„ç”¨æˆ·æ•°æ®ï¼Œä½†æ˜¯å¦‚æœè¿™ä¸ª url æ˜¯æ¶æ„è„šæœ¬æ‰€åœ¨çš„ url åœ°å€ï¼Œå°±å¯ä»¥å®æ–½ xss æ”»å‡»äº†ã€‚</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>è¾“å‡ºæ£€æŸ¥</p>
<ul>
<li><p>åœ¨ HTML æ ‡ç­¾æˆ–è€…å±æ€§ä¸­è¾“å‡º</p>
<ul>
<li><p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;$&lt;script&gt;alert(/xss/)&lt;/script&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é˜²å¾¡æ–¹æ³•</p>
<p>XSS åœ¨è¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬æ˜¯æ„é€ ä¸€ä¸ª script æ ‡ç­¾ï¼Œæˆ–è€…ä»»ä½•èƒ½äº§ç”Ÿè„šæœ¬çš„æ–¹å¼ï¼Œé˜²å¾¡æ—¶åº”è¯¥å¯¹å¯¹å˜é‡è¿›è¡Œ htmlencodeã€‚</p>
</li>
</ul>
</li>
<li><p>åœ¨ script æ ‡ç­¾æˆ–è€…äº‹ä»¶ä¸­è¾“å‡º</p>
<ul>
<li><p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;var x=$var&lt;/script&gt;</span><br><span class="line">&lt;script&gt;var x=&quot;&quot;;alert(/xss/);//&quot;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é˜²å¾¡æ–¹æ³•</p>
<p>é˜²å¾¡æ—¶åº”è¯¥ç¡®ä¿å˜é‡åœ¨å¼•å·ä¸­ï¼Œæ”»å‡»è€…éœ€è¦å…ˆé—­åˆå¼•å·æ‰èƒ½å® æ–½ XSS æ”»å‡»ã€‚åŒæ—¶åº”è¯¥ä½¿ç”¨ JavaScriptEncode å¯¹å˜é‡ç¼–ç ã€‚</p>
</li>
</ul>
</li>
<li><p>åœ¨ CSS ä¸­è¾“å‡º</p>
<ul>
<li><p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;@import&apos;http://hack.xss.css&apos;&lt;/style&gt;</span><br><span class="line">&lt;div style=&quot;background:url(javascript:alert(&apos;XSS&apos;))&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é˜²å¾¡æ–¹æ³•</p>
<p>å°½å¯èƒ½ç¦æ­¢ç”¨æˆ·å¯æ§åˆ¶çš„å˜é‡åœ¨â€style æ ‡ç­¾â€ï¼Œâ€œHTML æ ‡ç­¾ä¸­çš„ sylte å±æ€§â€ä»¥åŠâ€œCSS æ–‡ä»¶â€ä¸­è¾“å‡ºã€‚å¦‚æœæœ‰éœ€è¦ï¼Œåº”è¯¥å¯¹å˜é‡è¿›è¡Œ cssEncodeã€‚</p>
</li>
</ul>
</li>
<li><p>åœ¨åœ°å€ä¸­è¾“å‡º</p>
<ul>
<li><p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;http://www.evil.com/?test=$var&quot;&gt;test&lt;/a&gt;</span><br><span class="line">&lt;a href=&quot;http://www.evil.com/?test&quot; onclick=&quot;(alert(1))&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é˜²å¾¡æ–¹æ³•</p>
<p>å¦‚æœå˜é‡æ˜¯åœ¨ URL çš„ path æˆ–è€… search ä¸­è¾“å‡ºï¼Œå¯ä»¥ä½¿ç”¨ URLEncode è¿›è¡Œç¼–ç ã€‚å¦‚æœå˜é‡æ˜¯æ•´ä¸ª URLï¼ŒURL ä¸­çš„ protocal å’Œ Host æ˜¯ä¸èƒ½è¿›è¡Œ URLEncode çš„ï¼Œå› ä¸ºå…¶ä¸­æœ‰//ï¼Œä¼šæ”¹å˜è¯­ä¹‰ï¼Œç”¨æˆ·æ•°æ®ä¹Ÿæœ‰å¯èƒ½æ˜¯ä¼ªåè®®ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ˜¯æ£€æŸ¥å˜é‡æ˜¯å¦ä»¥ http å¼€å¤´ï¼Œå¦‚æœä¸æ˜¯åˆ™æ‰‹åŠ¨æ·»åŠ ï¼Œä»¥ä¿è¯ä¸ä¼šå‡ºç°ä¼ªåè®®ç±»çš„ XSS æ”»å‡»</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>é˜²å¾¡ DOM Based XSS</p>
<ul>
<li><p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  var x=&quot;$var&quot;;</span><br><span class="line">  document.write(&quot;&lt;a href=&apos;&quot;+x+&quot;&apos;&gt;test&lt;/a&gt;&quot;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é˜²å¾¡æ–¹æ³•</p>
<p>å¦‚æœæŒ‰ç…§å‰é¢çš„æ–¹æ³•å¯¹å˜é‡è¿› javascriptEncodeï¼Œæµè§ˆå™¨æ‰§è¡Œ script ä»£ç æ—¶ï¼Œé¦–å…ˆä¼šå°†\$var è§£ç ï¼Œç„¶åå†é€šè¿‡ document.write å†™å…¥ a æ ‡ç­¾å±æ€§ï¼Œé€ æˆ XSS æ”»å‡»ã€‚å› è€Œåœ¨ document.write è¾“å‡ºåˆ° HTML æ ‡ç­¾æ—¶ï¼Œåº”è¯¥å†æ¬¡ encodeï¼Œå¦‚æœæ˜¯è¾“å‡ºåˆ° script æ ‡ç­¾æˆ–è€…äº‹ä»¶ï¼Œåˆ™è¿›è¡Œ JavaScriptEncodeï¼Œå¦‚æœæ˜¯ html æ ‡ç­¾ï¼Œåˆ™è¿›è¡Œ HtmlEncodeã€‚</p>
</li>
</ul>
</li>
</ul>
<h2 id="CSRF-æ”»å‡»"><a href="#CSRF-æ”»å‡»" class="headerlink" title="CSRF æ”»å‡»"></a>CSRF æ”»å‡»</h2><p>è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ æ˜¯æŒ‡æ”»å‡»è€…è¯±ä½¿ç”¨æˆ·è®¿é—®æ¶æ„è„šæœ¬æ‰€åœ¨é¡µé¢ï¼Œä»¥ç”¨æˆ·çš„èº«ä»½åœ¨è¯¥é¡µé¢æ‰§è¡Œç›¸å…³çš„æ“ä½œï¼Œå¦‚å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚</p>
<ul>
<li><p>ç‰¹ç‚¹</p>
<ul>
<li>è·å–ç”¨æˆ· cookie</li>
<li>ä¼ªé€  GET æˆ–è€… POST è¯·æ±‚</li>
</ul>
</li>
<li><p>é˜²å¾¡æ–¹æ³•</p>
<ul>
<li><p>éªŒè¯ç </p>
<p>éªŒè¯ç æ˜¯å¯¹æŠ— CSRF æ”»å‡»æœ€ç®€æ´æœ‰æ•ˆçš„é˜²å¾¡æ–¹æ³•ï¼Œä½†æ˜¯ç½‘ç«™ä¸èƒ½ç»™æ‰€æœ‰æ“ä½œéƒ½åŠ ä¸ŠéªŒè¯ç ï¼ŒéªŒè¯ç åªèƒ½ä½œä¸ºè¾…åŠ©æ‰‹æ®µï¼Œè€Œä¸æ˜¯æœ€ä¸»è¦çš„è§£å†³æ–¹æ¡ˆã€‚</p>
</li>
<li><p>Referer Check</p>
<p>æ£€æµ‹ç”¨æˆ·è¯·æ±‚æ˜¯å¦æ¥è‡ªåˆæ³•çš„æºï¼Œä½†æ˜¯è¯¥æ–¹æ³•çš„ç¼ºé™·åœ¨äºï¼ŒæœåŠ¡å™¨å¹¶éä»€ä¹ˆæ˜¯å¦éƒ½èƒ½å–åˆ° Refererï¼Œå®¢æˆ·ç«¯ä¸ºäº†ä¿æŠ¤ç”¨æˆ·éšç§ï¼Œæœ‰å¯èƒ½ä¼šé™åˆ¶ Referer çš„å‘é€ã€‚å¯ä»¥ç”¨ Referer æ¥ç›‘æ§ CSRF æ”»å‡»çš„å‘ç”Ÿï¼Œä½†ä¸æ˜¯ä¸»è¦æ‰‹æ®µã€‚</p>
</li>
<li><p>Token</p>
<p>CSRF èƒ½æ”»å‡»æˆåŠŸçš„ä¸»è¦åŸå› æ˜¯æ”»å‡»è€…å¯ä»¥çŒœæµ‹åˆ°è¯·æ±‚çš„é‡è¦å‚æ•°ï¼Œåªæœ‰é¢„æµ‹å‡ºäº†æ‰€æœ‰çš„å‚æ•°å’Œå‚æ•°å€¼æ”»å‡»è€…æ‰èƒ½æ”»å‡»æˆåŠŸã€‚æ–°å¢ä¸€ä¸ª token å‚æ•°ï¼Œè¿™ä¸ª token å‚æ•°å¿…é¡»ç”±è¶³å¤Ÿå®‰å…¨çš„éšæœºæ•°ç”Ÿæˆç®—æ³•ç”Ÿæˆã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œtoken ç”±æœåŠ¡å™¨ç”Ÿæˆï¼Œæ”¾åœ¨ç”¨æˆ·çš„ cookie æˆ–è€…ç”¨æˆ·çš„ session ä¸­ã€‚åœ¨æäº¤è¯·æ±‚æ—¶æœåŠ¡å™¨åªéœ€éªŒè¯è¡¨å•ä¸­çš„ token ä¸ç”¨æˆ· sessionï¼ˆæˆ–è€… cookiesï¼‰ä¸­çš„ token æ˜¯å¦ä¸€è‡´ï¼Œå°±å¯ä»¥åˆ¤æ–­è¯·æ±‚æ˜¯å¦åˆæ³•ã€‚ä½¿ç”¨ Token åº”è¯¥æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>å¦‚æœç”¨æˆ·å·²ç»æäº¤äº†è¡¨å•ï¼Œåº”è¯¥é‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„ token</li>
<li>å¯ä»¥è€ƒè™‘ç”Ÿæˆå¤šä¸ª token ä»¥è§£å†³å¤šé¡µé¢å…±å­˜çš„åœºæ™¯</li>
<li>ä½¿ç”¨ token åº”è¯¥æ³¨æ„ token çš„ä¿å¯†æ€§ï¼ŒæŠŠ token æ”¾åœ¨è¡¨å•çš„éšè—åŸŸä¸­ï¼Œæ•æ„Ÿæ“ä½œä½¿ç”¨ POST è¯·æ±‚ï¼Œå¯ä»¥é¿å… token æ³„æ¼ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="ç‚¹å‡»åŠ«æŒ"><a href="#ç‚¹å‡»åŠ«æŒ" class="headerlink" title="ç‚¹å‡»åŠ«æŒ"></a>ç‚¹å‡»åŠ«æŒ</h2><p>ç‚¹å‡»åŠ«æŒæ˜¯ä¸€ç§è§†è§‰ä¸Šçš„æ¬ºéª—æ‰‹æ®µã€‚</p>
<ul>
<li><p>æ”»å‡»è¿‡ç¨‹</p>
<p>æ”»å‡»è€…ä½¿ç”¨ä¸€ä¸ªé€æ˜çš„ã€ä¸å¯è§çš„ iframeï¼Œè¦†ç›–åœ¨ä¸€ä¸ªé¡µé¢ä¸Šï¼Œç„¶åè¯±ä½¿è¯±ä½¿ç”¨æˆ·åœ¨è¯¥é¡µé¢è¿›è¡Œæ“ä½œï¼Œæ­¤æ—¶ç”¨æˆ·åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ç‚¹å‡»é€æ˜çš„ iframe é¡µé¢ï¼Œé€šè¿‡è°ƒæ•´ iframe é¡µé¢çš„ä½ç½®ï¼Œå¯ä»¥è¯±ä½¿ç”¨æˆ·æ°å¥½ç‚¹å‡»åœ¨ iframe é¡µé¢ä¸Šçš„ä¸€äº›åŠŸèƒ½æ€§æŒ‰é’®ä¸Šã€‚</p>
</li>
<li><p>ç‰¹ç‚¹</p>
<ul>
<li>éœ€è¦è¯±ä½¿ç”¨æˆ·ä¸é¡µé¢äº§ç”Ÿäº¤äº’è¡Œä¸º</li>
<li>ä½¿ç”¨éšè— frame è¦†ç›–åŸç½‘é¡µ</li>
</ul>
</li>
<li><p>é˜²å¾¡æ–¹æ³•</p>
<ul>
<li><p>frame busting</p>
<p>é€šè¿‡ JavaScript ä»£ç ï¼Œç¦æ­¢ iframe çš„åµŒå¥—<br>ç¼ºé™·æ˜¯ iframe ä¸­çš„ sandbox å±æ€§ï¼Œsecurity å±æ€§ï¼Œéƒ½å¯ä»¥é™åˆ¶ iframe é¡µé¢ä¸­ JavaScript è„šæœ¬çš„æ‰§è¡Œã€‚</p>
</li>
<li><p>X-Frame-Options</p>
<p>ä½¿ç”¨ HTTP å¤´éƒ¨å­—æ®µ X-Frame-Options å­—æ®µè®¾ç½®å€¼ä¸º DENY å¯ä»¥æ‹’ç»å½“å‰é¡µé¢åŠ è½½ä»»ä½• frame é¡µé¢ï¼Œè®¾ç½® SAMEORIGIN å¯ä»¥åŠ è½½åŒæºçš„ frame é¡µé¢ï¼Œè®¾ç½® ALLOW-FROM å¯ä»¥å®šä¹‰å…è®¸ frame åŠ è½½çš„åœ°å€ã€‚</p>
</li>
</ul>
</li>
</ul>
<h2 id="HTML5-å®‰å…¨é—®é¢˜"><a href="#HTML5-å®‰å…¨é—®é¢˜" class="headerlink" title="HTML5 å®‰å…¨é—®é¢˜"></a>HTML5 å®‰å…¨é—®é¢˜</h2><h3 id="HTML5-æ–°æ ‡ç­¾"><a href="#HTML5-æ–°æ ‡ç­¾" class="headerlink" title="HTML5 æ–°æ ‡ç­¾"></a>HTML5 æ–°æ ‡ç­¾</h3><ul>
<li><p>æ–°æ ‡ç­¾çš„ XSS</p>
<p>HTML5 æ–°å¢äº†ä¸€äº›æ ‡ç­¾å’Œå±æ€§ï¼Œè¿™å¾ˆå¯èƒ½å¸¦æ¥æ–°çš„ XSS æ”»å‡»ï¼Œå¦‚ video,autio ç­‰æ ‡ç­¾ã€‚</p>
</li>
<li><p>iframe çš„ sandbox</p>
<p>iframe æ—¶å¸¸ä¼šå‡ºç°æŒ‚é©¬ï¼ŒXSSï¼Œç‚¹å‡»åŠ«æŒç­‰å®‰å…¨é—®é¢˜ï¼Œåœ¨ HTML5 ä¸­å¢æ·»äº† sandbox å±æ€§ï¼Œä½¿ç”¨è¯¥å±æ€§åï¼Œiframe å°†è¢«è§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„æºï¼Œå…¶ä¸­çš„è„šæœ¬å°†è¢«ç¦æ­¢æ‰§è¡Œï¼Œè¡¨å•ç¦æ­¢æäº¤ï¼Œæ’ä»¶ç¦æ­¢åŠ è½½ï¼ŒæŒ‡å‘å…¶ä»–æµè§ˆå™¨çš„å¯¹è±¡ä¹Ÿä¼šè¢«ç¦æ­¢ã€‚å¤§å¤§åœ°å¢å¼ºäº†ä½¿ç”¨ iframe çš„å®‰å…¨æ€§ã€‚</p>
</li>
<li><p>a æ ‡ç­¾çš„ noreferer</p>
<p>é€šè¿‡ä½¿ç”¨è¯¥å±æ€§ï¼Œæµè§ˆå™¨åœ¨è¯·æ±‚è¯¥æ ‡ç­¾æŒ‡å®šçš„åœ°å€å°†ä¸å†å‘é€ refererï¼Œä¿æŠ¤äº†ç”¨æˆ·äº†éšç§å’Œæ•æ„Ÿä¿¡æ¯ã€‚</p>
</li>
</ul>
<h3 id="å…¶ä»–å®‰å…¨é—®é¢˜"><a href="#å…¶ä»–å®‰å…¨é—®é¢˜" class="headerlink" title="å…¶ä»–å®‰å…¨é—®é¢˜"></a>å…¶ä»–å®‰å…¨é—®é¢˜</h3><ul>
<li><p>Cross-Origin-Resourse-Sharingï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼‰</p>
<p>é€šè¿‡è®¾ç½®å“åº” HTTP å¤´éƒ¨çš„ Accese-Control-Allow-Originï¼ŒæœåŠ¡å™¨é€šè¿‡è¯†åˆ«æµè§ˆå™¨è‡ªåŠ¨å¸¦ä¸Šçš„ Origin Headerï¼Œå¯ä»¥åˆ¤æ–­æµè§ˆå™¨çš„è¯·æ±‚æ˜¯å¦æ¥è‡ªåˆæ³•çš„æºï¼Œå¯ä»¥ç”¨æ¥é˜²èŒƒ CSRF æ”»å‡»ã€‚</p>
</li>
<li><p>postMessageï¼ˆè·¨çª—å£ä¼ é€’ä¿¡æ¯ï¼‰</p>
<p>postMessage ä¸å—æµè§ˆå™¨åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œå¯ä»¥ä½¿ä¸€ä¸ª windowï¼ˆçª—å£ï¼Œå¼¹çª—ï¼Œiframeï¼‰å‘å…¶ä»–çª—å£ä¼ é€’æ–‡æœ¬ä¿¡æ¯ï¼Œä½¿ç”¨æ—¶åº”è¯¥æ³¨æ„ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>åœ¨æ¥æ”¶çª—å£éªŒè¯ URLï¼Œä»¥é˜²æ­¢æ¥è‡ªéæ³•é¡µé¢çš„æ¶ˆæ¯ã€‚</li>
<li>åœ¨æ¥æ”¶çª—å£ä¸åº”è¯¥ä¿¡æ¯ä»»ä½•æ¥æ”¶åˆ°çš„ä¿¡æ¯ï¼Œéœ€è¦å¯¹ä¿¡æ¯åšå®‰å…¨æ£€æŸ¥ã€‚</li>
</ul>
</li>
<li><p>web Storage</p>
<p>web Storage æ˜¯ HTML5 ä¸­æ–°å¢çš„ç›¸æ¯” cookie æ›´åŠ æ–¹ä¾¿å’Œå¼ºå¤§çš„æœ¬åœ°å­˜å‚¨åŠŸèƒ½ã€‚åˆ†ä¸º sessionStorage å’Œ localStorageï¼Œå°±åƒä¸€ä¸ªéå…³ç³»å‹çš„æ•°æ®åº“ã€‚web Storage å¯èƒ½ä¼šå¸¦æ¥ä»¥ä¸‹å®‰å…¨é—®é¢˜ï¼š</p>
<ul>
<li>æ”»å‡»è€…æœ‰å¯èƒ½å°†æ¶æ„ä»£ç ä¿å­˜åœ¨ web Storage ä¸­ï¼Œä»è€Œå®ç°è·¨é¡µé¢æ”»å‡»ã€‚</li>
<li>å½“ web Storage ä¸­ä¿å­˜æ•æ„Ÿä¿¡æ¯æ—¶ï¼Œä¹Ÿå¯èƒ½ä¼šæˆä¸ºæ”»å‡»çš„ç›®æ ‡ï¼Œè€Œ XSS æ”»å‡»å¯ä»¥å®Œæˆè¿™ä¸€è¿‡ç¨‹ã€‚</li>
</ul>
</li>
</ul>
<h2 id="SQL-æ³¨å…¥"><a href="#SQL-æ³¨å…¥" class="headerlink" title="SQL æ³¨å…¥"></a>SQL æ³¨å…¥</h2><p>XSS æ˜¯é’ˆå¯¹ HTML çš„æ³¨å…¥æ”»å‡»ï¼Œè€Œ SQL æ³¨å…¥åˆ™æ˜¯é’ˆå¯¹æ•°æ®åº“çš„æ³¨å…¥æ”»å‡»ã€‚</p>
<ul>
<li><p>æ”»å‡»è¿‡ç¨‹</p>
<p>æ”»å‡»è€…å°† SQL å‘½ä»¤æ’å…¥åˆ° Web è¡¨å•æˆ–è¾“å…¥åŸŸåæˆ–é¡µé¢è¯·æ±‚çš„å­—ç¬¦ä¸²ï¼Œå¯¼è‡´æœåŠ¡å™¨æ‰§è¡Œæ¶æ„çš„ SQL å‘½ä»¤ã€‚</p>
</li>
<li><p>ç‰¹ç‚¹</p>
<ul>
<li>é’ˆå¯¹æ•°æ®åº“çš„æ³¨å…¥æ”»å‡»</li>
</ul>
</li>
<li><p>é˜²å¾¡æ–¹æ³•</p>
<ul>
<li><p>ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥</p>
<p>åœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œ SQL å‰æ•°æ®åº“ä¼šè¿›è¡Œåˆ†æã€ç¼–è¯‘å’Œä¼˜åŒ–ï¼ŒåŒæ—¶æ‰§è¡Œè®¡åˆ’åŒæ ·ä¼šè¢«ç¼“å­˜èµ·æ¥ï¼Œå®ƒå…è®¸æ•°æ®åº“åšå‚æ•°åŒ–æŸ¥è¯¢ã€‚åœ¨ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢çš„æƒ…å†µä¸‹ï¼Œæ•°æ®åº“ä¸ä¼šå°†å‚æ•°çš„å†…å®¹è§†ä¸º SQL æ‰§è¡Œçš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯ä½œä¸ºä¸€ä¸ªå­—æ®µçš„å±æ€§å€¼æ¥å¤„ç†ï¼Œè¿™æ ·å°±ç®—å‚æ•°ä¸­åŒ…å«ç ´ç¯æ€§è¯­å¥ï¼ˆor â€˜1=1â€™ï¼‰ä¹Ÿä¸ä¼šè¢«æ‰§è¡Œã€‚</p>
</li>
<li><p>ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹</p>
<p>ä½¿ç”¨å®‰å…¨çš„å­˜å‚¨è¿‡ç¨‹çš„æ•ˆæœé¢„ç¼–è¯‘è¯­å¥ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºéœ€è¦å…ˆå°† SQL è¯­å¥å®šä¹‰åœ¨æ•°æ®åº“ä¸­ï¼Œå­˜å‚¨è¿‡ç¨‹ä¸­ä¹Ÿå¯ä»¥å­˜åœ¨æ³¨å…¥é—®é¢˜ï¼Œå› æ­¤åº”è¯¥é¿å…åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­ä½¿ç”¨åŠ¨æ€çš„ SQL è¯­å¥ã€‚</p>
</li>
<li><p>æ£€æŸ¥æ•°æ®ç±»å‹</p>
<p>æ£€æŸ¥è¾“å…¥æ•°æ®çš„æ•°æ®ç±»å‹ï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå¯ä»¥å¯¹æŠ— SQL æ³¨å…¥ã€‚æˆ–è€…å¯¹è¾“å…¥è¿›è¡Œæ•°æ®æ ¼å¼æ£€æŸ¥ä¹Ÿå¯ä»¥é˜²èŒƒ SQL æ³¨å…¥ã€‚</p>
</li>
<li><p>ä½¿ç”¨å®‰å…¨å‡½æ•°</p>
<p>ä½¿ç”¨è¶³å¤Ÿå®‰å…¨çš„ç¼–ç å‡½æ•°ï¼Œå¯¹ç”¨æˆ·çš„è¾“å…¥æ•°æ®è¿›è¡Œç¼–ç ï¼Œå¯ä»¥å¸®åŠ©å¯¹æŠ— SQL æ³¨å…¥ã€‚</p>
</li>
<li><p>æœ€å°æƒé™åŸåˆ™</p>
<p>é¿å… web åº”ç”¨ç›´æ¥ä½¿ç”¨ root è¿™ç§é«˜æƒé™è´¦æˆ·ç›´æ¥è¿æ¥æ•°æ®åº“ï¼Œweb åº”ç”¨ä½¿ç”¨çš„æ•°æ®åº“è´¦æˆ·ï¼Œä¸åº”è¯¥æœ‰åˆ›å»ºè‡ªå®šä¹‰å‡½æ•°ã€æ“ä½œæœ¬åœ°æ–‡ä»¶çš„æƒé™ã€‚</p>
</li>
</ul>
</li>
</ul>
<h2 id="æ–‡ä»¶ä¸Šä¼ é—®é¢˜"><a href="#æ–‡ä»¶ä¸Šä¼ é—®é¢˜" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ é—®é¢˜"></a>æ–‡ä»¶ä¸Šä¼ é—®é¢˜</h2><p>æ–‡ä»¶ä¸Šä¼ æ˜¯æŒ‡ç”¨æˆ·ä¸Šä¼ äº†ä¸€ä¸ªå¯æ‰§è¡Œçš„è„šæœ¬æ–‡ä»¶ï¼Œå¹¶é€šè¿‡æ­¤è„šæœ¬æ–‡ä»¶è·å¾—æ‰§è¡ŒæœåŠ¡å™¨ç«¯å‘½ä»¤çš„èƒ½åŠ›ã€‚</p>
<ul>
<li><p>æ”»å‡»æ¡ä»¶</p>
<ul>
<li>ä¸Šä¼ çš„æ–‡ä»¶èƒ½å¤Ÿè¢« web å®¹å™¨æ‰§è¡Œï¼Œå› è€Œç›®å½•éœ€è¦æ˜¯ web å®¹å™¨éœ€è¦è¦†ç›–åˆ°çš„è·¯å¾„</li>
<li>ç”¨æˆ·èƒ½å¤Ÿä» web ä¸Šè®¿é—®è¿™ä¸ªæ–‡ä»¶ï¼Œå¦‚æœç”¨æˆ·æ— æ³•è®¿é—®æˆ–è€…æ— æ³•ä½¿å¾— web å®¹å™¨è§£é‡Šè¿™ä¸ªè„šæœ¬ï¼Œé‚£ä¹ˆä¹Ÿä¸èƒ½ç§°ä¹‹ä¸ºæ¼æ´ã€‚</li>
<li>ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶å†…å®¹ä¸èƒ½å› ä¸ºå‹ç¼©ï¼Œæ ¼å¼åŒ–ï¼Œæ£€æŸ¥ç­‰è¢«æ”¹å˜ï¼Œå¦åˆ™ä¹Ÿæœ‰å¯èƒ½æ”»å‡»ä¸æˆåŠŸã€‚</li>
</ul>
</li>
<li><p>æ”»å‡»è¿‡ç¨‹</p>
<p>ç”¨æˆ·ä¸Šä¼  web è„šæœ¬æ–‡ä»¶ï¼ŒæœåŠ¡ç«¯çš„ web å®¹å™¨è§£é‡Šå¹¶æ‰§è¡Œäº†ä¸Šä¼ çš„è„šæœ¬ï¼Œå¯¼è‡´ä»£ç æ‰§è¡Œï¼Œæˆ–è€…ä¸Šä¼ æœ¨é©¬ï¼Œç—…æ¯’è¯±ä½¿ç”¨æˆ·æˆ–è€…ç®¡ç†å‘˜ä¸‹è½½ã€‚</p>
</li>
<li><p>é˜²å¾¡æ–¹æ³•</p>
<ul>
<li><p>æ–‡ä»¶ä¸Šä¼ çš„ç›®å½•è®¾ç½®ä¸ºä¸å¯æ‰§è¡Œ</p>
<p>æ–‡ä»¶ä¸Šä¼ ç›®å½•åº”è¯¥æ˜¯ç‹¬ç«‹çš„å­˜å‚¨ï¼Œä¸€æ–¹é¢æ–¹ä¾¿ç¼“å­˜åŠ é€Ÿï¼Œé™ä½æ€§èƒ½æŸè€—ã€‚å¦ä¸€æ–¹é¢ä¹Ÿæœç»äº†è„šæœ¬æ‰§è¡Œçš„å¯èƒ½ã€‚</p>
</li>
<li><p>åˆ¤æ–­æ–‡ä»¶ç±»å‹</p>
<p>ä½¿ç”¨ç™½åå•çš„æ–¹å¼è¿›è¡Œæ–‡ä»¶ç±»å‹çš„æ£€æŸ¥ï¼Œå¯¹äºå›¾ç‰‡å¯ä»¥è¿›è¡Œå‹ç¼©å·²ç ´ç¯å…¶ä¸­çš„å¯èƒ½å­˜åœ¨çš„æ¶æ„ä»£ç ã€‚</p>
</li>
<li><p>ä½¿ç”¨éšæœºæ•°æ”¹å†™æ–‡ä»¶åå’Œæ–‡ä»¶è·¯å¾„</p>
<p>æ–‡ä»¶ä¸Šä¼ è¦æ‰§è¡Œä»£ç ï¼Œéœ€è¦ç”¨æˆ·èƒ½å¤Ÿè®¿é—®åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚å¦‚æœä½¿ç”¨éšæœºæ•°æ”¹å†™æ–‡ä»¶åå’Œè·¯å¾„ï¼Œæ”»å‡»è€…åœ¨å¯»æ‰¾æ–‡ä»¶ä¸Šå°†ä¼šå¢åŠ æå¤§çš„æˆæœ¬ã€‚ä¸æ­¤åŒæ—¶ï¼ŒæŸäº›æ–‡ä»¶ä¼šå› ä¸ºæ–‡ä»¶åçš„æ”¹å˜è€Œæ— æ³•æ‰§è¡Œã€‚</p>
</li>
<li><p>å•ç‹¬è®¾ç½®æ–‡ä»¶æœåŠ¡å™¨çš„åŸŸå</p>
<p>åˆ©ç”¨åŒæºç­–ç•¥ï¼Œå¯ä»¥ä½¿å¾—åŒ…å« JavaScript çš„ xss åˆ©ç”¨è¿™ç§é—®é¢˜å¾—åˆ°è§£å†³ã€‚</p>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/ajiangpz/blog/blog/2019/07/23/å†…å­˜æ³„æ¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/07/23/å†…å­˜æ³„æ¼/" itemprop="url">å†…å­˜æ³„æ¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-07-23T00:02:31+08:00">
                2019-07-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="å†…å­˜æ³„æ¼"><a href="#å†…å­˜æ³„æ¼" class="headerlink" title="å†…å­˜æ³„æ¼"></a>å†…å­˜æ³„æ¼</h1><ul>
<li><p>ä»€ä¹ˆæ˜¯å†…å­˜æ³„æ¼<br>JavaScriptå…·æœ‰åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œå½“ç¨‹åºä¸­å‡ºç°äº†æ— æ³•å›æ”¶çš„å†…å­˜ï¼Œåˆ™è¯´æ˜äº§ç”Ÿäº†å†…å­˜æ³„æ¼</p>
</li>
<li><p>ä¸ºä»€ä¹ˆä¸ºäº§ç”Ÿå†…å­˜æ³„æ¼  </p>
</li>
</ul>
<ol>
<li>æ„å¤–çš„å…¨å±€å˜é‡<br>æœªå£°æ˜çš„å…¨å±€å˜é‡ç¼“å­˜å¤§é‡çš„æ•°æ®ï¼Œä¼šå¯¼è‡´è¿™äº›æ•°æ®åªæœ‰åœ¨çª—å£å…³é—­æˆ–è€…é‡æ–°åˆ·æ–°é¡µé¢æ‰èƒ½é‡Šæ”¾ï¼Œè¿™æ ·å°±é€ æˆäº†å†…å­˜æ³„æ¼ã€‚</li>
<li>console.log<br>console.logæ‰“å°çš„å¯¹è±¡æ˜¯ä¸ä¼šè¢«åƒåœ¾å›æ”¶å™¨å›æ”¶çš„ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¸è¦console.logä»»ä½•å¤§å¯¹è±¡ã€‚</li>
<li>é—­åŒ…<br>é—­åŒ…æ˜¯å°†å‡½æ•°å†…éƒ¨å’Œå¤–éƒ¨è¿æ¥èµ·æ¥çš„æ¡¥æ¢ï¼Œåœ¨ç›¸åŒä½œç”¨åŸŸå†…åˆ›å»ºçš„å¤šä¸ªå†…éƒ¨å‡½æ•°å¯¹è±¡æ˜¯å…±äº«åŒä¸€ä¸ªå˜é‡å¯¹è±¡ï¼Œåªè¦æœ‰ä¸€ä¸ªå†…éƒ¨å‡½æ•°è¢«å¤–éƒ¨çš„å¯¹è±¡å¼•ç”¨ï¼Œåˆ™è¿™ä¸ªå†…éƒ¨å‡½æ•°çš„ä½œç”¨åŸŸä¸­å°±åŒ…å«äº†æ‰€æœ‰å†…éƒ¨å‡½æ•°å¼•ç”¨çš„å˜é‡ã€‚ä½¿ç”¨é—­åŒ…æ—¶ï¼Œå¦‚æœä½œç”¨åŸŸå†…å­˜åœ¨å…¶ä»–å†…éƒ¨å‡½æ•°çš„å˜é‡å¯¹è±¡ï¼Œé‚£ä¹ˆå°±é€ æˆäº†å†…å­˜æ³„æ¼ã€‚</li>
<li>domæ³„æ¼<br>å½“å‡ºç°å¤§é‡æ“ä½œdomå…ƒç´ çš„æƒ…å†µæ—¶ï¼Œå¸¸å¸¸éœ€è¦ç”¨ä¸€ä¸ªå˜é‡ç¼“å­˜domå…ƒç´ ï¼Œä½†æ˜¯è¿™æ ·å°±ä½¿å¾—domå…ƒç´ æœ‰äº†å¼•ç”¨ï¼Œå½“åˆ é™¤domå…ƒç´ æ—¶ï¼Œæµè§ˆå™¨å°±æ— æ³•å›æ”¶è¯¥domå…ƒç´ ï¼Œå› ä¸ºå­˜åœ¨å˜é‡å¼•ç”¨domå…ƒç´ ã€‚</li>
<li>æ²¡æœ‰åŠæ—¶æ¸…é™¤å®šæ—¶å™¨</li>
<li>ä½¿ç”¨åŒ¿åå‡½æ•°ç»‘å®šäº‹ä»¶ï¼Œè¿™æ ·æ¯ä¸€æ¬¡éœ€è¦é‡æ–°ç»‘å®šäº‹ä»¶æ—¶ï¼Œä¼šä½¿å…ƒç´ ç»‘å®šå¤šä¸ªäº‹ä»¶</li>
</ol>
<ul>
<li>å¦‚ä½•è§£å†³å†…å­˜æ³„æ¼</li>
</ul>
<ol>
<li>ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œå‡ºç°æ„å¤–çš„å…¨å±€å˜é‡æ—¶ä¼šæŠ¥é”™</li>
<li>ç”Ÿäº§ç¯å¢ƒåˆ é™¤æ‰€æœ‰console.logä»£ç </li>
<li>å½“ä¸éœ€è¦è¦åŠæ—¶å°†å¼•ç”¨å¯¹è±¡æˆ–è€…domå…ƒç´ çš„å˜é‡è®¾ç½®ä¸ºnullï¼Œä»¥ä¾¿æµè§ˆå™¨ä¼šå›æ”¶</li>
<li>ç»‘å®šäº‹ä»¶æ—¶ä½¿ç”¨å‘½åå‡½æ•°</li>
<li>åŠæ—¶æ¸…é™¤å®šæ—¶å™¨<br>t</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/ajiangpz/blog/blog/2019/07/02/httpåè®®/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/07/02/httpåè®®/" itemprop="url">httpåè®®</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-07-02T19:27:57+08:00">
                2019-07-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="httpå¤´éƒ¨"><a href="#httpå¤´éƒ¨" class="headerlink" title="httpå¤´éƒ¨"></a>httpå¤´éƒ¨</h1><ul>
<li><p>é€šç”¨å¤´éƒ¨</p>
<ul>
<li>cache-control<ul>
<li>no-cache <ul>
<li>è¯·æ±‚ç«¯åŒ…å«è¯¥å­—æ®µè¡¨æ˜å®¢æˆ·ç«¯ä¸ä¼šæ¥æ”¶ç¼“å­˜è¿‡çš„èµ„æºï¼Œç¼“å­˜æœåŠ¡å™¨å¿…é¡»æŠŠå®¢æˆ·ç«¯çš„è¯·æ±‚å‘é€ç»™æºæœåŠ¡å™¨(p87)</li>
<li>å“åº”ç«¯åŒ…å«è¯¥æŒ‡ä»¤è¡¨æ˜ç¼“å­˜æœåŠ¡å™¨ä¸èƒ½å¯¹èµ„æºè¿›è¡Œç¼“å­˜ï¼ŒæºæœåŠ¡å™¨ä¸å†å¯¹ç¼“å­˜æœåŠ¡å™¨ä¸­æå‡ºçš„èµ„æºæœ‰æ•ˆæ€§è¿›è¡Œç¡®è®¤ï¼Œä¸”ç¦æ­¢å…¶å¯¹å“åº”è¿›è¡Œç¼“å­˜æ“ä½œ</li>
</ul>
</li>
<li>no-store<ul>
<li>ç¼“å­˜ä¸èƒ½å†æœ¬åœ°å­˜å‚¨å“åº”æˆ–è€…è¯·æ±‚çš„ä»»ä¸€éƒ¨åˆ†</li>
</ul>
</li>
<li>s-maxage=xxxx(å•ä½:ç§’)<ul>
<li>åªé€‚ç”¨äºä¾›å¤šä¸ªç”¨æˆ·ä½¿ç”¨çš„å…¬å…±ç¼“å­˜æœåŠ¡å™¨ï¼ˆä»£ç†ï¼‰,ä½¿ç”¨s-maxageåï¼Œmaxage,expiresæ— æ•ˆ</li>
</ul>
</li>
<li>max-age=xxxx(å•ä½:ç§’)<ul>
<li>å®¢æˆ·ç«¯è¯·æ±‚ä¸­åŒ…å«è¯¥æŒ‡ä»¤ï¼Œå¦‚æœåˆ¤å®šç¼“å­˜çš„æ—¶é—´æ¯”æŒ‡å®šæ—¶é—´çŸ­ï¼Œåˆ™æ¥æ”¶ç¼“å­˜çš„èµ„æºï¼Œå¦åˆ™ï¼Œç¼“å­˜æœåŠ¡å™¨éœ€è¦å°†è¯·æ±‚å‘é€ç»™æºæœåŠ¡å™¨</li>
</ul>
</li>
<li>min-fresh=xxxx(å•ä½:ç§’)<ul>
<li>è¿”å›ç¼“å­˜æœåŠ¡å™¨ä¸­è¿˜æœªè¿‡æŒ‡å®šæ—¶é—´çš„ç¼“å­˜èµ„æº</li>
</ul>
</li>
<li>max-stale=xxxx(å•ä½ï¼šç§’)<ul>
<li>åœ¨æŒ‡å®šçš„æ—¶é—´å†…éƒ½å¯ä»¥æ¥æ”¶ç¼“å­˜èµ„æºï¼Œå³ä½¿ç¼“å­˜èµ„æºå·²ç»è¿‡æœŸ</li>
</ul>
</li>
<li>only-if-cached <ul>
<li>å®¢æˆ·ç«¯åªåœ¨ç¼“å­˜æœåŠ¡å™¨æœ¬åœ°ç¼“å­˜ç›®æ ‡èµ„æºçš„æƒ…å†µä¸‹æ‰ä¼šè¦æ±‚å…¶è¿”å›ï¼Œå¦‚è¿‡ç¼“å­˜ä¸­æ²¡æœ‰è¯¥èµ„æºï¼Œè¿”å›504çŠ¶æ€ç </li>
</ul>
</li>
<li>must-revalidate<ul>
<li>ä»£ç†å¿…é¡»å‘æœåŠ¡å™¨å†æ¬¡éªŒè¯è¯¥èµ„æºçš„æœ‰æ•ˆæ€§ï¼Œå¦‚æœä»£ç†æ— æ³•è¿é€šæœåŠ¡å™¨å†æ¬¡è·å–æœ‰æ•ˆèµ„æºï¼Œç¼“å­˜å¿…é¡»å‘å®¢æˆ·ç«¯è¿”å›504çŠ¶æ€ç </li>
</ul>
</li>
<li>proxy-revalidate<ul>
<li>æ‰€æœ‰çš„ç¼“å­˜æœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯å¸¦æœ‰è¯¥æŒ‡ä»¤çš„è¯·æ±‚è¿”å›å“åº”ä¹‹å‰ï¼Œå†æ¬¡éªŒè¯ç¼“å­˜çš„æœ‰æ•ˆæ€§ã€‚</li>
</ul>
</li>
<li>no-transform<ul>
<li>æ— è®ºæ˜¯åœ¨è¯·æ±‚è¿˜æ˜¯åœ¨å“åº”ä¸­ï¼Œç¼“å­˜éƒ½ä¸èƒ½æ”¹å˜å®ä½“ä¸»ä½“çš„åª’ä½“ç±»å‹</li>
</ul>
</li>
</ul>
</li>
<li>connection<ul>
<li>close</li>
<li>Keep-Alive æŒä¹…åŒ–è¿æ¥</li>
<li>ä¸åœ¨è½¬å‘ç»™ä»£ç†çš„é¦–éƒ¨å­—æ®µ</li>
</ul>
</li>
<li>Date<ul>
<li>Date: Tue, 03 Jul 2012 04:40:59 GMT</li>
</ul>
</li>
<li>transfer-encoding<br>è§„å®šäº†ä¼ è¾“æŠ¥æ–‡ä¸»ä½“æ—¶é‡‡ç”¨çš„ç¼–ç æ–¹å¼ï¼ŒHTTP/1.1 çš„ä¼ è¾“ç¼–ç æ–¹å¼ä»…å¯¹åˆ†å—ä¼ è¾“ç¼–ç æœ‰æ•ˆã€‚<ul>
<li>chunked åˆ†å—ä¼ è¾“</li>
</ul>
</li>
<li>upgrade<ul>
<li>é¦–éƒ¨å­—æ®µ Upgrade ç”¨äºæ£€æµ‹ HTTP åè®®åŠå…¶ä»–åè®®æ˜¯å¦å¯ä½¿ç”¨æ›´é«˜çš„ç‰ˆæœ¬è¿›è¡Œé€šä¿¡ï¼Œå…¶å‚æ•°å€¼å¯ä»¥ç”¨æ¥æŒ‡å®šä¸€ä¸ªå®Œå…¨ä¸åŒçš„é€šä¿¡åè®®ã€‚</li>
</ul>
</li>
<li>Via<ul>
<li>ä½¿ç”¨é¦–éƒ¨å­—æ®µ Via æ˜¯ä¸ºäº†è¿½è¸ªå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„è¯·æ±‚å’Œå“åº”æŠ¥æ–‡çš„ä¼ è¾“è·¯å¾„ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p>è¯·æ±‚é¦–éƒ¨å­—æ®µ</p>
<ul>
<li>accept : é€šçŸ¥æœåŠ¡å™¨å®¢æˆ·ç«¯å¯ä»¥å¤„ç†çš„åª’ä½“ç±»å‹åŠåª’ä½“ç›¸å¯¹ä¼˜å…ˆçº§<ul>
<li>æ–‡æœ¬æ–‡ä»¶ text/html,text/plain,text/css</li>
<li>å›¾ç‰‡æ–‡ä»¶ image/jpeg,image/gif,image/png</li>
<li>è§†é¢‘æ–‡ä»¶ video/mpeg,video/quicktime</li>
<li>äºŒè¿›åˆ¶æ–‡ä»¶ application/octet-stream</li>
</ul>
</li>
<li>accept-charset ï¼šå®¢æˆ·ç«¯æ”¯æŒçš„å­—ç¬¦é›†åŠå­—ç¬¦é›†çš„ç›¸å¯¹ä¼˜å…ˆé¡ºåº</li>
<li>accept-encoding ï¼šå®¢æˆ·ç«¯æ”¯æŒçš„å†…å®¹ç¼–ç åŠå†…å®¹ç¼–ç çš„ä¼˜å…ˆçº§é¡ºåºã€‚<ul>
<li>gzipï¼šç”±æ–‡ä»¶å‹ç¼©ç¨‹åºgzipç”Ÿæˆçš„ç¼–ç æ ¼å¼</li>
<li>compressï¼šç”±UNIXæ–‡ä»¶å‹ç¼©ç¨‹åºcompressç”Ÿæˆçš„ç¼–ç æ ¼å¼</li>
<li>deflateï¼šç»„åˆä½¿ç”¨zlibæ ¼å¼åŠç”±deflateç®—æ³•ç”Ÿæˆçš„ç¼–ç æ ¼å¼</li>
<li>identityï¼šä¸æ‰§è¡Œå‹ç¼©æˆ–ä¸ä¼šå˜åŒ–çš„é»˜è®¤ç¼–ç æ ¼å¼</li>
</ul>
</li>
<li>accept-language:zh-cn,zh;q=0.7</li>
<li>authorizationï¼šå‘ŠçŸ¥æœåŠ¡å™¨ç”¨æˆ·ä»£ç†çš„è®¤è¯ä¿¡æ¯</li>
<li>expectï¼š å‘ŠçŸ¥æœåŠ¡å™¨ï¼ŒæœŸæœ›å‡ºç°çš„æŸç§ç‰¹å®šè¡Œä¸ºï¼Œç›®å‰åªè§„å®šäº†100,continue</li>
<li>fromï¼š å‘ŠçŸ¥æœåŠ¡å™¨ä½¿ç”¨ç”¨æˆ·ä»£ç†çš„ç”¨æˆ·çš„ç”µå­é‚®ç®±</li>
<li>Hostï¼šé¦–éƒ¨å­—æ®µ Host ä¼šå‘ŠçŸ¥æœåŠ¡å™¨ï¼Œè¯·æ±‚çš„èµ„æºæ‰€å¤„çš„äº’è”ç½‘ä¸»æœºåå’Œç«¯å£å·ã€‚Host é¦–éƒ¨å­—æ®µåœ¨ HTTP/1.1 è§„èŒƒå†…æ˜¯å”¯ä¸€ä¸€ä¸ªå¿…é¡»è¢«åŒ…å«åœ¨è¯·æ±‚å†…çš„é¦–éƒ¨å­—æ®µã€‚</li>
<li>If-Match:â€123456â€ ï¼šå‘ŠçŸ¥æœåŠ¡å™¨åŒ¹é…èµ„æºæ‰€ç”¨çš„å®ä½“æ ‡è®°ï¼ˆETagï¼‰å€¼</li>
<li>If-Modified-Sinceï¼šIf-Modified-Since å­—æ®µæŒ‡å®šçš„æ—¥æœŸæ—¶é—´åï¼Œèµ„æºå‘ç”Ÿäº†æ›´æ–°ï¼ŒæœåŠ¡å™¨ä¼šæ¥å—è¯·æ±‚ï¼Œå¦åˆ™è¿”å›304</li>
<li>If-None-Matchï¼šå­—æ®µå€¼ä¸Etagå€¼ä¸ä¸€è‡´ï¼Œå¯å¤„ç†è¯¥è¯·æ±‚ï¼Œå¯ç”¨äºè·å–æœ€æ–°çš„èµ„æºã€‚</li>
<li>If-Rangeï¼šå‘ŠçŸ¥æœåŠ¡å™¨è‹¥æŒ‡å®šçš„ If-Range å­—æ®µå€¼ï¼ˆETag å€¼æˆ–è€…æ—¶é—´ï¼‰å’Œè¯·æ±‚èµ„æºçš„ ETag å€¼æˆ–æ—¶é—´ç›¸ä¸€è‡´æ—¶ï¼Œåˆ™ä½œä¸ºèŒƒå›´è¯·æ±‚å¤„ç†ã€‚åä¹‹ï¼Œåˆ™è¿”å›å…¨ä½“èµ„æºã€‚</li>
<li>If-Unmodified-Sinceï¼šå¦‚æœåœ¨æŒ‡å®šçš„æ—¶é—´ä¹‹åæœåŠ¡å™¨çš„èµ„æºæœªå‘ç”Ÿæ›´æ–°ï¼Œåˆ™å¤„ç†è¯·æ±‚ï¼Œå¦åˆ™ï¼Œä»¥çŠ¶æ€ç 412ä½œä¸ºå“åº”è¿”å›ã€‚</li>
<li>Max-forwardsï¼šæŒ‡å®šè½¬å‘çš„æœ€å¤šæ¬¡æ•°ï¼Œæ¯è½¬å‘ä¸€æ¬¡ï¼Œè¯¥å€¼å‡1ã€‚ä¸º0æ—¶æœåŠ¡å™¨ç›´æ¥è¿”å›å“åº”ã€‚</li>
<li>Rangeï¼šbytes=5001-10000ï¼Œå‘ŠçŸ¥æœåŠ¡å™¨èµ„æºçš„èŒƒå›´ï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°è¯¥å­—æ®µçš„è¯·æ±‚ä¼šè¿”å›206å“åº”ï¼Œæ— æ³•å¤„ç†èŒƒå›´è¯·æ±‚æ—¶ï¼Œè¿”å›200 OK</li>
<li>Refererï¼šå‘ŠçŸ¥æœåŠ¡å™¨è¯·æ±‚çš„åŸå§‹èµ„æºçš„ URI</li>
<li>User-Agentï¼šUser-Agent ä¼šå°†åˆ›å»ºè¯·æ±‚çš„æµè§ˆå™¨å’Œç”¨æˆ·ä»£ç†åç§°ç­‰ä¿¡æ¯ä¼ è¾¾ç»™æœåŠ¡å™¨ã€‚</li>
</ul>
</li>
<li>å“åº”é¦–éƒ¨å­—æ®µ<ul>
<li>Ageï¼šæœåŠ¡å™¨åˆ›å»ºå“åº”åˆ°ç°åœ¨çš„å¸‚åœºï¼Œå¦‚æœæ˜¯ç¼“å­˜æœåŠ¡å™¨ï¼Œåˆ™è¿”å›ç¼“å­˜æœåŠ¡å™¨å†æ¬¡éªŒè¯èµ„æºçš„æœ‰æ•ˆæ€§åˆ°ç°åœ¨çš„æ—¶é—´</li>
<li>Accept-Ranges<ul>
<li>noneï¼šä¸èƒ½å¤„ç†èŒƒå›´è¯·æ±‚</li>
<li>bytesï¼šå¯ä»¥å¤„ç†èŒƒå›´è¯·æ±‚</li>
</ul>
</li>
<li>ETagï¼šå°†èµ„æºä»¥å­—ç¬¦ä¸²å½¢å¼åšå”¯ä¸€æ€§æ ‡è¯†çš„æ–¹å¼ï¼ŒæœåŠ¡å™¨ä¼šä¸ºæ¯ä¸€ä»½èµ„æºåˆ†é…å¯¹åº”çš„ETagï¼Œæœ‰å¼ºETagå’Œå¼±ETagä¹‹åˆ†</li>
<li>Locationï¼šé…åˆ3xx;edirectionçš„å“åº”ï¼Œæä¾›é‡å®šå‘çš„URI</li>
<li>Serverï¼šå‘ŠçŸ¥å®¢æˆ·ç«¯å½“å‰æœåŠ¡å™¨ä¸Šå®‰è£…çš„HttpæœåŠ¡å™¨åº”ç”¨ç¨‹åºçš„ä¿¡æ¯</li>
<li>Varyï¼šæºæœåŠ¡å™¨æ§åˆ¶ç¼“å­˜æœåŠ¡å™¨åªè¿”å›å’Œè¯¥å­—æ®µçš„å€¼ä¸€è‡´çš„ç¼“å­˜ï¼Œå¦åˆ™ï¼Œé¡»å…ˆä»æºæœåŠ¡å™¨è·å–èµ„æºåæ‰èƒ½ä½œä¸ºå“åº”è¿”å›ã€‚</li>
</ul>
</li>
<li>å®ä½“é¦–éƒ¨å­—æ®µ<ul>
<li>Allowï¼šå‘ŠçŸ¥å®¢æˆ·ç«¯æœåŠ¡å™¨æ”¯æŒçš„Httpæ–¹æ³•ï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°ä¸æ”¯æŒçš„Httpæ–¹æ³•æ—¶ï¼Œè¿”å›405åŠæ”¯æŒçš„Httpæ–¹æ³•</li>
<li>Content-Encodingï¼šå‘ŠçŸ¥å®¢æˆ·ç«¯å®ä½“çš„å†…å®¹ç¼–ç æ–¹å¼ï¼Œå³å‹ç¼©æ–¹å¼<ul>
<li>gzip</li>
<li>compress</li>
<li>deflate</li>
<li>identify</li>
</ul>
</li>
<li>Content-Languageï¼šå‘ŠçŸ¥å®¢æˆ·ç«¯å®ä½“ä¸»ä½“ä½¿ç”¨çš„è‡ªç„¶è¯­è¨€ï¼ˆä¸­æ–‡æˆ–è€…è‹±æ–‡ï¼‰</li>
<li>Content-Lengthï¼šè¡¨æ˜äº†å®ä½“ä¸»ä½“éƒ¨åˆ†çš„å¤§å°</li>
<li>Content-Locationï¼šContent-Location è¡¨ç¤ºçš„æ˜¯æŠ¥æ–‡ä¸»ä½“è¿”å›èµ„æºå¯¹åº”çš„ URIã€‚</li>
<li>Content-Range: bytes 5001-10000/10000ï¼Œè¡¨ç¤ºå½“å‰å‘é€éƒ¨åˆ†å’Œæ•´ä¸ªå®ä½“å¤§å°</li>
<li>Content-Type: text/html; charset=UTF-8ï¼Œå®ä½“ä¸»ä½“å†…å¯¹è±¡çš„åª’ä½“ç±»å‹ã€‚</li>
<li>Expiresï¼šå°†èµ„æºå¤±æ•ˆçš„æ—¥æœŸå‘Šè¯‰çš„å®¢æˆ·ç«¯ã€‚å½“è¶…è¿‡æŒ‡å®šæ—¶é—´åï¼Œç¼“å­˜åœ¨è¯·æ±‚å‘é€è¿‡æ¥æ—¶ä¼šå‘æœåŠ¡å™¨è¯·æ±‚èµ„æºï¼Œå¦åˆ™ï¼Œè¿”å›ç¼“å­˜ã€‚</li>
<li>Last-Modifiedï¼šèµ„æºæœ€ç»ˆä¿®æ”¹çš„æ—¶é—´ã€‚</li>
</ul>
</li>
<li>ä¸ºCookieæœåŠ¡çš„é¦–éƒ¨å­—æ®µ<ul>
<li>Set-Cookie<ul>
<li>NAME=VALUE</li>
<li>expires=DATEï¼Œçœç•¥æ—¶æµè§ˆå™¨ä¼šè¯ç»“æŸcookieå¤±æ•ˆã€‚ä¸€æ—¦Cookieè¢«å‘é€è‡³å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨ä¸å­˜åœ¨æ˜¾ç¤ºåˆ é™¤Cookieçš„æ–¹æ³•ã€‚å¯ä»¥é€šè¿‡è¦†ç›–ä»¥è¿‡æœŸçš„Cookieï¼Œå®ç°å®è´¨çš„åˆ é™¤æ“ä½œ</li>
<li>path=PATHï¼Œé™åˆ¶Cookieçš„å‘é€èŒƒå›´çš„æ–‡ä»¶ç›®å½•</li>
<li>domain=åŸŸåï¼Œä»¥domainæŒ‡å®šçš„åŸŸåç»“å°¾çš„åŸŸåéƒ½å¯ä»¥å‘é€Cookieï¼Œä¸æŒ‡å®šé»˜è®¤ä¸ºåˆ›å»ºCookieçš„æœåŠ¡å™¨çš„åŸŸå</li>
<li>Secureï¼Œåªåœ¨Httpså‘é€Cookie</li>
<li>HttpOnlyï¼Œä¸å…è®¸JavaScriptæ“ä½œCookie</li>
</ul>
</li>
<li>Cookieï¼šstatus=enable<h1 id="HTTPS-HTTP-Secure"><a href="#HTTPS-HTTP-Secure" class="headerlink" title="HTTPS(HTTP Secure)"></a>HTTPS(HTTP Secure)</h1></li>
</ul>
</li>
<li>SSL(Secure Socket Layer) å®‰å…¨å¥—æ¥å±‚</li>
<li>TLS(Transport Layer Security) å®‰å…¨å±‚ä¼ è¾“åè®®</li>
<li>Httpåè®®çš„ç¼ºç‚¹<ul>
<li>æ˜æ–‡å¯èƒ½è¢«çªƒå¬ï¼ˆåŠ å¯†ï¼‰</li>
<li>é€šä¿¡åŒæ–¹å¯èƒ½è¢«ä¼ªè£…ï¼ˆè®¤è¯ï¼‰</li>
<li>ä¸­é—´äººæ”»å‡»ï¼Œæ˜æ–‡å†…å®¹è¢«ç¯¡æ”¹ï¼ˆå®Œæ•´æ€§ä¿æŠ¤ï¼‰</li>
</ul>
</li>
<li>Https=HTTP+åŠ å¯†+è®¤è¯+å®Œæ•´æ€§<ul>
<li>åŠ å¯†ï¼šHttpsé‡‡ç”¨éå¯¹ç§°åŠ å¯†å’Œå¯¹ç§°åŠ å¯†æ··åˆåŠ å¯†æœºåˆ¶ã€‚å› ä¸ºå…¬å¼€å¯†é’¥åŠ å¯†å¤„ç†æ¯”å…±äº«å¯†é’¥å¤„ç†å¤æ‚ï¼Œå¦‚æœéƒ½ä½¿ç”¨å…¬å¼€å¯†é’¥åŠ å¯†é€šä¿¡ï¼Œæ•ˆç‡ä¼šå¾ˆä½ã€‚ä½¿ç”¨å…¬å¼€å¯†é’¥åŠ å¯†æ–¹å¼å®‰å…¨åœ°äº¤æ¢ç¨åå…±äº«å¯†é’¥åŠ å¯†è¦ä½¿ç”¨çš„å¯†é’¥ï¼Œç¡®ä¿äº¤æ¢çš„å¯†é’¥æ˜¯å®‰å…¨çš„å‰æä¸‹ï¼Œé‡‡ç”¨å…±äº«å¯†é’¥åŠ å¯†æ–¹å¼è¿›è¡Œé€šä¿¡ã€‚</li>
<li>è®¤è¯ï¼šç”±æœåŠ¡å™¨å‘ç¬¬ä¸‰æ–¹è®¤è¯æœºæ„ç”³è¯·æ•°å­—è¯ä¹¦ï¼Œå®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨å‘é€å¸¦æœ‰å…¬é’¥çš„è¯ä¹¦åˆ°å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯è®¤è¯æˆåŠŸåï¼Œä½¿ç”¨å…¬é’¥è¿›è¡Œå…¬å¼€å¯†é’¥åŠ å¯†æ–¹å¼ä¼ è¾“ï¼ŒæœåŠ¡å™¨ä½¿ç”¨ç§é’¥å¯¹æŠ¥æ–‡è§£å¯†</li>
<li>å®Œæ•´æ€§ï¼šåº”ç”¨å±‚å‘é€æ•°æ®æ—¶ä¼šé™„åŠ ä¸€ç§å«åš MACï¼ˆMessageAuthentication Codeï¼‰çš„æŠ¥æ–‡æ‘˜è¦ã€‚MAC èƒ½å¤ŸæŸ¥çŸ¥æŠ¥æ–‡æ˜¯å¦é­åˆ°ç¯¡<br>æ”¹ï¼Œä»è€Œä¿æŠ¤æŠ¥æ–‡çš„å®Œæ•´æ€§ã€‚<h1 id="HTTPçŠ¶æ€ç "><a href="#HTTPçŠ¶æ€ç " class="headerlink" title="HTTPçŠ¶æ€ç "></a>HTTPçŠ¶æ€ç </h1><h1 id="HTTPç”¨æˆ·èº«ä»½è®¤è¯"><a href="#HTTPç”¨æˆ·èº«ä»½è®¤è¯" class="headerlink" title="HTTPç”¨æˆ·èº«ä»½è®¤è¯"></a>HTTPç”¨æˆ·èº«ä»½è®¤è¯</h1></li>
</ul>
</li>
<li>BASICè®¤è¯</li>
<li>DIGETSè®¤è¯</li>
<li>SSLè®¤è¯</li>
<li>è¡¨å•è®¤è¯  <ul>
<li>cookieå’Œsession<br>ç”¨æˆ·é€šè¿‡IDå’Œå¯†ç ç™»å½•åï¼ŒæœåŠ¡å™¨é€šè¿‡IDå’Œå¯†ç ç”ŸæˆsessionIDï¼Œé€šè¿‡è®¾ç½®cookieçš„æ–¹å¼å°†sessionIDè¿”å›ç»™ç”¨æˆ·ï¼Œä¸ºäº†é˜²æ­¢è·¨ç«™æ”»å‡»ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºhttpOnlyã€‚ä¸€èˆ¬ä¹Ÿä¼šè®¾ç½®è¿‡æœŸæ—¶é—´ã€‚ç”¨æˆ·å†æ¬¡è®¿é—®æœåŠ¡å™¨æ—¶ï¼Œä¼šå¸¦ä¸ŠsessionIDï¼ŒæœåŠ¡å™¨æ ¹æ®sessionIDåˆ¤æ–­ç”¨æˆ·çš„èº«ä»½å’ŒçŠ¶æ€ã€‚</li>
<li>ç”¨æˆ·ä¿¡æ¯ä¿å­˜<br>é€šå¸¸ï¼Œä¸€ç§å®‰å…¨çš„ä¿å­˜æ–¹æ³•æ˜¯ï¼Œå…ˆåˆ©ç”¨ç»™å¯†ç åŠ ç›çš„æ–¹å¼å¢åŠ é¢å¤–ä¿¡æ¯ï¼Œå†ä½¿ç”¨æ•£åˆ—ï¼ˆhashï¼‰å‡½æ•°è®¡ç®—å‡ºæ•£åˆ—å€¼åä¿å­˜ã€‚<h1 id="webæ”»å‡»æŠ€æœ¯"><a href="#webæ”»å‡»æŠ€æœ¯" class="headerlink" title="webæ”»å‡»æŠ€æœ¯"></a>webæ”»å‡»æŠ€æœ¯</h1></li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/ajiangpz/blog/blog/2019/06/24/remå®ç°è‡ªé€‚åº”å¸ƒå±€/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/06/24/remå®ç°è‡ªé€‚åº”å¸ƒå±€/" itemprop="url">remå®ç°è‡ªé€‚åº”å¸ƒå±€</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-06-24T00:56:37+08:00">
                2019-06-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="remæ˜¯ä»€ä¹ˆ"><a href="#remæ˜¯ä»€ä¹ˆ" class="headerlink" title="remæ˜¯ä»€ä¹ˆ"></a>remæ˜¯ä»€ä¹ˆ</h1><p>1rem=æ ¹å…ƒç´ fontsizeçš„å€¼,å› æ­¤è®¾ç½®remçš„å€¼æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯å°†æ ¹å…ƒç´ çš„fontsizeè®¾ç½®æˆæ•´æ•°ï¼Œæ¯”å¦‚100pxï¼Œ50pxï¼Œä¸€èˆ¬ä¸æ¨èè®¾ç½®çš„å€¼å°äº12px,å› ä¸ºchromeæµè§ˆå™¨ä¼šå°†æœ‰æœ€å°å­—ä½“çš„é™åˆ¶ã€‚å¦ä¸€ç§æ–¹æ¡ˆæ˜¯å°†remè®¾ç½®æˆè®¾è®¡ç¨¿çš„æ•´æ•°å€ï¼Œæ¯”å¦‚1rem=64px,æ€»ä¹‹ï¼Œè®¾ç½®remåº”å°½é‡è®©æ•°å€¼å–æ•´ã€‚</p>
<h1 id="å¦‚ä½•é€šè¿‡jsè®¾ç½®remçš„å€¼"><a href="#å¦‚ä½•é€šè¿‡jsè®¾ç½®remçš„å€¼" class="headerlink" title="å¦‚ä½•é€šè¿‡jsè®¾ç½®remçš„å€¼"></a>å¦‚ä½•é€šè¿‡jsè®¾ç½®remçš„å€¼</h1><ul>
<li>è·å–bodyçš„å®½åº¦ 1920ï¼Œ1366ï¼Œ1080ï¼Œ760ç­‰</li>
<li></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/ajiangpz/blog/blog/2019/06/07/å±‚å ä¸Šä¸‹æ–‡/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pzzz">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pzzz's FE Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/06/07/å±‚å ä¸Šä¸‹æ–‡/" itemprop="url">å±‚å ä¸Šä¸‹æ–‡</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-06-07T23:08:22+08:00">
                2019-06-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="å±‚å ä¸Šä¸‹æ–‡"><a href="#å±‚å ä¸Šä¸‹æ–‡" class="headerlink" title="å±‚å ä¸Šä¸‹æ–‡"></a>å±‚å ä¸Šä¸‹æ–‡</h1><h3 id="å±‚å ä¸Šä¸‹æ–‡çš„æ¦‚å¿µ"><a href="#å±‚å ä¸Šä¸‹æ–‡çš„æ¦‚å¿µ" class="headerlink" title="å±‚å ä¸Šä¸‹æ–‡çš„æ¦‚å¿µ"></a>å±‚å ä¸Šä¸‹æ–‡çš„æ¦‚å¿µ</h3><ul>
<li>æŠ½è±¡çš„æ¦‚å¿µï¼Œåœ¨å±‚å ä¸Šä¸‹æ–‡ä¸­ï¼Œå…ƒç´ ä¼šæŒ‰ç…§ä¸€å®šçš„è§„åˆ™å’Œé¡ºåºè¿›è¡Œæ’åˆ—è¦†ç›–ã€‚ä¸åŒçš„å±‚å ä¸Šä¸‹æ–‡å…ƒç´ çš„å­å…ƒç´ ä¹‹é—´ä¸ä¼šç›¸äº’å½±å“ï¼Œä»–ä»¬çš„å±‚å ç­‰çº§ç”±çˆ¶å…ƒç´ å†³å®šã€‚  <h3 id="å±‚å ä¸Šä¸‹æ–‡çš„äº§ç”Ÿ"><a href="#å±‚å ä¸Šä¸‹æ–‡çš„äº§ç”Ÿ" class="headerlink" title="å±‚å ä¸Šä¸‹æ–‡çš„äº§ç”Ÿ"></a>å±‚å ä¸Šä¸‹æ–‡çš„äº§ç”Ÿ</h3></li>
<li>æ ¹å…ƒç´ </li>
<li>å®šä½å…ƒç´ ä¸”z-indexä¸ºæ•°å€¼</li>
<li>css3ï¼Œå¦‚transform,å­å…ƒç´ çš„z-indexä¸ä¸ºautoçš„flexå¸ƒå±€  <h3 id="å±‚å ä¸Šä¸‹æ–‡çš„ç‰¹ç‚¹"><a href="#å±‚å ä¸Šä¸‹æ–‡çš„ç‰¹ç‚¹" class="headerlink" title="å±‚å ä¸Šä¸‹æ–‡çš„ç‰¹ç‚¹"></a>å±‚å ä¸Šä¸‹æ–‡çš„ç‰¹ç‚¹</h3></li>
<li>åæ¥å±…ä¸Š,åŒä¸€å±‚å æ°´å¹³çš„å…ƒç´ ï¼Œæ ¹æ®å…ƒç´ åœ¨domä¸­çš„å…ˆåé¡ºåºè¿›è¡Œæ’åˆ—ã€‚</li>
<li>æ ¹æ®z-indexæˆ–å±‚å é¡ºåºæ’åˆ—</li>
</ul>
<h1 id="å±‚å é¡ºåº"><a href="#å±‚å é¡ºåº" class="headerlink" title="å±‚å é¡ºåº"></a>å±‚å é¡ºåº</h1><h3 id="å±‚å é¡ºåºè¡¨"><a href="#å±‚å é¡ºåºè¡¨" class="headerlink" title="å±‚å é¡ºåºè¡¨"></a>å±‚å é¡ºåºè¡¨</h3><ul>
<li>background/border</li>
<li>è´Ÿz-index</li>
<li>blockå—çŠ¶å…ƒç´ </li>
<li>floatæµ®åŠ¨ç›’å­</li>
<li>inline/inline-blockç›’å­</li>
<li>z-indexä¸º0æˆ–è€…autoï¼Œä¸ä¾èµ–z-indexçš„å±‚å ä¸Šä¸‹æ–‡</li>
<li>æ­£z-index</li>
<li><a href="https://ajiangpz.github.io/css/%E5%B1%82%E5%8F%A0%E4%B8%8A%E4%B8%8B%E6%96%87/z-index.html" target="_blank" rel="noopener">å±‚å é¡ºåºæ¼”ç¤º</a><h3 id="ç‰¹æ®Šæƒ…å†µ"><a href="#ç‰¹æ®Šæƒ…å†µ" class="headerlink" title="ç‰¹æ®Šæƒ…å†µ"></a>ç‰¹æ®Šæƒ…å†µ</h3></li>
<li>å…ƒç´ ä¸€æ—¦å®šä½ï¼Œå…¶z-indexè‡ªåŠ¨ç”Ÿæ•ˆé»˜è®¤å€¼ä¸ºautoï¼Œç­‰ä»·äº0<br>ä¸ä¸ä¾èµ–z-indexçš„å±‚å ä¸Šä¸‹æ–‡ï¼ˆå¦‚css3ï¼‰å±‚å ç­‰çº§ç›¸åŒï¼Œéµå¾ªåæ¥å±…ä¸Šçš„åŸåˆ™ã€‚</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/blog/">1</a><a class="page-number" href="/blog/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/blog/page/4/">4</a><a class="extend next" rel="next" href="/blog/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Pzzz</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/blog/archives/">
              
                  <span class="site-state-item-count">33</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Pzzz</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/blog/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
